# Open-UAV-Telemetry-Bridge Configuration
# Copy this file to config.yaml and modify as needed

server:
  log_level: info  # debug, info, warn, error

# MAVLink Adapter Configuration
mavlink:
  enabled: true
  connection_type: udp   # udp | tcp | serial
  address: "0.0.0.0:14550"
  # For serial connection:
  # connection_type: serial
  # serial_port: "/dev/ttyUSB0"
  # serial_baud: 57600

# DJI Forwarder Adapter Configuration
dji:
  enabled: false
  listen_address: "0.0.0.0:14560"  # TCP server for Android forwarder
  max_clients: 10                   # Maximum concurrent DJI forwarder connections

# MQTT Publisher Configuration
mqtt:
  enabled: true
  broker: "tcp://localhost:1883"
  client_id: "outb-001"
  topic_prefix: "uav/telemetry"
  qos: 1
  # username: ""
  # password: ""
  lwt:
    enabled: true
    topic: "uav/status"
    message: "offline"

# HTTP API Configuration
http:
  enabled: true
  address: "0.0.0.0:8080"
  cors_enabled: true
  cors_origins: ["*"]

# Frequency Throttling Configuration
throttle:
  default_rate_hz: 1.0   # Normal reporting rate
  min_rate_hz: 0.5       # Minimum rate during idle
  max_rate_hz: 10.0      # Maximum rate during alerts

# Coordinate Conversion Configuration (for China maps)
coordinate:
  convert_gcj02: true    # Convert to GCJ02 (Amap, Tencent, Google China)
  convert_bd09: false    # Convert to BD09 (Baidu Maps)
