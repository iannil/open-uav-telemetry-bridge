(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))p(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&p(g)}).observe(document,{childList:!0,subtree:!0});function m(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function p(r){if(r.ep)return;r.ep=!0;const d=m(r);fetch(r.href,d)}})();function lu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var fh={exports:{}},gl={};var Gm;function u_(){if(Gm)return gl;Gm=1;var o=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function m(p,r,d){var g=null;if(d!==void 0&&(g=""+d),r.key!==void 0&&(g=""+r.key),"key"in r){d={};for(var x in r)x!=="key"&&(d[x]=r[x])}else d=r;return r=d.ref,{$$typeof:o,type:p,key:g,ref:r!==void 0?r:null,props:d}}return gl.Fragment=_,gl.jsx=m,gl.jsxs=m,gl}var qm;function c_(){return qm||(qm=1,fh.exports=u_()),fh.exports}var c=c_(),mh={exports:{}},Mt={};var Vm;function h_(){if(Vm)return Mt;Vm=1;var o=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),H=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=H&&N[H]||N["@@iterator"],typeof N=="function"?N:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,R={};function at(N,q,tt){this.props=N,this.context=q,this.refs=R,this.updater=tt||K}at.prototype.isReactComponent={},at.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},at.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function et(){}et.prototype=at.prototype;function nt(N,q,tt){this.props=N,this.context=q,this.refs=R,this.updater=tt||K}var yt=nt.prototype=new et;yt.constructor=nt,V(yt,at.prototype),yt.isPureReactComponent=!0;var mt=Array.isArray;function rt(){}var dt={H:null,A:null,T:null,S:null},Et=Object.prototype.hasOwnProperty;function Dt(N,q,tt){var it=tt.ref;return{$$typeof:o,type:N,key:q,ref:it!==void 0?it:null,props:tt}}function Ct(N,q){return Dt(N.type,q,N.props)}function gt(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function lt(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return q[tt]})}var he=/\/+/g;function ft(N,q){return typeof N=="object"&&N!==null&&N.key!=null?lt(""+N.key):q.toString(36)}function ut(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(rt,rt):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function C(N,q,tt,it,st){var ct=typeof N;(ct==="undefined"||ct==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(ct){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case o:case _:St=!0;break;case T:return St=N._init,C(St(N._payload),q,tt,it,st)}}if(St)return st=st(N),St=it===""?"."+ft(N,0):it,mt(st)?(tt="",St!=null&&(tt=St.replace(he,"$&/")+"/"),C(st,q,tt,"",function(re){return re})):st!=null&&(gt(st)&&(st=Ct(st,tt+(st.key==null||N&&N.key===st.key?"":(""+st.key).replace(he,"$&/")+"/")+St)),q.push(st)),1;St=0;var Qt=it===""?".":it+":";if(mt(N))for(var Gt=0;Gt<N.length;Gt++)it=N[Gt],ct=Qt+ft(it,Gt),St+=C(it,q,tt,ct,st);else if(Gt=I(N),typeof Gt=="function")for(N=Gt.call(N),Gt=0;!(it=N.next()).done;)it=it.value,ct=Qt+ft(it,Gt++),St+=C(it,q,tt,ct,st);else if(ct==="object"){if(typeof N.then=="function")return C(ut(N),q,tt,it,st);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(N,q,tt){if(N==null)return N;var it=[],st=0;return C(N,it,"","",function(ct){return q.call(tt,ct,st++)}),it}function B(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},$={map:X,forEach:function(N,q,tt){X(N,function(){q.apply(this,arguments)},tt)},count:function(N){var q=0;return X(N,function(){q++}),q},toArray:function(N){return X(N,function(q){return q})||[]},only:function(N){if(!gt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Mt.Activity=M,Mt.Children=$,Mt.Component=at,Mt.Fragment=m,Mt.Profiler=r,Mt.PureComponent=nt,Mt.StrictMode=p,Mt.Suspense=b,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return dt.H.useMemoCache(N)}},Mt.cache=function(N){return function(){return N.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(N,q,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=V({},N.props),st=N.key;if(q!=null)for(ct in q.key!==void 0&&(st=""+q.key),q)!Et.call(q,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&q.ref===void 0||(it[ct]=q[ct]);var ct=arguments.length-2;if(ct===1)it.children=tt;else if(1<ct){for(var St=Array(ct),Qt=0;Qt<ct;Qt++)St[Qt]=arguments[Qt+2];it.children=St}return Dt(N.type,st,it)},Mt.createContext=function(N){return N={$$typeof:g,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},Mt.createElement=function(N,q,tt){var it,st={},ct=null;if(q!=null)for(it in q.key!==void 0&&(ct=""+q.key),q)Et.call(q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(st[it]=q[it]);var St=arguments.length-2;if(St===1)st.children=tt;else if(1<St){for(var Qt=Array(St),Gt=0;Gt<St;Gt++)Qt[Gt]=arguments[Gt+2];st.children=Qt}if(N&&N.defaultProps)for(it in St=N.defaultProps,St)st[it]===void 0&&(st[it]=St[it]);return Dt(N,ct,st)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(N){return{$$typeof:x,render:N}},Mt.isValidElement=gt,Mt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:B}},Mt.memo=function(N,q){return{$$typeof:w,type:N,compare:q===void 0?null:q}},Mt.startTransition=function(N){var q=dt.T,tt={};dt.T=tt;try{var it=N(),st=dt.S;st!==null&&st(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(rt,ht)}catch(ct){ht(ct)}finally{q!==null&&tt.types!==null&&(q.types=tt.types),dt.T=q}},Mt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},Mt.use=function(N){return dt.H.use(N)},Mt.useActionState=function(N,q,tt){return dt.H.useActionState(N,q,tt)},Mt.useCallback=function(N,q){return dt.H.useCallback(N,q)},Mt.useContext=function(N){return dt.H.useContext(N)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(N,q){return dt.H.useDeferredValue(N,q)},Mt.useEffect=function(N,q){return dt.H.useEffect(N,q)},Mt.useEffectEvent=function(N){return dt.H.useEffectEvent(N)},Mt.useId=function(){return dt.H.useId()},Mt.useImperativeHandle=function(N,q,tt){return dt.H.useImperativeHandle(N,q,tt)},Mt.useInsertionEffect=function(N,q){return dt.H.useInsertionEffect(N,q)},Mt.useLayoutEffect=function(N,q){return dt.H.useLayoutEffect(N,q)},Mt.useMemo=function(N,q){return dt.H.useMemo(N,q)},Mt.useOptimistic=function(N,q){return dt.H.useOptimistic(N,q)},Mt.useReducer=function(N,q,tt){return dt.H.useReducer(N,q,tt)},Mt.useRef=function(N){return dt.H.useRef(N)},Mt.useState=function(N){return dt.H.useState(N)},Mt.useSyncExternalStore=function(N,q,tt){return dt.H.useSyncExternalStore(N,q,tt)},Mt.useTransition=function(){return dt.H.useTransition()},Mt.version="19.2.3",Mt}var Ym;function zh(){return Ym||(Ym=1,mh.exports=h_()),mh.exports}var k=zh();const cs=lu(k);var ph={exports:{}},_l={},gh={exports:{}},_h={};var Xm;function d_(){return Xm||(Xm=1,(function(o){function _(C,X){var B=C.length;C.push(X);t:for(;0<B;){var ht=B-1>>>1,$=C[ht];if(0<r($,X))C[ht]=X,C[B]=$,B=ht;else break t}}function m(C){return C.length===0?null:C[0]}function p(C){if(C.length===0)return null;var X=C[0],B=C.pop();if(B!==X){C[0]=B;t:for(var ht=0,$=C.length,N=$>>>1;ht<N;){var q=2*(ht+1)-1,tt=C[q],it=q+1,st=C[it];if(0>r(tt,B))it<$&&0>r(st,tt)?(C[ht]=st,C[it]=B,ht=it):(C[ht]=tt,C[q]=B,ht=q);else if(it<$&&0>r(st,B))C[ht]=st,C[it]=B,ht=it;else break t}}return X}function r(C,X){var B=C.sortIndex-X.sortIndex;return B!==0?B:C.id-X.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var g=Date,x=g.now();o.unstable_now=function(){return g.now()-x}}var b=[],w=[],T=1,M=null,H=3,I=!1,K=!1,V=!1,R=!1,at=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function yt(C){for(var X=m(w);X!==null;){if(X.callback===null)p(w);else if(X.startTime<=C)p(w),X.sortIndex=X.expirationTime,_(b,X);else break;X=m(w)}}function mt(C){if(V=!1,yt(C),!K)if(m(b)!==null)K=!0,rt||(rt=!0,lt());else{var X=m(w);X!==null&&ut(mt,X.startTime-C)}}var rt=!1,dt=-1,Et=5,Dt=-1;function Ct(){return R?!0:!(o.unstable_now()-Dt<Et)}function gt(){if(R=!1,rt){var C=o.unstable_now();Dt=C;var X=!0;try{t:{K=!1,V&&(V=!1,et(dt),dt=-1),I=!0;var B=H;try{e:{for(yt(C),M=m(b);M!==null&&!(M.expirationTime>C&&Ct());){var ht=M.callback;if(typeof ht=="function"){M.callback=null,H=M.priorityLevel;var $=ht(M.expirationTime<=C);if(C=o.unstable_now(),typeof $=="function"){M.callback=$,yt(C),X=!0;break e}M===m(b)&&p(b),yt(C)}else p(b);M=m(b)}if(M!==null)X=!0;else{var N=m(w);N!==null&&ut(mt,N.startTime-C),X=!1}}break t}finally{M=null,H=B,I=!1}X=void 0}}finally{X?lt():rt=!1}}}var lt;if(typeof nt=="function")lt=function(){nt(gt)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ft=he.port2;he.port1.onmessage=gt,lt=function(){ft.postMessage(null)}}else lt=function(){at(gt,0)};function ut(C,X){dt=at(function(){C(o.unstable_now())},X)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(C){C.callback=null},o.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<C?Math.floor(1e3/C):5},o.unstable_getCurrentPriorityLevel=function(){return H},o.unstable_next=function(C){switch(H){case 1:case 2:case 3:var X=3;break;default:X=H}var B=H;H=X;try{return C()}finally{H=B}},o.unstable_requestPaint=function(){R=!0},o.unstable_runWithPriority=function(C,X){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=H;H=C;try{return X()}finally{H=B}},o.unstable_scheduleCallback=function(C,X,B){var ht=o.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ht+B:ht):B=ht,C){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,C={id:T++,callback:X,priorityLevel:C,startTime:B,expirationTime:$,sortIndex:-1},B>ht?(C.sortIndex=B,_(w,C),m(b)===null&&C===m(w)&&(V?(et(dt),dt=-1):V=!0,ut(mt,B-ht))):(C.sortIndex=$,_(b,C),K||I||(K=!0,rt||(rt=!0,lt()))),C},o.unstable_shouldYield=Ct,o.unstable_wrapCallback=function(C){var X=H;return function(){var B=H;H=X;try{return C.apply(this,arguments)}finally{H=B}}}})(_h)),_h}var Im;function f_(){return Im||(Im=1,gh.exports=d_()),gh.exports}var vh={exports:{}},He={};var Qm;function m_(){if(Qm)return He;Qm=1;var o=zh();function _(b){var w="https://react.dev/errors/"+b;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)w+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var p={d:{f:m,r:function(){throw Error(_(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(b,w,T){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:M==null?null:""+M,children:b,containerInfo:w,implementation:T}}var g=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(b,w){if(b==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,He.createPortal=function(b,w){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(_(299));return d(b,w,null,T)},He.flushSync=function(b){var w=g.T,T=p.p;try{if(g.T=null,p.p=2,b)return b()}finally{g.T=w,p.p=T,p.d.f()}},He.preconnect=function(b,w){typeof b=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,p.d.C(b,w))},He.prefetchDNS=function(b){typeof b=="string"&&p.d.D(b)},He.preinit=function(b,w){if(typeof b=="string"&&w&&typeof w.as=="string"){var T=w.as,M=x(T,w.crossOrigin),H=typeof w.integrity=="string"?w.integrity:void 0,I=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;T==="style"?p.d.S(b,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:M,integrity:H,fetchPriority:I}):T==="script"&&p.d.X(b,{crossOrigin:M,integrity:H,fetchPriority:I,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},He.preinitModule=function(b,w){if(typeof b=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var T=x(w.as,w.crossOrigin);p.d.M(b,{crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&p.d.M(b)},He.preload=function(b,w){if(typeof b=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var T=w.as,M=x(T,w.crossOrigin);p.d.L(b,T,{crossOrigin:M,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},He.preloadModule=function(b,w){if(typeof b=="string")if(w){var T=x(w.as,w.crossOrigin);p.d.m(b,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:T,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else p.d.m(b)},He.requestFormReset=function(b){p.d.r(b)},He.unstable_batchedUpdates=function(b,w){return b(w)},He.useFormState=function(b,w,T){return g.H.useFormState(b,w,T)},He.useFormStatus=function(){return g.H.useHostTransitionStatus()},He.version="19.2.3",He}var Km;function mp(){if(Km)return vh.exports;Km=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(_){console.error(_)}}return o(),vh.exports=m_(),vh.exports}var Fm;function p_(){if(Fm)return _l;Fm=1;var o=f_(),_=zh(),m=mp();function p(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function g(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(d(t)!==t)throw Error(p(188))}function w(t){var e=t.alternate;if(!e){if(e=d(t),e===null)throw Error(p(188));return e!==t?null:t}for(var i=t,s=e;;){var u=i.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){i=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===i)return b(u),t;if(h===s)return b(u),e;h=h.sibling}throw Error(p(188))}if(i.return!==s.return)i=u,s=h;else{for(var y=!1,E=u.child;E;){if(E===i){y=!0,i=u,s=h;break}if(E===s){y=!0,s=u,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,s=u;break}if(E===s){y=!0,s=h,i=u;break}E=E.sibling}if(!y)throw Error(p(189))}}if(i.alternate!==s)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?t:e}function T(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=T(t),e!==null)return e;t=t.sibling}return null}var M=Object.assign,H=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Dt=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=gt&&t[gt]||t["@@iterator"],typeof t=="function"?t:null)}var he=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===he?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case at:return"Profiler";case R:return"StrictMode";case mt:return"Suspense";case rt:return"SuspenseList";case Dt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case nt:return t.displayName||"Context";case et:return(t._context.displayName||"Context")+".Consumer";case yt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dt:return e=t.displayName||null,e!==null?e:ft(t.type)||"Memo";case Et:e=t._payload,t=t._init;try{return ft(t(e))}catch{}}return null}var ut=Array.isArray,C=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ht=[],$=-1;function N(t){return{current:t}}function q(t){0>$||(t.current=ht[$],ht[$]=null,$--)}function tt(t,e){$++,ht[$]=t.current,t.current=e}var it=N(null),st=N(null),ct=N(null),St=N(null);function Qt(t,e){switch(tt(ct,e),tt(st,t),tt(it,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hm(e),t=dm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(it),tt(it,t)}function Gt(){q(it),q(st),q(ct)}function re(t){t.memoizedState!==null&&tt(St,t);var e=it.current,i=dm(e,t.type);e!==i&&(tt(st,t),tt(it,i))}function De(t){st.current===t&&(q(it),q(st)),St.current===t&&(q(St),dl._currentValue=B)}var Ze,jn;function oi(t){if(Ze===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ze=e&&e[1]||"",jn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+t+jn}var fs=!1;function ms(t,e){if(!t||fs)return"";fs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var G=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){G=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){G=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var D=y.split(`
`),P=E.split(`
`);for(u=s=0;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;for(;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;if(s===D.length||u===P.length)for(s=D.length-1,u=P.length-1;1<=s&&0<=u&&D[s]!==P[u];)u--;for(;1<=s&&0<=u;s--,u--)if(D[s]!==P[u]){if(s!==1||u!==1)do if(s--,u--,0>u||D[s]!==P[u]){var Q=`
`+D[s].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=s&&0<=u);break}}}finally{fs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?oi(i):""}function cr(t,e){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==e&&e!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return oi("Activity");default:return""}}function ba(t){try{var e="",i=null;do e+=cr(t,i),i=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var hr=Object.prototype.hasOwnProperty,ps=o.unstable_scheduleCallback,La=o.unstable_cancelCallback,Tl=o.unstable_shouldYield,Ml=o.unstable_requestPaint,Ge=o.unstable_now,pu=o.unstable_getCurrentPriorityLevel,gs=o.unstable_ImmediatePriority,dr=o.unstable_UserBlockingPriority,wa=o.unstable_NormalPriority,gu=o.unstable_LowPriority,fr=o.unstable_IdlePriority,Nl=o.log,_u=o.unstable_setDisableYieldValue,Ri=null,ze=null;function kn(t){if(typeof Nl=="function"&&_u(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ri,t)}catch{}}var qe=Math.clz32?Math.clz32:yu,Sa=Math.log,vu=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(Sa(t)/vu|0)|0}var Ea=256,Ta=262144,Ma=4194304;function ui(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _s(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?u=ui(s):(y&=E,y!==0?u=ui(y):i||(i=E&~t,i!==0&&(u=ui(i))))):(E=s&~h,E!==0?u=ui(E):y!==0?u=ui(y):i||(i=s&~t,i!==0&&(u=ui(i)))),u===0?0:e!==0&&e!==u&&(e&h)===0&&(h=u&-u,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:u}function Na(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function xu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var t=Ma;return Ma<<=1,(Ma&62914560)===0&&(Ma=4194304),t}function mr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ci(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bu(t,e,i,s,u,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(i=y&~i;0<i;){var Q=31-qe(i),W=1<<Q;E[Q]=0,D[Q]=-1;var G=P[Q];if(G!==null)for(P[Q]=null,Q=0;Q<G.length;Q++){var Y=G[Q];Y!==null&&(Y.lane&=-536870913)}i&=~W}s!==0&&jl(t,s,0),h!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function jl(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-qe(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&261930}function kl(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-qe(i),u=1<<s;u&e|t[s]&e&&(t[s]|=e),i&=~u}}function Dl(t,e){var i=e&-e;return i=(i&42)!==0?1:Ie(i),(i&(t.suspendedLanes|e))!==0?0:i}function Ie(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pr(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Om(t.type))}function gr(t,e){var i=X.p;try{return X.p=t,e()}finally{X.p=i}}var Dn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Dn,Me="__reactProps$"+Dn,hi="__reactContainer$"+Dn,Vn="__reactEvents$"+Dn,zl="__reactListeners$"+Dn,Lu="__reactHandles$"+Dn,Al="__reactResources$"+Dn,Ca="__reactMarker$"+Dn;function _r(t){delete t[ve],delete t[Me],delete t[Vn],delete t[zl],delete t[Lu]}function di(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[hi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=ym(t);t!==null;){if(i=t[ve])return i;t=ym(t)}return e}t=i,i=t.parentNode}return null}function Bi(t){if(t=t[ve]||t[hi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Yn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(p(33))}function Ui(t){var e=t[Al];return e||(e=t[Al]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Ca]=!0}var Ol=new Set,Rl={};function fi(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(Rl[t]=e,t=0;t<e.length;t++)Ol.add(e[t])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vr={},yr={};function ka(t){return hr.call(yr,t)?!0:hr.call(vr,t)?!1:ja.test(t)?yr[t]=!0:(vr[t]=!0,!1)}function zt(t,e,i){if(ka(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Wt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Qe(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}function Se(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xr(t,e,i){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,h=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return u.call(this)},set:function(y){i=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tt(t){if(!t._valueTracker){var e=mi(t)?"checked":"value";t._valueTracker=xr(t,e,""+t[e])}}function le(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=mi(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function ae(t){return t.replace(vs,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function br(t,e,i,s,u,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Se(e)):t.value!==""+Se(e)&&(t.value=""+Se(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?zn(t,y,Se(e)):i!=null?zn(t,y,Se(i)):s!=null&&t.removeAttribute("value"),u==null&&h!=null&&(t.defaultChecked=!!h),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Se(E):t.removeAttribute("name")}function Da(t,e,i,s,u,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null)){Tt(t);return}i=i!=null?""+Se(i):"",e=e!=null?""+Se(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=E?t.checked:!!s,t.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Tt(t)}function zn(t,e,i){e==="number"&&Pi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ne(t,e,i,s){if(t=t.options,e){e={};for(var u=0;u<i.length;u++)e["$"+i[u]]=!0;for(i=0;i<t.length;i++)u=e.hasOwnProperty("$"+t[i].value),t[i].selected!==u&&(t[i].selected=u),u&&s&&(t[i].defaultSelected=!0)}else{for(i=""+Se(i),e=null,u=0;u<t.length;u++){if(t[u].value===i){t[u].selected=!0,s&&(t[u].defaultSelected=!0);return}e!==null||t[u].disabled||(e=t[u])}e!==null&&(e.selected=!0)}}function In(t,e,i){if(e!=null&&(e=""+Se(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Se(i):""}function Hi(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(p(92));if(ut(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=Se(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s),Tt(t)}function vn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zi(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||Lr.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function ys(t,e,i){if(e!=null&&typeof e!="object")throw Error(p(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var u in e)s=e[u],e.hasOwnProperty(u)&&i[u]!==s&&Zi(t,u,s)}else for(var h in e)e.hasOwnProperty(h)&&Zi(t,h,e[h])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(t){return wr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ke(){}var bs=null;function Aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,wt=null;function rn(t){var e=Bi(t);if(e&&(t=e.stateNode)){var i=t[Me]||null;t:switch(t=e.stateNode,e.type){case"input":if(br(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ae(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var u=s[Me]||null;if(!u)throw Error(p(90));br(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&le(s)}break t;case"textarea":In(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&ne(t,!!i.multiple,e,!1)}}}var Kt=!1;function Sr(t,e,i){if(Kt)return t(e,i);Kt=!0;try{var s=t(e);return s}finally{if(Kt=!1,(qi!==null||wt!==null)&&(zo(),qi&&(e=qi,t=wt,wt=qi=null,rn(e),t)))for(e=0;e<t.length;e++)rn(t[e])}}function pi(t,e){var i=t.stateNode;if(i===null)return null;var s=i[Me]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(p(231,e,typeof i));return i}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=!1;if(ln)try{var on={};Object.defineProperty(on,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{Oa=!1}var yn=null,gi=null,de=null;function Qn(){if(de)return de;var t,e=gi,i=e.length,s,u="value"in yn?yn.value:yn.textContent,h=u.length;for(t=0;t<i&&e[t]===u[t];t++);var y=i-t;for(s=1;s<=y&&e[i-s]===u[h-s];s++);return de=u.slice(t,1<s?1-s:void 0)}function Ra(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ba(){return!0}function Bl(){return!1}function Ae(t){function e(i,s,u,h,y){this._reactName=i,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ba:Bl,this.isPropagationStopped=Bl,this}return M(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),e}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Ae(An),Vi=M({},An,{view:0,detail:0}),Bt=Ae(Vi),Er,Ve,On,Ua=M({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==On&&(On&&t.type==="mousemove"?(Er=t.screenX-On.screenX,Ve=t.screenY-On.screenY):Ve=Er=0,On=t),Er)},movementY:function(t){return"movementY"in t?t.movementY:Ve}}),Ul=Ae(Ua),Tr=M({},Ua,{dataTransfer:0}),wu=Ae(Tr),Pl=M({},Vi,{relatedTarget:0}),Mr=Ae(Pl),Su=M({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=Ae(Su),Eu=M({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=Ae(Eu),Tu=M({},An,{data:0}),Cr=Ae(Tu),Kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zl[t])?!!e[t]:!1}function kr(){return jr}var Gl=M({},Vi,{key:function(t){if(t.key){var e=Kn[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ql=Ae(Gl),Mu=M({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Ae(Mu),Dr=M({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),Nu=Ae(Dr),Yl=M({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xl=Ae(Yl),ws=M({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_i=Ae(ws),Cu=M({},An,{newState:0,oldState:0}),Pa=Ae(Cu),Fe=[9,13,27,32],Ss=ln&&"CompositionEvent"in window,Yi=null;ln&&"documentMode"in document&&(Yi=document.documentMode);var ju=ln&&"TextEvent"in window&&!Yi,Es=ln&&(!Ss||Yi&&8<Yi&&11>=Yi),Ts=" ",Il=!1;function Ql(t,e){switch(t){case"keyup":return Fe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function un(t,e){switch(t){case"compositionend":return zr(e);case"keypress":return e.which!==32?null:(Il=!0,Ts);case"textInput":return t=e.data,t===Ts&&Il?null:t;default:return null}}function Ii(t,e){if(Xi)return t==="compositionend"||!Ss&&Ql(t,e)?(t=Qn(),de=gi=yn=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Es&&e.locale!=="ko"?null:e.data;default:return null}}var ku={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ku[t.type]:e==="textarea"}function Kl(t,e,i,s){qi?wt?wt.push(s):wt=[s]:qi=s,e=Ho(e,"onChange"),0<e.length&&(i=new Ls("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Ln=null,Ha=null;function Za(t){sm(t,0)}function Ga(t){var e=Yn(t);if(le(e))return t}function qa(t,e){if(t==="change")return e}var Fl=!1;if(ln){var wn;if(ln){var Qi="oninput"in document;if(!Qi){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),Qi=typeof Jl.oninput=="function"}wn=Qi}else wn=!1;Fl=wn&&(!document.documentMode||9<document.documentMode)}function Ms(){Ln&&(Ln.detachEvent("onpropertychange",Wl),Ha=Ln=null)}function Wl(t){if(t.propertyName==="value"&&Ga(Ha)){var e=[];Kl(e,Ha,t,Aa(t)),Sr(Za,e)}}function Rn(t,e,i){t==="focusin"?(Ms(),Ln=e,Ha=i,Ln.attachEvent("onpropertychange",Wl)):t==="focusout"&&Ms()}function Du(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(Ha)}function Ki(t,e){if(t==="click")return Ga(e)}function zu(t,e){if(t==="input"||t==="change")return Ga(e)}function Bn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ne=typeof Object.is=="function"?Object.is:Bn;function Fi(t,e){if(Ne(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var u=i[s];if(!hr.call(e,u)||!Ne(t[u],e[u]))return!1}return!0}function Ns(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Va(t,e){var i=Ns(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ns(i)}}function Cs(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cs(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ya(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pi(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Pi(t.document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var js=ln&&"documentMode"in document&&11>=document.documentMode,Jn=null,ks=null,Xa=null,Ji=!1;function $l(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ji||Jn==null||Jn!==Pi(s)||(s=Jn,"selectionStart"in s&&Fn(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xa&&Fi(Xa,s)||(Xa=s,s=Ho(ks,"onSelect"),0<s.length&&(e=new Ls("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Jn)))}function Wn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Wi={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Ds={},to={};ln&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Ce(t){if(Ds[t])return Ds[t];if(!Wi[t])return t;var e=Wi[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in to)return Ds[t]=e[i];return t}var Ia=Ce("animationend"),eo=Ce("animationiteration"),Qa=Ce("animationstart"),Au=Ce("transitionrun"),no=Ce("transitionstart"),Ou=Ce("transitioncancel"),$i=Ce("transitionend"),io=new Map,$n="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$n.push("scrollEnd");function Je(t,e){io.set(t,e),fi(e,[t])}var Ka=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},We=[],Ue=0,zs=0;function Fa(){for(var t=Ue,e=zs=Ue=0;e<t;){var i=We[e];We[e++]=null;var s=We[e];We[e++]=null;var u=We[e];We[e++]=null;var h=We[e];if(We[e++]=null,s!==null&&u!==null){var y=s.pending;y===null?u.next=u:(u.next=y.next,y.next=u),s.pending=u}h!==0&&ta(i,u,h)}}function ti(t,e,i,s){We[Ue++]=t,We[Ue++]=e,We[Ue++]=i,We[Ue++]=s,zs|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Ar(t,e,i,s){return ti(t,e,i,s),Ja(t)}function Sn(t,e){return ti(t,null,null,e),Ja(t)}function ta(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var u=!1,h=t.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(u=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,u&&e!==null&&(u=31-qe(i),t=h.hiddenUpdates,s=t[u],s===null?t[u]=[e]:s.push(e),e.lane=i|536870912),h):null}function Ja(t){if(50<sl)throw sl=0,Bc=null,Error(p(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var vi={};function Ru(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(t,e,i,s){return new Ru(t,e,i,s)}function As(t){return t=t.prototype,!(!t||!t.isReactComponent)}function En(t,e){var i=t.alternate;return i===null?(i=Pe(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Or(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Wa(t,e,i,s,u,h){var y=0;if(s=t,typeof t=="function")As(t)&&(y=1);else if(typeof t=="string")y=Jg(t,i,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Dt:return t=Pe(31,i,e,u),t.elementType=Dt,t.lanes=h,t;case V:return yi(i.children,u,h,e);case R:y=8,u|=24;break;case at:return t=Pe(12,i,e,u|2),t.elementType=at,t.lanes=h,t;case mt:return t=Pe(13,i,e,u),t.elementType=mt,t.lanes=h,t;case rt:return t=Pe(19,i,e,u),t.elementType=rt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:y=10;break t;case et:y=9;break t;case yt:y=11;break t;case dt:y=14;break t;case Et:y=16,s=null;break t}y=29,i=Error(p(130,t===null?"null":typeof t,"")),s=null}return e=Pe(y,i,e,u),e.elementType=t,e.type=s,e.lanes=h,e}function yi(t,e,i,s){return t=Pe(7,t,s,e),t.lanes=i,t}function Os(t,e,i){return t=Pe(6,t,null,e),t.lanes=i,t}function Rr(t){var e=Pe(18,null,null,0);return e.stateNode=t,e}function Br(t,e,i){return e=Pe(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function a(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ba(e)},n.set(t,e),e)}return{value:t,source:e,stack:ba(e)}}var l=[],f=0,v=null,S=0,j=[],O=0,Z=null,J=1,ot="";function xt(t,e){l[f++]=S,l[f++]=v,v=t,S=e}function jt(t,e,i){j[O++]=J,j[O++]=ot,j[O++]=Z,Z=t;var s=J;t=ot;var u=32-qe(s)-1;s&=~(1<<u),i+=1;var h=32-qe(e)+u;if(30<h){var y=u-u%5;h=(s&(1<<y)-1).toString(32),s>>=y,u-=y,J=1<<32-qe(e)+u|i<<u|s,ot=h+t}else J=1<<h|i<<u|s,ot=t}function Ee(t){t.return!==null&&(xt(t,1),jt(t,1,0))}function fe(t){for(;t===v;)v=l[--f],l[f]=null,S=l[--f],l[f]=null;for(;t===Z;)Z=j[--O],j[O]=null,ot=j[--O],j[O]=null,J=j[--O],j[O]=null}function Ye(t,e){j[O++]=J,j[O++]=ot,j[O++]=Z,J=e.id,ot=e.overflow,Z=t}var qt=null,Vt=null,At=!1,ei=null,$e=!1,Rs=Error(p(519));function ni(t){var e=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(a(e,t)),Rs}function Ur(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[ve]=t,e[Me]=s,i){case"dialog":Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":case"embed":Rt("load",e);break;case"video":case"audio":for(i=0;i<ll.length;i++)Rt(ll[i],e);break;case"source":Rt("error",e);break;case"img":case"image":case"link":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"input":Rt("invalid",e),Da(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Rt("invalid",e);break;case"textarea":Rt("invalid",e),Hi(e,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||um(e.textContent,i)?(s.popover!=null&&(Rt("beforetoggle",e),Rt("toggle",e)),s.onScroll!=null&&Rt("scroll",e),s.onScrollEnd!=null&&Rt("scrollend",e),s.onClick!=null&&(e.onclick=Ke),e=!0):e=!1,e||ni(t,!0)}function ce(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:$e=!1;return;case 27:case 3:$e=!0;return;default:qt=qt.return}}function Un(t){if(t!==qt)return!1;if(!At)return ce(t),At=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wc(t.type,t.memoizedProps)),i=!i),i&&Vt&&ni(t),ce(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(p(317));Vt=vm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(p(317));Vt=vm(t)}else e===27?(e=Vt,ma(t.type)?(t=ih,ih=null,Vt=t):Vt=e):Vt=qt?Mn(t.stateNode.nextSibling):null;return!0}function xi(){Vt=qt=null,At=!1}function Pr(){var t=ei;return t!==null&&(an===null?an=t:an.push.apply(an,t),ei=null),t}function $a(t){ei===null?ei=[t]:ei.push(t)}var ts=N(null),ii=null,Pn=null;function ea(t,e,i){tt(ts,e._currentValue),e._currentValue=i}function bi(t){t._currentValue=ts.current,q(ts)}function Bu(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Uu(t,e,i,s){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){var y=u.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=u;for(var D=0;D<e.length;D++)if(E.context===e[D]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Bu(h.return,i,t),s||(y=null);break t}h=E.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(p(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),Bu(y,i,t),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Bs(t,e,i,s){t=null;for(var u=e,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(p(387));if(y=y.memoizedProps,y!==null){var E=u.type;Ne(u.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(u===St.current){if(y=u.alternate,y===null)throw Error(p(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}u=u.return}t!==null&&Uu(e,t,i,s),e.flags|=262144}function ao(t){for(t=t.firstContext;t!==null;){if(!Ne(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){ii=t,Pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Oe(t){return Ih(ii,t)}function so(t,e){return ii===null&&es(t),Ih(t,e)}function Ih(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Pn===null){if(t===null)throw Error(p(308));Pn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pn=Pn.next=e;return i}var Ip=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Qp=o.unstable_scheduleCallback,Kp=o.unstable_NormalPriority,xe={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new Ip,data:new Map,refCount:0}}function Hr(t){t.refCount--,t.refCount===0&&Qp(Kp,function(){t.controller.abort()})}var Zr=null,Hu=0,Us=0,Ps=null;function Fp(t,e){if(Zr===null){var i=Zr=[];Hu=0,Us=qc(),Ps={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Hu++,e.then(Qh,Qh),e}function Qh(){if(--Hu===0&&Zr!==null){Ps!==null&&(Ps.status="fulfilled");var t=Zr;Zr=null,Us=0,Ps=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Jp(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var u=0;u<i.length;u++)(0,i[u])(e)},function(u){for(s.status="rejected",s.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),s}var Kh=C.S;C.S=function(t,e){zf=Ge(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Fp(t,e),Kh!==null&&Kh(t,e)};var ns=N(null);function Zu(){var t=ns.current;return t!==null?t:ie.pooledCache}function ro(t,e){e===null?tt(ns,ns.current):tt(ns,e.pool)}function Fh(){var t=Zu();return t===null?null:{parent:xe._currentValue,pool:t}}var Hs=Error(p(460)),Gu=Error(p(474)),lo=Error(p(542)),oo={then:function(){}};function Jh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wh(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Ke,Ke),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,td(t),t;default:if(typeof e.status=="string")e.then(Ke,Ke);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(p(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var u=e;u.status="fulfilled",u.value=s}},function(s){if(e.status==="pending"){var u=e;u.status="rejected",u.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,td(t),t}throw as=e,Hs}}function is(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(as=i,Hs):i}}var as=null;function $h(){if(as===null)throw Error(p(459));var t=as;return as=null,t}function td(t){if(t===Hs||t===lo)throw Error(p(483))}var Zs=null,Gr=0;function uo(t){var e=Gr;return Gr+=1,Zs===null&&(Zs=[]),Wh(Zs,t,e)}function qr(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function co(t,e){throw e.$$typeof===H?Error(p(525)):(t=Object.prototype.toString.call(e),Error(p(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ed(t){function e(A,z){if(t){var U=A.deletions;U===null?(A.deletions=[z],A.flags|=16):U.push(z)}}function i(A,z){if(!t)return null;for(;z!==null;)e(A,z),z=z.sibling;return null}function s(A){for(var z=new Map;A!==null;)A.key!==null?z.set(A.key,A):z.set(A.index,A),A=A.sibling;return z}function u(A,z){return A=En(A,z),A.index=0,A.sibling=null,A}function h(A,z,U){return A.index=U,t?(U=A.alternate,U!==null?(U=U.index,U<z?(A.flags|=67108866,z):U):(A.flags|=67108866,z)):(A.flags|=1048576,z)}function y(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function E(A,z,U,F){return z===null||z.tag!==6?(z=Os(U,A.mode,F),z.return=A,z):(z=u(z,U),z.return=A,z)}function D(A,z,U,F){var bt=U.type;return bt===V?Q(A,z,U.props.children,F,U.key):z!==null&&(z.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Et&&is(bt)===z.type)?(z=u(z,U.props),qr(z,U),z.return=A,z):(z=Wa(U.type,U.key,U.props,null,A.mode,F),qr(z,U),z.return=A,z)}function P(A,z,U,F){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=Br(U,A.mode,F),z.return=A,z):(z=u(z,U.children||[]),z.return=A,z)}function Q(A,z,U,F,bt){return z===null||z.tag!==7?(z=yi(U,A.mode,F,bt),z.return=A,z):(z=u(z,U),z.return=A,z)}function W(A,z,U){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Os(""+z,A.mode,U),z.return=A,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return U=Wa(z.type,z.key,z.props,null,A.mode,U),qr(U,z),U.return=A,U;case K:return z=Br(z,A.mode,U),z.return=A,z;case Et:return z=is(z),W(A,z,U)}if(ut(z)||lt(z))return z=yi(z,A.mode,U,null),z.return=A,z;if(typeof z.then=="function")return W(A,uo(z),U);if(z.$$typeof===nt)return W(A,so(A,z),U);co(A,z)}return null}function G(A,z,U,F){var bt=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return bt!==null?null:E(A,z,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case I:return U.key===bt?D(A,z,U,F):null;case K:return U.key===bt?P(A,z,U,F):null;case Et:return U=is(U),G(A,z,U,F)}if(ut(U)||lt(U))return bt!==null?null:Q(A,z,U,F,null);if(typeof U.then=="function")return G(A,z,uo(U),F);if(U.$$typeof===nt)return G(A,z,so(A,U),F);co(A,U)}return null}function Y(A,z,U,F,bt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return A=A.get(U)||null,E(z,A,""+F,bt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return A=A.get(F.key===null?U:F.key)||null,D(z,A,F,bt);case K:return A=A.get(F.key===null?U:F.key)||null,P(z,A,F,bt);case Et:return F=is(F),Y(A,z,U,F,bt)}if(ut(F)||lt(F))return A=A.get(U)||null,Q(z,A,F,bt,null);if(typeof F.then=="function")return Y(A,z,U,uo(F),bt);if(F.$$typeof===nt)return Y(A,z,U,so(z,F),bt);co(z,F)}return null}function pt(A,z,U,F){for(var bt=null,Yt=null,_t=z,kt=z=0,Pt=null;_t!==null&&kt<U.length;kt++){_t.index>kt?(Pt=_t,_t=null):Pt=_t.sibling;var Xt=G(A,_t,U[kt],F);if(Xt===null){_t===null&&(_t=Pt);break}t&&_t&&Xt.alternate===null&&e(A,_t),z=h(Xt,z,kt),Yt===null?bt=Xt:Yt.sibling=Xt,Yt=Xt,_t=Pt}if(kt===U.length)return i(A,_t),At&&xt(A,kt),bt;if(_t===null){for(;kt<U.length;kt++)_t=W(A,U[kt],F),_t!==null&&(z=h(_t,z,kt),Yt===null?bt=_t:Yt.sibling=_t,Yt=_t);return At&&xt(A,kt),bt}for(_t=s(_t);kt<U.length;kt++)Pt=Y(_t,A,kt,U[kt],F),Pt!==null&&(t&&Pt.alternate!==null&&_t.delete(Pt.key===null?kt:Pt.key),z=h(Pt,z,kt),Yt===null?bt=Pt:Yt.sibling=Pt,Yt=Pt);return t&&_t.forEach(function(ya){return e(A,ya)}),At&&xt(A,kt),bt}function Lt(A,z,U,F){if(U==null)throw Error(p(151));for(var bt=null,Yt=null,_t=z,kt=z=0,Pt=null,Xt=U.next();_t!==null&&!Xt.done;kt++,Xt=U.next()){_t.index>kt?(Pt=_t,_t=null):Pt=_t.sibling;var ya=G(A,_t,Xt.value,F);if(ya===null){_t===null&&(_t=Pt);break}t&&_t&&ya.alternate===null&&e(A,_t),z=h(ya,z,kt),Yt===null?bt=ya:Yt.sibling=ya,Yt=ya,_t=Pt}if(Xt.done)return i(A,_t),At&&xt(A,kt),bt;if(_t===null){for(;!Xt.done;kt++,Xt=U.next())Xt=W(A,Xt.value,F),Xt!==null&&(z=h(Xt,z,kt),Yt===null?bt=Xt:Yt.sibling=Xt,Yt=Xt);return At&&xt(A,kt),bt}for(_t=s(_t);!Xt.done;kt++,Xt=U.next())Xt=Y(_t,A,kt,Xt.value,F),Xt!==null&&(t&&Xt.alternate!==null&&_t.delete(Xt.key===null?kt:Xt.key),z=h(Xt,z,kt),Yt===null?bt=Xt:Yt.sibling=Xt,Yt=Xt);return t&&_t.forEach(function(o_){return e(A,o_)}),At&&xt(A,kt),bt}function ee(A,z,U,F){if(typeof U=="object"&&U!==null&&U.type===V&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case I:t:{for(var bt=U.key;z!==null;){if(z.key===bt){if(bt=U.type,bt===V){if(z.tag===7){i(A,z.sibling),F=u(z,U.props.children),F.return=A,A=F;break t}}else if(z.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Et&&is(bt)===z.type){i(A,z.sibling),F=u(z,U.props),qr(F,U),F.return=A,A=F;break t}i(A,z);break}else e(A,z);z=z.sibling}U.type===V?(F=yi(U.props.children,A.mode,F,U.key),F.return=A,A=F):(F=Wa(U.type,U.key,U.props,null,A.mode,F),qr(F,U),F.return=A,A=F)}return y(A);case K:t:{for(bt=U.key;z!==null;){if(z.key===bt)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){i(A,z.sibling),F=u(z,U.children||[]),F.return=A,A=F;break t}else{i(A,z);break}else e(A,z);z=z.sibling}F=Br(U,A.mode,F),F.return=A,A=F}return y(A);case Et:return U=is(U),ee(A,z,U,F)}if(ut(U))return pt(A,z,U,F);if(lt(U)){if(bt=lt(U),typeof bt!="function")throw Error(p(150));return U=bt.call(U),Lt(A,z,U,F)}if(typeof U.then=="function")return ee(A,z,uo(U),F);if(U.$$typeof===nt)return ee(A,z,so(A,U),F);co(A,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,z!==null&&z.tag===6?(i(A,z.sibling),F=u(z,U),F.return=A,A=F):(i(A,z),F=Os(U,A.mode,F),F.return=A,A=F),y(A)):i(A,z)}return function(A,z,U,F){try{Gr=0;var bt=ee(A,z,U,F);return Zs=null,bt}catch(_t){if(_t===Hs||_t===lo)throw _t;var Yt=Pe(29,_t,null,A.mode);return Yt.lanes=F,Yt.return=A,Yt}}}var ss=ed(!0),nd=ed(!1),na=!1;function qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(It&2)!==0){var u=s.pending;return u===null?e.next=e:(e.next=u.next,u.next=e),s.pending=e,e=Ja(t),ta(t,null,i),e}return ti(t,s,e,i),Ja(t)}function Vr(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,kl(t,i)}}function Yu(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var u=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?u=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?u=h=e:h=h.next=e}else u=h=e;i={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Xu=!1;function Yr(){if(Xu){var t=Ps;if(t!==null)throw t}}function Xr(t,e,i,s){Xu=!1;var u=t.updateQueue;na=!1;var h=u.firstBaseUpdate,y=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var D=E,P=D.next;D.next=null,y===null?h=P:y.next=P,y=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=D))}if(h!==null){var W=u.baseState;y=0,Q=P=D=null,E=h;do{var G=E.lane&-536870913,Y=G!==E.lane;if(Y?(Ut&G)===G:(s&G)===G){G!==0&&G===Us&&(Xu=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,Lt=E;G=e;var ee=i;switch(Lt.tag){case 1:if(pt=Lt.payload,typeof pt=="function"){W=pt.call(ee,W,G);break t}W=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Lt.payload,G=typeof pt=="function"?pt.call(ee,W,G):pt,G==null)break t;W=M({},W,G);break t;case 2:na=!0}}G=E.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=u.callbacks,Y===null?u.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=Y,D=W):Q=Q.next=Y,y|=G;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,u.lastBaseUpdate=Y,u.shared.pending=null}}while(!0);Q===null&&(D=W),u.baseState=D,u.firstBaseUpdate=P,u.lastBaseUpdate=Q,h===null&&(u.shared.lanes=0),ua|=y,t.lanes=y,t.memoizedState=W}}function id(t,e){if(typeof t!="function")throw Error(p(191,t));t.call(e)}function ad(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)id(i[t],e)}var Gs=N(null),ho=N(0);function sd(t,e){t=ji,tt(ho,t),tt(Gs,e),ji=t|e.baseLanes}function Iu(){tt(ho,ji),tt(Gs,Gs.current)}function Qu(){ji=ho.current,q(Gs),q(ho)}var cn=N(null),Tn=null;function sa(t){var e=t.alternate;tt(ge,ge.current&1),tt(cn,t),Tn===null&&(e===null||Gs.current!==null||e.memoizedState!==null)&&(Tn=t)}function Ku(t){tt(ge,ge.current),tt(cn,t),Tn===null&&(Tn=t)}function rd(t){t.tag===22?(tt(ge,ge.current),tt(cn,t),Tn===null&&(Tn=t)):ra()}function ra(){tt(ge,ge.current),tt(cn,cn.current)}function hn(t){q(cn),Tn===t&&(Tn=null),q(ge)}var ge=N(0);function fo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||eh(i)||nh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Li=0,Nt=null,$t=null,be=null,mo=!1,qs=!1,rs=!1,po=0,Ir=0,Vs=null,Wp=0;function me(){throw Error(p(321))}function Fu(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ne(t[i],e[i]))return!1;return!0}function Ju(t,e,i,s,u,h){return Li=h,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,C.H=t===null||t.memoizedState===null?qd:dc,rs=!1,h=i(s,u),rs=!1,qs&&(h=od(e,i,s,u)),ld(t),h}function ld(t){C.H=Fr;var e=$t!==null&&$t.next!==null;if(Li=0,be=$t=Nt=null,mo=!1,Ir=0,Vs=null,e)throw Error(p(300));t===null||Le||(t=t.dependencies,t!==null&&ao(t)&&(Le=!0))}function od(t,e,i,s){Nt=t;var u=0;do{if(qs&&(Vs=null),Ir=0,qs=!1,25<=u)throw Error(p(301));if(u+=1,be=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}C.H=Vd,h=e(i,s)}while(qs);return h}function $p(){var t=C.H,e=t.useState()[0];return e=typeof e.then=="function"?Qr(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Nt.flags|=1024),e}function Wu(){var t=po!==0;return po=0,t}function $u(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function tc(t){if(mo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}mo=!1}Li=0,be=$t=Nt=null,qs=!1,Ir=po=0,Vs=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Nt.memoizedState=be=t:be=be.next=t,be}function _e(){if($t===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=be===null?Nt.memoizedState:be.next;if(e!==null)be=e,$t=t;else{if(t===null)throw Nt.alternate===null?Error(p(467)):Error(p(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},be===null?Nt.memoizedState=be=t:be=be.next=t}return be}function go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(t){var e=Ir;return Ir+=1,Vs===null&&(Vs=[]),t=Wh(Vs,t,e),e=Nt,(be===null?e.memoizedState:be.next)===null&&(e=e.alternate,C.H=e===null||e.memoizedState===null?qd:dc),t}function _o(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qr(t);if(t.$$typeof===nt)return Oe(t)}throw Error(p(438,String(t)))}function ec(t){var e=null,i=Nt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=Nt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(u){return u.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=go(),Nt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=Ct;return e.index++,i}function wi(t,e){return typeof e=="function"?e(t):e}function vo(t){var e=_e();return nc(e,$t,t)}function nc(t,e,i){var s=t.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var u=t.baseQueue,h=s.pending;if(h!==null){if(u!==null){var y=u.next;u.next=h.next,h.next=y}e.baseQueue=u=h,s.pending=null}if(h=t.baseState,u===null)t.memoizedState=h;else{e=u.next;var E=y=null,D=null,P=e,Q=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Ut&W)===W:(Li&W)===W){var G=P.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===Us&&(Q=!0);else if((Li&G)===G){P=P.next,G===Us&&(Q=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=W,y=h):D=D.next=W,Nt.lanes|=G,ua|=G;W=P.action,rs&&i(h,W),h=P.hasEagerState?P.eagerState:i(h,W)}else G={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=G,y=h):D=D.next=G,Nt.lanes|=W,ua|=W;P=P.next}while(P!==null&&P!==e);if(D===null?y=h:D.next=E,!Ne(h,t.memoizedState)&&(Le=!0,Q&&(i=Ps,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=D,s.lastRenderedState=h}return u===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function ic(t){var e=_e(),i=e.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=t;var s=i.dispatch,u=i.pending,h=e.memoizedState;if(u!==null){i.pending=null;var y=u=u.next;do h=t(h,y.action),y=y.next;while(y!==u);Ne(h,e.memoizedState)||(Le=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,s]}function ud(t,e,i){var s=Nt,u=_e(),h=At;if(h){if(i===void 0)throw Error(p(407));i=i()}else i=e();var y=!Ne(($t||u).memoizedState,i);if(y&&(u.memoizedState=i,Le=!0),u=u.queue,rc(dd.bind(null,s,u,t),[t]),u.getSnapshot!==e||y||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,Ys(9,{destroy:void 0},hd.bind(null,s,u,i,e),null),ie===null)throw Error(p(349));h||(Li&127)!==0||cd(s,e,i)}return i}function cd(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Nt.updateQueue,e===null?(e=go(),Nt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function hd(t,e,i,s){e.value=i,e.getSnapshot=s,fd(e)&&md(t)}function dd(t,e,i){return i(function(){fd(e)&&md(t)})}function fd(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ne(t,i)}catch{return!0}}function md(t){var e=Sn(t,2);e!==null&&sn(e,t,2)}function ac(t){var e=Xe();if(typeof t=="function"){var i=t;if(t=i(),rs){kn(!0);try{i()}finally{kn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},e}function pd(t,e,i,s){return t.baseState=i,nc(t,$t,typeof s=="function"?s:wi)}function tg(t,e,i,s,u){if(bo(t))throw Error(p(485));if(t=e.action,t!==null){var h={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};C.T!==null?i(!0):h.isTransition=!1,s(h),i=e.pending,i===null?(h.next=e.pending=h,gd(e,h)):(h.next=i.next,e.pending=i.next=h)}}function gd(t,e){var i=e.action,s=e.payload,u=t.state;if(e.isTransition){var h=C.T,y={};C.T=y;try{var E=i(u,s),D=C.S;D!==null&&D(y,E),_d(t,e,E)}catch(P){sc(t,e,P)}finally{h!==null&&y.types!==null&&(h.types=y.types),C.T=h}}else try{h=i(u,s),_d(t,e,h)}catch(P){sc(t,e,P)}}function _d(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){vd(t,e,s)},function(s){return sc(t,e,s)}):vd(t,e,i)}function vd(t,e,i){e.status="fulfilled",e.value=i,yd(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,gd(t,i)))}function sc(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,yd(e),e=e.next;while(e!==s)}t.action=null}function yd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function xd(t,e){return e}function bd(t,e){if(At){var i=ie.formState;if(i!==null){t:{var s=Nt;if(At){if(Vt){e:{for(var u=Vt,h=$e;u.nodeType!==8;){if(!h){u=null;break e}if(u=Mn(u.nextSibling),u===null){u=null;break e}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Vt=Mn(u.nextSibling),s=u.data==="F!";break t}}ni(s)}s=!1}s&&(e=i[0])}}return i=Xe(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:e},i.queue=s,i=Hd.bind(null,Nt,s),s.dispatch=i,s=ac(!1),h=hc.bind(null,Nt,!1,s.queue),s=Xe(),u={state:e,dispatch:null,action:t,pending:null},s.queue=u,i=tg.bind(null,Nt,u,h,i),u.dispatch=i,s.memoizedState=t,[e,i,!1]}function Ld(t){var e=_e();return wd(e,$t,t)}function wd(t,e,i){if(e=nc(t,e,xd)[0],t=vo(wi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Qr(e)}catch(y){throw y===Hs?lo:y}else s=e;e=_e();var u=e.queue,h=u.dispatch;return i!==e.memoizedState&&(Nt.flags|=2048,Ys(9,{destroy:void 0},eg.bind(null,u,i),null)),[s,h,t]}function eg(t,e){t.action=e}function Sd(t){var e=_e(),i=$t;if(i!==null)return wd(e,i,t);_e(),e=e.memoizedState,i=_e();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function Ys(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=go(),Nt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Ed(){return _e().memoizedState}function yo(t,e,i,s){var u=Xe();Nt.flags|=t,u.memoizedState=Ys(1|e,{destroy:void 0},i,s===void 0?null:s)}function xo(t,e,i,s){var u=_e();s=s===void 0?null:s;var h=u.memoizedState.inst;$t!==null&&s!==null&&Fu(s,$t.memoizedState.deps)?u.memoizedState=Ys(e,h,i,s):(Nt.flags|=t,u.memoizedState=Ys(1|e,h,i,s))}function Td(t,e){yo(8390656,8,t,e)}function rc(t,e){xo(2048,8,t,e)}function ng(t){Nt.flags|=4;var e=Nt.updateQueue;if(e===null)e=go(),Nt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Md(t){var e=_e().memoizedState;return ng({ref:e,nextImpl:t}),function(){if((It&2)!==0)throw Error(p(440));return e.impl.apply(void 0,arguments)}}function Nd(t,e){return xo(4,2,t,e)}function Cd(t,e){return xo(4,4,t,e)}function jd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kd(t,e,i){i=i!=null?i.concat([t]):null,xo(4,4,jd.bind(null,e,t),i)}function lc(){}function Dd(t,e){var i=_e();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&Fu(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function zd(t,e){var i=_e();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&Fu(e,s[1]))return s[0];if(s=t(),rs){kn(!0);try{t()}finally{kn(!1)}}return i.memoizedState=[s,e],s}function oc(t,e,i){return i===void 0||(Li&1073741824)!==0&&(Ut&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=Of(),Nt.lanes|=t,ua|=t,i)}function Ad(t,e,i,s){return Ne(i,e)?i:Gs.current!==null?(t=oc(t,i,s),Ne(t,e)||(Le=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(Ut&261930)===0?(Le=!0,t.memoizedState=i):(t=Of(),Nt.lanes|=t,ua|=t,e)}function Od(t,e,i,s,u){var h=X.p;X.p=h!==0&&8>h?h:8;var y=C.T,E={};C.T=E,hc(t,!1,e,i);try{var D=u(),P=C.S;if(P!==null&&P(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=Jp(D,s);Kr(t,e,Q,mn(t))}else Kr(t,e,s,mn(t))}catch(W){Kr(t,e,{then:function(){},status:"rejected",reason:W},mn())}finally{X.p=h,y!==null&&E.types!==null&&(y.types=E.types),C.T=y}}function ig(){}function uc(t,e,i,s){if(t.tag!==5)throw Error(p(476));var u=Rd(t).queue;Od(t,u,e,B,i===null?ig:function(){return Bd(t),i(s)})}function Rd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:B},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Bd(t){var e=Rd(t);e.next===null&&(e=t.alternate.memoizedState),Kr(t,e.next.queue,{},mn())}function cc(){return Oe(dl)}function Ud(){return _e().memoizedState}function Pd(){return _e().memoizedState}function ag(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=mn();t=ia(i);var s=aa(e,t,i);s!==null&&(sn(s,e,i),Vr(s,e,i)),e={cache:Pu()},t.payload=e;return}e=e.return}}function sg(t,e,i){var s=mn();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},bo(t)?Zd(e,i):(i=Ar(t,e,i,s),i!==null&&(sn(i,t,s),Gd(i,e,s)))}function Hd(t,e,i){var s=mn();Kr(t,e,i,s)}function Kr(t,e,i,s){var u={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(bo(t))Zd(e,u);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,E=h(y,i);if(u.hasEagerState=!0,u.eagerState=E,Ne(E,y))return ti(t,e,u,0),ie===null&&Fa(),!1}catch{}if(i=Ar(t,e,u,s),i!==null)return sn(i,t,s),Gd(i,e,s),!0}return!1}function hc(t,e,i,s){if(s={lane:2,revertLane:qc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},bo(t)){if(e)throw Error(p(479))}else e=Ar(t,i,s,2),e!==null&&sn(e,t,2)}function bo(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function Zd(t,e){qs=mo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Gd(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,kl(t,i)}}var Fr={readContext:Oe,use:_o,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Fr.useEffectEvent=me;var qd={readContext:Oe,use:_o,useCallback:function(t,e){return Xe().memoizedState=[t,e===void 0?null:e],t},useContext:Oe,useEffect:Td,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,yo(4194308,4,jd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){yo(4,2,t,e)},useMemo:function(t,e){var i=Xe();e=e===void 0?null:e;var s=t();if(rs){kn(!0);try{t()}finally{kn(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=Xe();if(i!==void 0){var u=i(e);if(rs){kn(!0);try{i(e)}finally{kn(!1)}}}else u=e;return s.memoizedState=s.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},s.queue=t,t=t.dispatch=sg.bind(null,Nt,t),[s.memoizedState,t]},useRef:function(t){var e=Xe();return t={current:t},e.memoizedState=t},useState:function(t){t=ac(t);var e=t.queue,i=Hd.bind(null,Nt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:lc,useDeferredValue:function(t,e){var i=Xe();return oc(i,t,e)},useTransition:function(){var t=ac(!1);return t=Od.bind(null,Nt,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=Nt,u=Xe();if(At){if(i===void 0)throw Error(p(407));i=i()}else{if(i=e(),ie===null)throw Error(p(349));(Ut&127)!==0||cd(s,e,i)}u.memoizedState=i;var h={value:i,getSnapshot:e};return u.queue=h,Td(dd.bind(null,s,h,t),[t]),s.flags|=2048,Ys(9,{destroy:void 0},hd.bind(null,s,h,i,e),null),i},useId:function(){var t=Xe(),e=ie.identifierPrefix;if(At){var i=ot,s=J;i=(s&~(1<<32-qe(s)-1)).toString(32)+i,e="_"+e+"R_"+i,i=po++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Wp++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:cc,useFormState:bd,useActionState:bd,useOptimistic:function(t){var e=Xe();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=hc.bind(null,Nt,!0,i),i.dispatch=e,[t,e]},useMemoCache:ec,useCacheRefresh:function(){return Xe().memoizedState=ag.bind(null,Nt)},useEffectEvent:function(t){var e=Xe(),i={impl:t};return e.memoizedState=i,function(){if((It&2)!==0)throw Error(p(440));return i.impl.apply(void 0,arguments)}}},dc={readContext:Oe,use:_o,useCallback:Dd,useContext:Oe,useEffect:rc,useImperativeHandle:kd,useInsertionEffect:Nd,useLayoutEffect:Cd,useMemo:zd,useReducer:vo,useRef:Ed,useState:function(){return vo(wi)},useDebugValue:lc,useDeferredValue:function(t,e){var i=_e();return Ad(i,$t.memoizedState,t,e)},useTransition:function(){var t=vo(wi)[0],e=_e().memoizedState;return[typeof t=="boolean"?t:Qr(t),e]},useSyncExternalStore:ud,useId:Ud,useHostTransitionStatus:cc,useFormState:Ld,useActionState:Ld,useOptimistic:function(t,e){var i=_e();return pd(i,$t,t,e)},useMemoCache:ec,useCacheRefresh:Pd};dc.useEffectEvent=Md;var Vd={readContext:Oe,use:_o,useCallback:Dd,useContext:Oe,useEffect:rc,useImperativeHandle:kd,useInsertionEffect:Nd,useLayoutEffect:Cd,useMemo:zd,useReducer:ic,useRef:Ed,useState:function(){return ic(wi)},useDebugValue:lc,useDeferredValue:function(t,e){var i=_e();return $t===null?oc(i,t,e):Ad(i,$t.memoizedState,t,e)},useTransition:function(){var t=ic(wi)[0],e=_e().memoizedState;return[typeof t=="boolean"?t:Qr(t),e]},useSyncExternalStore:ud,useId:Ud,useHostTransitionStatus:cc,useFormState:Sd,useActionState:Sd,useOptimistic:function(t,e){var i=_e();return $t!==null?pd(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Pd};Vd.useEffectEvent=Md;function fc(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:M({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var mc={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=mn(),u=ia(s);u.payload=e,i!=null&&(u.callback=i),e=aa(t,u,s),e!==null&&(sn(e,t,s),Vr(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=mn(),u=ia(s);u.tag=1,u.payload=e,i!=null&&(u.callback=i),e=aa(t,u,s),e!==null&&(sn(e,t,s),Vr(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=mn(),s=ia(i);s.tag=2,e!=null&&(s.callback=e),e=aa(t,s,i),e!==null&&(sn(e,t,i),Vr(e,t,i))}};function Yd(t,e,i,s,u,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,y):e.prototype&&e.prototype.isPureReactComponent?!Fi(i,s)||!Fi(u,h):!0}function Xd(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function ls(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=M({},i));for(var u in t)i[u]===void 0&&(i[u]=t[u])}return i}function Id(t){Ka(t)}function Qd(t){console.error(t)}function Kd(t){Ka(t)}function Lo(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Fd(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function pc(t,e,i){return i=ia(i),i.tag=3,i.payload={element:null},i.callback=function(){Lo(t,e)},i}function Jd(t){return t=ia(t),t.tag=3,t}function Wd(t,e,i,s){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;t.payload=function(){return u(h)},t.callback=function(){Fd(e,i,s)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Fd(e,i,s),typeof u!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function rg(t,e,i,s,u){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&Bs(e,i,u,!0),i=cn.current,i!==null){switch(i.tag){case 31:case 13:return Tn===null?Ao():i.alternate===null&&pe===0&&(pe=3),i.flags&=-257,i.flags|=65536,i.lanes=u,s===oo?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),Hc(t,s,u)),!1;case 22:return i.flags|=65536,s===oo?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),Hc(t,s,u)),!1}throw Error(p(435,i.tag))}return Hc(t,s,u),Ao(),!1}if(At)return e=cn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=u,s!==Rs&&(t=Error(p(422),{cause:s}),$a(a(t,i)))):(s!==Rs&&(e=Error(p(423),{cause:s}),$a(a(e,i))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,s=a(s,i),u=pc(t.stateNode,s,u),Yu(t,u),pe!==4&&(pe=2)),!1;var h=Error(p(520),{cause:s});if(h=a(h,i),al===null?al=[h]:al.push(h),pe!==4&&(pe=2),e===null)return!0;s=a(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=u&-u,i.lanes|=t,t=pc(i.stateNode,s,t),Yu(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ca===null||!ca.has(h))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Jd(u),Wd(u,t,i,s),Yu(i,u),!1}i=i.return}while(i!==null);return!1}var gc=Error(p(461)),Le=!1;function Re(t,e,i,s){e.child=t===null?nd(e,null,i,s):ss(e,t.child,i,s)}function $d(t,e,i,s,u){i=i.render;var h=e.ref;if("ref"in s){var y={};for(var E in s)E!=="ref"&&(y[E]=s[E])}else y=s;return es(e),s=Ju(t,e,i,y,h,u),E=Wu(),t!==null&&!Le?($u(t,e,u),Si(t,e,u)):(At&&E&&Ee(e),e.flags|=1,Re(t,e,s,u),e.child)}function tf(t,e,i,s,u){if(t===null){var h=i.type;return typeof h=="function"&&!As(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ef(t,e,h,s,u)):(t=Wa(i.type,null,s,e,e.mode,u),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!Sc(t,u)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:Fi,i(y,s)&&t.ref===e.ref)return Si(t,e,u)}return e.flags|=1,t=En(h,s),t.ref=e.ref,t.return=e,e.child=t}function ef(t,e,i,s,u){if(t!==null){var h=t.memoizedProps;if(Fi(h,s)&&t.ref===e.ref)if(Le=!1,e.pendingProps=s=h,Sc(t,u))(t.flags&131072)!==0&&(Le=!0);else return e.lanes=t.lanes,Si(t,e,u)}return _c(t,e,i,s,u)}function nf(t,e,i,s){var u=s.children,h=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,t!==null){for(s=e.child=t.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~h}else s=0,e.child=null;return af(t,e,h,i,s)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ro(e,h!==null?h.cachePool:null),h!==null?sd(e,h):Iu(),rd(e);else return s=e.lanes=536870912,af(t,e,h!==null?h.baseLanes|i:i,i,s)}else h!==null?(ro(e,h.cachePool),sd(e,h),ra(),e.memoizedState=null):(t!==null&&ro(e,null),Iu(),ra());return Re(t,e,u,i),e.child}function Jr(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function af(t,e,i,s,u){var h=Zu();return h=h===null?null:{parent:xe._currentValue,pool:h},e.memoizedState={baseLanes:i,cachePool:h},t!==null&&ro(e,null),Iu(),rd(e),t!==null&&Bs(t,e,s,!0),e.childLanes=u,null}function wo(t,e){return e=Eo({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function sf(t,e,i){return ss(e,t.child,null,i),t=wo(e,e.pendingProps),t.flags|=2,hn(e),e.memoizedState=null,t}function lg(t,e,i){var s=e.pendingProps,u=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(At){if(s.mode==="hidden")return t=wo(e,s),e.lanes=536870912,Jr(null,t);if(Ku(e),(t=Vt)?(t=_m(t,$e),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Z!==null?{id:J,overflow:ot}:null,retryLane:536870912,hydrationErrors:null},i=Rr(t),i.return=e,e.child=i,qt=e,Vt=null)):t=null,t===null)throw ni(e);return e.lanes=536870912,null}return wo(e,s)}var h=t.memoizedState;if(h!==null){var y=h.dehydrated;if(Ku(e),u)if(e.flags&256)e.flags&=-257,e=sf(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(p(558));else if(Le||Bs(t,e,i,!1),u=(i&t.childLanes)!==0,Le||u){if(s=ie,s!==null&&(y=Dl(s,i),y!==0&&y!==h.retryLane))throw h.retryLane=y,Sn(t,y),sn(s,t,y),gc;Ao(),e=sf(t,e,i)}else t=h.treeContext,Vt=Mn(y.nextSibling),qt=e,At=!0,ei=null,$e=!1,t!==null&&Ye(e,t),e=wo(e,s),e.flags|=4096;return e}return t=En(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function So(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(p(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function _c(t,e,i,s,u){return es(e),i=Ju(t,e,i,s,void 0,u),s=Wu(),t!==null&&!Le?($u(t,e,u),Si(t,e,u)):(At&&s&&Ee(e),e.flags|=1,Re(t,e,i,u),e.child)}function rf(t,e,i,s,u,h){return es(e),e.updateQueue=null,i=od(e,s,i,u),ld(t),s=Wu(),t!==null&&!Le?($u(t,e,h),Si(t,e,h)):(At&&s&&Ee(e),e.flags|=1,Re(t,e,i,h),e.child)}function lf(t,e,i,s,u){if(es(e),e.stateNode===null){var h=vi,y=i.contextType;typeof y=="object"&&y!==null&&(h=Oe(y)),h=new i(s,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mc,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=s,h.state=e.memoizedState,h.refs={},qu(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?Oe(y):vi,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(fc(e,i,y,s),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&mc.enqueueReplaceState(h,h.state,null),Xr(e,s,h,u),Yr(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){h=e.stateNode;var E=e.memoizedProps,D=ls(i,E);h.props=D;var P=h.context,Q=i.contextType;y=vi,typeof Q=="object"&&Q!==null&&(y=Oe(Q));var W=i.getDerivedStateFromProps;Q=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||P!==y)&&Xd(e,h,s,y),na=!1;var G=e.memoizedState;h.state=G,Xr(e,s,h,u),Yr(),P=e.memoizedState,E||G!==P||na?(typeof W=="function"&&(fc(e,i,W,s),P=e.memoizedState),(D=na||Yd(e,i,D,s,G,P,y))?(Q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=P),h.props=s,h.state=P,h.context=y,s=D):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{h=e.stateNode,Vu(t,e),y=e.memoizedProps,Q=ls(i,y),h.props=Q,W=e.pendingProps,G=h.context,P=i.contextType,D=vi,typeof P=="object"&&P!==null&&(D=Oe(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==W||G!==D)&&Xd(e,h,s,D),na=!1,G=e.memoizedState,h.state=G,Xr(e,s,h,u),Yr();var Y=e.memoizedState;y!==W||G!==Y||na||t!==null&&t.dependencies!==null&&ao(t.dependencies)?(typeof E=="function"&&(fc(e,i,E,s),Y=e.memoizedState),(Q=na||Yd(e,i,Q,s,G,Y,D)||t!==null&&t.dependencies!==null&&ao(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Y,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Y,D)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=Y),h.props=s,h.state=Y,h.context=D,s=Q):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&G===t.memoizedState||(e.flags|=1024),s=!1)}return h=s,So(t,e),s=(e.flags&128)!==0,h||s?(h=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&s?(e.child=ss(e,t.child,null,u),e.child=ss(e,null,i,u)):Re(t,e,i,u),e.memoizedState=h.state,t=e.child):t=Si(t,e,u),t}function of(t,e,i,s){return xi(),e.flags|=256,Re(t,e,i,s),e.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(t){return{baseLanes:t,cachePool:Fh()}}function xc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=fn),t}function uf(t,e,i){var s=e.pendingProps,u=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),y&&(u=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(At){if(u?sa(e):ra(),(t=Vt)?(t=_m(t,$e),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Z!==null?{id:J,overflow:ot}:null,retryLane:536870912,hydrationErrors:null},i=Rr(t),i.return=e,e.child=i,qt=e,Vt=null)):t=null,t===null)throw ni(e);return nh(t)?e.lanes=32:e.lanes=536870912,null}var E=s.children;return s=s.fallback,u?(ra(),u=e.mode,E=Eo({mode:"hidden",children:E},u),s=yi(s,u,i,null),E.return=e,s.return=e,E.sibling=s,e.child=E,s=e.child,s.memoizedState=yc(i),s.childLanes=xc(t,y,i),e.memoizedState=vc,Jr(null,s)):(sa(e),bc(e,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(h)e.flags&256?(sa(e),e.flags&=-257,e=Lc(t,e,i)):e.memoizedState!==null?(ra(),e.child=t.child,e.flags|=128,e=null):(ra(),E=s.fallback,u=e.mode,s=Eo({mode:"visible",children:s.children},u),E=yi(E,u,i,null),E.flags|=2,s.return=e,E.return=e,s.sibling=E,e.child=s,ss(e,t.child,null,i),s=e.child,s.memoizedState=yc(i),s.childLanes=xc(t,y,i),e.memoizedState=vc,e=Jr(null,s));else if(sa(e),nh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,s=Error(p(419)),s.stack="",s.digest=y,$a({value:s,source:null,stack:null}),e=Lc(t,e,i)}else if(Le||Bs(t,e,i,!1),y=(i&t.childLanes)!==0,Le||y){if(y=ie,y!==null&&(s=Dl(y,i),s!==0&&s!==D.retryLane))throw D.retryLane=s,Sn(t,s),sn(y,t,s),gc;eh(E)||Ao(),e=Lc(t,e,i)}else eh(E)?(e.flags|=192,e.child=t.child,e=null):(t=D.treeContext,Vt=Mn(E.nextSibling),qt=e,At=!0,ei=null,$e=!1,t!==null&&Ye(e,t),e=bc(e,s.children),e.flags|=4096);return e}return u?(ra(),E=s.fallback,u=e.mode,D=t.child,P=D.sibling,s=En(D,{mode:"hidden",children:s.children}),s.subtreeFlags=D.subtreeFlags&65011712,P!==null?E=En(P,E):(E=yi(E,u,i,null),E.flags|=2),E.return=e,s.return=e,s.sibling=E,e.child=s,Jr(null,s),s=e.child,E=t.child.memoizedState,E===null?E=yc(i):(u=E.cachePool,u!==null?(D=xe._currentValue,u=u.parent!==D?{parent:D,pool:D}:u):u=Fh(),E={baseLanes:E.baseLanes|i,cachePool:u}),s.memoizedState=E,s.childLanes=xc(t,y,i),e.memoizedState=vc,Jr(t.child,s)):(sa(e),i=t.child,t=i.sibling,i=En(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function bc(t,e){return e=Eo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Eo(t,e){return t=Pe(22,t,null,e),t.lanes=0,t}function Lc(t,e,i){return ss(e,t.child,null,i),t=bc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cf(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Bu(t.return,e,i)}function wc(t,e,i,s,u,h){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:u,treeForkCount:h}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=i,y.tailMode=u,y.treeForkCount=h)}function hf(t,e,i){var s=e.pendingProps,u=s.revealOrder,h=s.tail;s=s.children;var y=ge.current,E=(y&2)!==0;if(E?(y=y&1|2,e.flags|=128):y&=1,tt(ge,y),Re(t,e,s,i),s=At?S:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,i,e);else if(t.tag===19)cf(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(i=e.child,u=null;i!==null;)t=i.alternate,t!==null&&fo(t)===null&&(u=i),i=i.sibling;i=u,i===null?(u=e.child,e.child=null):(u=i.sibling,i.sibling=null),wc(e,!1,u,i,h,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=e.child,e.child=null;u!==null;){if(t=u.alternate,t!==null&&fo(t)===null){e.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}wc(e,!0,i,null,h,s);break;case"together":wc(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Si(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Bs(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(p(153));if(e.child!==null){for(t=e.child,i=En(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=En(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Sc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ao(t)))}function og(t,e,i){switch(e.tag){case 3:Qt(e,e.stateNode.containerInfo),ea(e,xe,t.memoizedState.cache),xi();break;case 27:case 5:re(e);break;case 4:Qt(e,e.stateNode.containerInfo);break;case 10:ea(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ku(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(sa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?uf(t,e,i):(sa(e),t=Si(t,e,i),t!==null?t.sibling:null);sa(e);break;case 19:var u=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(Bs(t,e,i,!1),s=(i&e.childLanes)!==0),u){if(s)return hf(t,e,i);e.flags|=128}if(u=e.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),tt(ge,ge.current),s)break;return null;case 22:return e.lanes=0,nf(t,e,i,e.pendingProps);case 24:ea(e,xe,t.memoizedState.cache)}return Si(t,e,i)}function df(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!Sc(t,i)&&(e.flags&128)===0)return Le=!1,og(t,e,i);Le=(t.flags&131072)!==0}else Le=!1,At&&(e.flags&1048576)!==0&&jt(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=is(e.elementType),e.type=t,typeof t=="function")As(t)?(s=ls(t,s),e.tag=1,e=lf(null,e,t,s,i)):(e.tag=0,e=_c(null,e,t,s,i));else{if(t!=null){var u=t.$$typeof;if(u===yt){e.tag=11,e=$d(null,e,t,s,i);break t}else if(u===dt){e.tag=14,e=tf(null,e,t,s,i);break t}}throw e=ft(t)||t,Error(p(306,e,""))}}return e;case 0:return _c(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,u=ls(s,e.pendingProps),lf(t,e,s,u,i);case 3:t:{if(Qt(e,e.stateNode.containerInfo),t===null)throw Error(p(387));s=e.pendingProps;var h=e.memoizedState;u=h.element,Vu(t,e),Xr(e,s,null,i);var y=e.memoizedState;if(s=y.cache,ea(e,xe,s),s!==h.cache&&Uu(e,[xe],i,!0),Yr(),s=y.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=of(t,e,s,i);break t}else if(s!==u){u=a(Error(p(424)),e),$a(u),e=of(t,e,s,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Vt=Mn(t.firstChild),qt=e,At=!0,ei=null,$e=!0,i=nd(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xi(),s===u){e=Si(t,e,i);break t}Re(t,e,s,i)}e=e.child}return e;case 26:return So(t,e),t===null?(i=wm(e.type,null,e.pendingProps,null))?e.memoizedState=i:At||(i=e.type,t=e.pendingProps,s=Zo(ct.current).createElement(i),s[ve]=e,s[Me]=t,Be(s,i,t),ye(s),e.stateNode=s):e.memoizedState=wm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return re(e),t===null&&At&&(s=e.stateNode=xm(e.type,e.pendingProps,ct.current),qt=e,$e=!0,u=Vt,ma(e.type)?(ih=u,Vt=Mn(s.firstChild)):Vt=u),Re(t,e,e.pendingProps.children,i),So(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&At&&((u=s=Vt)&&(s=Ug(s,e.type,e.pendingProps,$e),s!==null?(e.stateNode=s,qt=e,Vt=Mn(s.firstChild),$e=!1,u=!0):u=!1),u||ni(e)),re(e),u=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,s=h.children,Wc(u,h)?s=null:y!==null&&Wc(u,y)&&(e.flags|=32),e.memoizedState!==null&&(u=Ju(t,e,$p,null,null,i),dl._currentValue=u),So(t,e),Re(t,e,s,i),e.child;case 6:return t===null&&At&&((t=i=Vt)&&(i=Pg(i,e.pendingProps,$e),i!==null?(e.stateNode=i,qt=e,Vt=null,t=!0):t=!1),t||ni(e)),null;case 13:return uf(t,e,i);case 4:return Qt(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ss(e,null,s,i):Re(t,e,s,i),e.child;case 11:return $d(t,e,e.type,e.pendingProps,i);case 7:return Re(t,e,e.pendingProps,i),e.child;case 8:return Re(t,e,e.pendingProps.children,i),e.child;case 12:return Re(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,ea(e,e.type,s.value),Re(t,e,s.children,i),e.child;case 9:return u=e.type._context,s=e.pendingProps.children,es(e),u=Oe(u),s=s(u),e.flags|=1,Re(t,e,s,i),e.child;case 14:return tf(t,e,e.type,e.pendingProps,i);case 15:return ef(t,e,e.type,e.pendingProps,i);case 19:return hf(t,e,i);case 31:return lg(t,e,i);case 22:return nf(t,e,i,e.pendingProps);case 24:return es(e),s=Oe(xe),t===null?(u=Zu(),u===null&&(u=ie,h=Pu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=i),u=h),e.memoizedState={parent:s,cache:u},qu(e),ea(e,xe,u)):((t.lanes&i)!==0&&(Vu(t,e),Xr(e,null,null,i),Yr()),u=t.memoizedState,h=e.memoizedState,u.parent!==s?(u={parent:s,cache:s},e.memoizedState=u,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=u),ea(e,xe,s)):(s=h.cache,ea(e,xe,s),s!==u.cache&&Uu(e,[xe],i,!0))),Re(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(p(156,e.tag))}function Ei(t){t.flags|=4}function Ec(t,e,i,s,u){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Pf())t.flags|=8192;else throw as=oo,Gu}else t.flags&=-16777217}function ff(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nm(e))if(Pf())t.flags|=8192;else throw as=oo,Gu}function To(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Cl():536870912,t.lanes|=e,Ks|=e)}function Wr(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function se(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var u=t.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)i|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function ug(t,e,i){var s=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(e),null;case 1:return se(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),bi(xe),Gt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Un(e)?Ei(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Pr())),se(e),null;case 26:var u=e.type,h=e.memoizedState;return t===null?(Ei(e),h!==null?(se(e),ff(e,h)):(se(e),Ec(e,u,null,s,i))):h?h!==t.memoizedState?(Ei(e),se(e),ff(e,h)):(se(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ei(e),se(e),Ec(e,u,t,s,i)),null;case 27:if(De(e),i=ct.current,u=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ei(e);else{if(!s){if(e.stateNode===null)throw Error(p(166));return se(e),null}t=it.current,Un(e)?Ur(e):(t=xm(u,s,i),e.stateNode=t,Ei(e))}return se(e),null;case 5:if(De(e),u=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ei(e);else{if(!s){if(e.stateNode===null)throw Error(p(166));return se(e),null}if(h=it.current,Un(e))Ur(e);else{var y=Zo(ct.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?y.createElement("select",{is:s.is}):y.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?y.createElement(u,{is:s.is}):y.createElement(u)}}h[ve]=e,h[Me]=s;t:for(y=e.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break t;for(;y.sibling===null;){if(y.return===null||y.return===e)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}e.stateNode=h;t:switch(Be(h,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ei(e)}}return se(e),Ec(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ei(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(p(166));if(t=ct.current,Un(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,u=qt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||um(t.nodeValue,i)),t||ni(e,!0)}else t=Zo(t).createTextNode(s),t[ve]=e,e.stateNode=t}return se(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(s=Un(e),i!==null){if(t===null){if(!s)throw Error(p(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(p(557));t[ve]=e}else xi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),t=!1}else i=Pr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(hn(e),e):(hn(e),null);if((e.flags&128)!==0)throw Error(p(558))}return se(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Un(e),s!==null&&s.dehydrated!==null){if(t===null){if(!u)throw Error(p(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(p(317));u[ve]=e}else xi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;se(e),u=!1}else u=Pr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return e.flags&256?(hn(e),e):(hn(e),null)}return hn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=s!==null,t=t!==null&&t.memoizedState!==null,i&&(s=e.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),To(e,e.updateQueue),se(e),null);case 4:return Gt(),t===null&&Ic(e.stateNode.containerInfo),se(e),null;case 10:return bi(e.type),se(e),null;case 19:if(q(ge),s=e.memoizedState,s===null)return se(e),null;if(u=(e.flags&128)!==0,h=s.rendering,h===null)if(u)Wr(s,!1);else{if(pe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=fo(t),h!==null){for(e.flags|=128,Wr(s,!1),t=h.updateQueue,e.updateQueue=t,To(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Or(i,t),i=i.sibling;return tt(ge,ge.current&1|2),At&&xt(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ge()>ko&&(e.flags|=128,u=!0,Wr(s,!1),e.lanes=4194304)}else{if(!u)if(t=fo(h),t!==null){if(e.flags|=128,u=!0,t=t.updateQueue,e.updateQueue=t,To(e,t),Wr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!At)return se(e),null}else 2*Ge()-s.renderingStartTime>ko&&i!==536870912&&(e.flags|=128,u=!0,Wr(s,!1),e.lanes=4194304);s.isBackwards?(h.sibling=e.child,e.child=h):(t=s.last,t!==null?t.sibling=h:e.child=h,s.last=h)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ge(),t.sibling=null,i=ge.current,tt(ge,u?i&1|2:i&1),At&&xt(e,s.treeForkCount),t):(se(e),null);case 22:case 23:return hn(e),Qu(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(se(e),e.subtreeFlags&6&&(e.flags|=8192)):se(e),i=e.updateQueue,i!==null&&To(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&q(ns),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),bi(xe),se(e),null;case 25:return null;case 30:return null}throw Error(p(156,e.tag))}function cg(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(xe),Gt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return De(e),null;case 31:if(e.memoizedState!==null){if(hn(e),e.alternate===null)throw Error(p(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(hn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(p(340));xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(ge),null;case 4:return Gt(),null;case 10:return bi(e.type),null;case 22:case 23:return hn(e),Qu(),t!==null&&q(ns),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return bi(xe),null;case 25:return null;default:return null}}function mf(t,e){switch(fe(e),e.tag){case 3:bi(xe),Gt();break;case 26:case 27:case 5:De(e);break;case 4:Gt();break;case 31:e.memoizedState!==null&&hn(e);break;case 13:hn(e);break;case 19:q(ge);break;case 10:bi(e.type);break;case 22:case 23:hn(e),Qu(),t!==null&&q(ns);break;case 24:bi(xe)}}function $r(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&t)===t){s=void 0;var h=i.create,y=i.inst;s=h(),y.destroy=s}i=i.next}while(i!==u)}}catch(E){Jt(e,e.return,E)}}function la(t,e,i){try{var s=e.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&t)===t){var y=s.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,u=e;var D=i,P=E;try{P()}catch(Q){Jt(u,D,Q)}}}s=s.next}while(s!==h)}}catch(Q){Jt(e,e.return,Q)}}function pf(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{ad(e,i)}catch(s){Jt(t,t.return,s)}}}function gf(t,e,i){i.props=ls(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Jt(t,e,s)}}function tl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(u){Jt(t,e,u)}}function ai(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(u){Jt(t,e,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Jt(t,e,u)}else i.current=null}function _f(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(u){Jt(t,t.return,u)}}function Tc(t,e,i){try{var s=t.stateNode;Dg(s,t.type,i,e),s[Me]=e}catch(u){Jt(t,t.return,u)}}function vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function Mc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Ke));else if(s!==4&&(s===27&&ma(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Nc(t,e,i),t=t.sibling;t!==null;)Nc(t,e,i),t=t.sibling}function Mo(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&ma(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Mo(t,e,i),t=t.sibling;t!==null;)Mo(t,e,i),t=t.sibling}function yf(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,u=e.attributes;u.length;)e.removeAttributeNode(u[0]);Be(e,s,i),e[ve]=t,e[Me]=i}catch(h){Jt(t,t.return,h)}}var Ti=!1,we=!1,Cc=!1,xf=typeof WeakSet=="function"?WeakSet:Set,je=null;function hg(t,e){if(t=t.containerInfo,Fc=Qo,t=Ya(t),Fn(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,E=-1,D=-1,P=0,Q=0,W=t,G=null;e:for(;;){for(var Y;W!==i||u!==0&&W.nodeType!==3||(E=y+u),W!==h||s!==0&&W.nodeType!==3||(D=y+s),W.nodeType===3&&(y+=W.nodeValue.length),(Y=W.firstChild)!==null;)G=W,W=Y;for(;;){if(W===t)break e;if(G===i&&++P===u&&(E=y),G===h&&++Q===s&&(D=y),(Y=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Y}i=E===-1||D===-1?null:{start:E,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jc={focusedElem:t,selectionRange:i},Qo=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){switch(e=je,h=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)u=t[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,u=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var pt=ls(i.type,u);t=s.getSnapshotBeforeUpdate(pt,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(Lt){Jt(i,i.return,Lt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(p(163))}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}}function bf(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Ni(t,i),s&4&&$r(5,i);break;case 1:if(Ni(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Jt(i,i.return,y)}else{var u=ls(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(u,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(i,i.return,y)}}s&64&&pf(i),s&512&&tl(i,i.return);break;case 3:if(Ni(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{ad(t,e)}catch(y){Jt(i,i.return,y)}}break;case 27:e===null&&s&4&&yf(i);case 26:case 5:Ni(t,i),e===null&&s&4&&_f(i),s&512&&tl(i,i.return);break;case 12:Ni(t,i);break;case 31:Ni(t,i),s&4&&Sf(t,i);break;case 13:Ni(t,i),s&4&&Ef(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=xg.bind(null,i),Hg(t,i))));break;case 22:if(s=i.memoizedState!==null||Ti,!s){e=e!==null&&e.memoizedState!==null||we,u=Ti;var h=we;Ti=s,(we=e)&&!h?Ci(t,i,(i.subtreeFlags&8772)!==0):Ni(t,i),Ti=u,we=h}break;case 30:break;default:Ni(t,i)}}function Lf(t){var e=t.alternate;e!==null&&(t.alternate=null,Lf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&_r(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,tn=!1;function Mi(t,e,i){for(i=i.child;i!==null;)wf(t,e,i),i=i.sibling}function wf(t,e,i){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ri,i)}catch{}switch(i.tag){case 26:we||ai(i,e),Mi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:we||ai(i,e);var s=oe,u=tn;ma(i.type)&&(oe=i.stateNode,tn=!1),Mi(t,e,i),ul(i.stateNode),oe=s,tn=u;break;case 5:we||ai(i,e);case 6:if(s=oe,u=tn,oe=null,Mi(t,e,i),oe=s,tn=u,oe!==null)if(tn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(i.stateNode)}catch(h){Jt(i,e,h)}else try{oe.removeChild(i.stateNode)}catch(h){Jt(i,e,h)}break;case 18:oe!==null&&(tn?(t=oe,pm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),ir(t)):pm(oe,i.stateNode));break;case 4:s=oe,u=tn,oe=i.stateNode.containerInfo,tn=!0,Mi(t,e,i),oe=s,tn=u;break;case 0:case 11:case 14:case 15:la(2,i,e),we||la(4,i,e),Mi(t,e,i);break;case 1:we||(ai(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&gf(i,e,s)),Mi(t,e,i);break;case 21:Mi(t,e,i);break;case 22:we=(s=we)||i.memoizedState!==null,Mi(t,e,i),we=s;break;default:Mi(t,e,i)}}function Sf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ir(t)}catch(i){Jt(e,e.return,i)}}}function Ef(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ir(t)}catch(i){Jt(e,e.return,i)}}function dg(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new xf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new xf),e;default:throw Error(p(435,t.tag))}}function No(t,e){var i=dg(t);e.forEach(function(s){if(!i.has(s)){i.add(s);var u=bg.bind(null,t,s);s.then(u,u)}})}function en(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var u=i[s],h=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ma(E.type)){oe=E.stateNode,tn=!1;break t}break;case 5:oe=E.stateNode,tn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(oe===null)throw Error(p(160));wf(h,y,u),oe=null,tn=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Tf(e,t),e=e.sibling}var Hn=null;function Tf(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(e,t),nn(t),s&4&&(la(3,t,t.return),$r(3,t),la(5,t,t.return));break;case 1:en(e,t),nn(t),s&512&&(we||i===null||ai(i,i.return)),s&64&&Ti&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var u=Hn;if(en(e,t),nn(t),s&512&&(we||i===null||ai(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,u=u.ownerDocument||u;e:switch(s){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Ca]||h[ve]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(s),u.head.insertBefore(h,u.querySelector("head > title"))),Be(h,s,i),h[ve]=t,ye(h),s=h;break t;case"link":var y=Tm("link","href",u).get(s+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}h=u.createElement(s),Be(h,s,i),u.head.appendChild(h);break;case"meta":if(y=Tm("meta","content",u).get(s+(i.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}h=u.createElement(s),Be(h,s,i),u.head.appendChild(h);break;default:throw Error(p(468,s))}h[ve]=t,ye(h),s=h}t.stateNode=s}else Mm(u,t.type,t.stateNode);else t.stateNode=Em(u,s,t.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?Mm(u,t.type,t.stateNode):Em(u,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Tc(t,t.memoizedProps,i.memoizedProps)}break;case 27:en(e,t),nn(t),s&512&&(we||i===null||ai(i,i.return)),i!==null&&s&4&&Tc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(en(e,t),nn(t),s&512&&(we||i===null||ai(i,i.return)),t.flags&32){u=t.stateNode;try{vn(u,"")}catch(pt){Jt(t,t.return,pt)}}s&4&&t.stateNode!=null&&(u=t.memoizedProps,Tc(t,u,i!==null?i.memoizedProps:u)),s&1024&&(Cc=!0);break;case 6:if(en(e,t),nn(t),s&4){if(t.stateNode===null)throw Error(p(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(pt){Jt(t,t.return,pt)}}break;case 3:if(Vo=null,u=Hn,Hn=Go(e.containerInfo),en(e,t),Hn=u,nn(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ir(e.containerInfo)}catch(pt){Jt(t,t.return,pt)}Cc&&(Cc=!1,Mf(t));break;case 4:s=Hn,Hn=Go(t.stateNode.containerInfo),en(e,t),nn(t),Hn=s;break;case 12:en(e,t),nn(t);break;case 31:en(e,t),nn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,No(t,s)));break;case 13:en(e,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(jo=Ge()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,No(t,s)));break;case 22:u=t.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,P=Ti,Q=we;if(Ti=P||u,we=Q||D,en(e,t),we=Q,Ti=P,nn(t),s&8192)t:for(e=t.stateNode,e._visibility=u?e._visibility&-2:e._visibility|1,u&&(i===null||D||Ti||we||os(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){D=i=e;try{if(h=D.stateNode,u)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var W=D.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pt){Jt(D,D.return,pt)}}}else if(e.tag===6){if(i===null){D=e;try{D.stateNode.nodeValue=u?"":D.memoizedProps}catch(pt){Jt(D,D.return,pt)}}}else if(e.tag===18){if(i===null){D=e;try{var Y=D.stateNode;u?gm(Y,!0):gm(D.stateNode,!1)}catch(pt){Jt(D,D.return,pt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,No(t,i))));break;case 19:en(e,t),nn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,No(t,s)));break;case 30:break;case 21:break;default:en(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(vf(s)){i=s;break}s=s.return}if(i==null)throw Error(p(160));switch(i.tag){case 27:var u=i.stateNode,h=Mc(t);Mo(t,h,u);break;case 5:var y=i.stateNode;i.flags&32&&(vn(y,""),i.flags&=-33);var E=Mc(t);Mo(t,E,y);break;case 3:case 4:var D=i.stateNode.containerInfo,P=Mc(t);Nc(t,P,D);break;default:throw Error(p(161))}}catch(Q){Jt(t,t.return,Q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ni(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)bf(t,e.alternate,e),e=e.sibling}function os(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:la(4,e,e.return),os(e);break;case 1:ai(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&gf(e,e.return,i),os(e);break;case 27:ul(e.stateNode);case 26:case 5:ai(e,e.return),os(e);break;case 22:e.memoizedState===null&&os(e);break;case 30:os(e);break;default:os(e)}t=t.sibling}}function Ci(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,u=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:Ci(u,h,i),$r(4,h);break;case 1:if(Ci(u,h,i),s=h,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(P){Jt(s,s.return,P)}if(s=h,u=s.updateQueue,u!==null){var E=s.stateNode;try{var D=u.shared.hiddenCallbacks;if(D!==null)for(u.shared.hiddenCallbacks=null,u=0;u<D.length;u++)id(D[u],E)}catch(P){Jt(s,s.return,P)}}i&&y&64&&pf(h),tl(h,h.return);break;case 27:yf(h);case 26:case 5:Ci(u,h,i),i&&s===null&&y&4&&_f(h),tl(h,h.return);break;case 12:Ci(u,h,i);break;case 31:Ci(u,h,i),i&&y&4&&Sf(u,h);break;case 13:Ci(u,h,i),i&&y&4&&Ef(u,h);break;case 22:h.memoizedState===null&&Ci(u,h,i),tl(h,h.return);break;case 30:break;default:Ci(u,h,i)}e=e.sibling}}function jc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Hr(i))}function kc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Hr(t))}function Zn(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nf(t,e,i,s),e=e.sibling}function Nf(t,e,i,s){var u=e.flags;switch(e.tag){case 0:case 11:case 15:Zn(t,e,i,s),u&2048&&$r(9,e);break;case 1:Zn(t,e,i,s);break;case 3:Zn(t,e,i,s),u&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Hr(t)));break;case 12:if(u&2048){Zn(t,e,i,s),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(e,e.return,D)}}else Zn(t,e,i,s);break;case 31:Zn(t,e,i,s);break;case 13:Zn(t,e,i,s);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?Zn(t,e,i,s):el(t,e):h._visibility&2?Zn(t,e,i,s):(h._visibility|=2,Xs(t,e,i,s,(e.subtreeFlags&10256)!==0||!1)),u&2048&&jc(y,e);break;case 24:Zn(t,e,i,s),u&2048&&kc(e.alternate,e);break;default:Zn(t,e,i,s)}}function Xs(t,e,i,s,u){for(u=u&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var h=t,y=e,E=i,D=s,P=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(h,y,E,D,u),$r(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Xs(h,y,E,D,u):el(h,y):(Q._visibility|=2,Xs(h,y,E,D,u)),u&&P&2048&&jc(y.alternate,y);break;case 24:Xs(h,y,E,D,u),u&&P&2048&&kc(y.alternate,y);break;default:Xs(h,y,E,D,u)}e=e.sibling}}function el(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,u=s.flags;switch(s.tag){case 22:el(i,s),u&2048&&jc(s.alternate,s);break;case 24:el(i,s),u&2048&&kc(s.alternate,s);break;default:el(i,s)}e=e.sibling}}var nl=8192;function Is(t,e,i){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)Cf(t,e,i),t=t.sibling}function Cf(t,e,i){switch(t.tag){case 26:Is(t,e,i),t.flags&nl&&t.memoizedState!==null&&Wg(i,Hn,t.memoizedState,t.memoizedProps);break;case 5:Is(t,e,i);break;case 3:case 4:var s=Hn;Hn=Go(t.stateNode.containerInfo),Is(t,e,i),Hn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=nl,nl=16777216,Is(t,e,i),nl=s):Is(t,e,i));break;default:Is(t,e,i)}}function jf(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function il(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];je=s,Df(s,t)}jf(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kf(t),t=t.sibling}function kf(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&la(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Co(t)):il(t);break;default:il(t)}}function Co(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];je=s,Df(s,t)}jf(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:la(8,e,e.return),Co(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Co(e));break;default:Co(e)}t=t.sibling}}function Df(t,e){for(;je!==null;){var i=je;switch(i.tag){case 0:case 11:case 15:la(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Hr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,je=s;else t:for(i=t;je!==null;){s=je;var u=s.sibling,h=s.return;if(Lf(s),s===i){je=null;break t}if(u!==null){u.return=h,je=u;break t}je=h}}}var fg={getCacheForType:function(t){var e=Oe(xe),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Oe(xe).controller.signal}},mg=typeof WeakMap=="function"?WeakMap:Map,It=0,ie=null,Ot=null,Ut=0,Ft=0,dn=null,oa=!1,Qs=!1,Dc=!1,ji=0,pe=0,ua=0,us=0,zc=0,fn=0,Ks=0,al=null,an=null,Ac=!1,jo=0,zf=0,ko=1/0,Do=null,ca=null,Te=0,ha=null,Fs=null,ki=0,Oc=0,Rc=null,Af=null,sl=0,Bc=null;function mn(){return(It&2)!==0&&Ut!==0?Ut&-Ut:C.T!==null?qc():pr()}function Of(){if(fn===0)if((Ut&536870912)===0||At){var t=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),fn=t}else fn=536870912;return t=cn.current,t!==null&&(t.flags|=32),fn}function sn(t,e,i){(t===ie&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(Js(t,0),da(t,Ut,fn,!1)),ci(t,i),((It&2)===0||t!==ie)&&(t===ie&&((It&2)===0&&(us|=i),pe===4&&da(t,Ut,fn,!1)),si(t))}function Rf(t,e,i){if((It&6)!==0)throw Error(p(327));var s=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Na(t,e),u=s?_g(t,e):Pc(t,e,!0),h=s;do{if(u===0){Qs&&!s&&da(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!pg(i)){u=Pc(t,e,!1),h=!1;continue}if(u===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;u=al;var D=E.current.memoizedState.isDehydrated;if(D&&(Js(E,y).flags|=256),y=Pc(E,y,!1),y!==2){if(Dc&&!D){E.errorRecoveryDisabledLanes|=h,us|=h,u=4;break t}h=an,an=u,h!==null&&(an===null?an=h:an.push.apply(an,h))}u=y}if(h=!1,u!==2)continue}}if(u===1){Js(t,0),da(t,e,0,!0);break}t:{switch(s=t,h=u,h){case 0:case 1:throw Error(p(345));case 4:if((e&4194048)!==e)break;case 6:da(s,e,fn,!oa);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(p(329))}if((e&62914560)===e&&(u=jo+300-Ge(),10<u)){if(da(s,e,fn,!oa),_s(s,0,!0)!==0)break t;ki=e,s.timeoutHandle=fm(Bf.bind(null,s,i,an,Do,Ac,e,fn,us,Ks,oa,h,"Throttled",-0,0),u);break t}Bf(s,i,an,Do,Ac,e,fn,us,Ks,oa,h,null,-0,0)}}break}while(!0);si(t)}function Bf(t,e,i,s,u,h,y,E,D,P,Q,W,G,Y){if(t.timeoutHandle=-1,W=e.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ke},Cf(e,h,W);var pt=(h&62914560)===h?jo-Ge():(h&4194048)===h?zf-Ge():0;if(pt=$g(W,pt),pt!==null){ki=h,t.cancelPendingCommit=pt(Yf.bind(null,t,e,h,i,s,u,y,E,D,Q,W,null,G,Y)),da(t,h,y,!P);return}}Yf(t,e,h,i,s,u,y,E,D)}function pg(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var u=i[s],h=u.getSnapshot;u=u.value;try{if(!Ne(h(),u))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function da(t,e,i,s){e&=~zc,e&=~us,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var u=e;0<u;){var h=31-qe(u),y=1<<h;s[h]=-1,u&=~y}i!==0&&jl(t,i,e)}function zo(){return(It&6)===0?(rl(0),!1):!0}function Uc(){if(Ot!==null){if(Ft===0)var t=Ot.return;else t=Ot,Pn=ii=null,tc(t),Zs=null,Gr=0,t=Ot;for(;t!==null;)mf(t.alternate,t),t=t.return;Ot=null}}function Js(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Og(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ki=0,Uc(),ie=t,Ot=i=En(t.current,null),Ut=e,Ft=0,dn=null,oa=!1,Qs=Na(t,e),Dc=!1,Ks=fn=zc=us=ua=pe=0,an=al=null,Ac=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var u=31-qe(s),h=1<<u;e|=t[u],s&=~h}return ji=e,Fa(),i}function Uf(t,e){Nt=null,C.H=Fr,e===Hs||e===lo?(e=$h(),Ft=3):e===Gu?(e=$h(),Ft=4):Ft=e===gc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,dn=e,Ot===null&&(pe=1,Lo(t,a(e,t.current)))}function Pf(){var t=cn.current;return t===null?!0:(Ut&4194048)===Ut?Tn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?t===Tn:!1}function Hf(){var t=C.H;return C.H=Fr,t===null?Fr:t}function Zf(){var t=C.A;return C.A=fg,t}function Ao(){pe=4,oa||(Ut&4194048)!==Ut&&cn.current!==null||(Qs=!0),(ua&134217727)===0&&(us&134217727)===0||ie===null||da(ie,Ut,fn,!1)}function Pc(t,e,i){var s=It;It|=2;var u=Hf(),h=Zf();(ie!==t||Ut!==e)&&(Do=null,Js(t,e)),e=!1;var y=pe;t:do try{if(Ft!==0&&Ot!==null){var E=Ot,D=dn;switch(Ft){case 8:Uc(),y=6;break t;case 3:case 2:case 9:case 6:cn.current===null&&(e=!0);var P=Ft;if(Ft=0,dn=null,Ws(t,E,D,P),i&&Qs){y=0;break t}break;default:P=Ft,Ft=0,dn=null,Ws(t,E,D,P)}}gg(),y=pe;break}catch(Q){Uf(t,Q)}while(!0);return e&&t.shellSuspendCounter++,Pn=ii=null,It=s,C.H=u,C.A=h,Ot===null&&(ie=null,Ut=0,Fa()),y}function gg(){for(;Ot!==null;)Gf(Ot)}function _g(t,e){var i=It;It|=2;var s=Hf(),u=Zf();ie!==t||Ut!==e?(Do=null,ko=Ge()+500,Js(t,e)):Qs=Na(t,e);t:do try{if(Ft!==0&&Ot!==null){e=Ot;var h=dn;e:switch(Ft){case 1:Ft=0,dn=null,Ws(t,e,h,1);break;case 2:case 9:if(Jh(h)){Ft=0,dn=null,qf(e);break}e=function(){Ft!==2&&Ft!==9||ie!==t||(Ft=7),si(t)},h.then(e,e);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Jh(h)?(Ft=0,dn=null,qf(e)):(Ft=0,dn=null,Ws(t,e,h,7));break;case 5:var y=null;switch(Ot.tag){case 26:y=Ot.memoizedState;case 5:case 27:var E=Ot;if(y?Nm(y):E.stateNode.complete){Ft=0,dn=null;var D=E.sibling;if(D!==null)Ot=D;else{var P=E.return;P!==null?(Ot=P,Oo(P)):Ot=null}break e}}Ft=0,dn=null,Ws(t,e,h,5);break;case 6:Ft=0,dn=null,Ws(t,e,h,6);break;case 8:Uc(),pe=6;break t;default:throw Error(p(462))}}vg();break}catch(Q){Uf(t,Q)}while(!0);return Pn=ii=null,C.H=s,C.A=u,It=i,Ot!==null?0:(ie=null,Ut=0,Fa(),pe)}function vg(){for(;Ot!==null&&!Tl();)Gf(Ot)}function Gf(t){var e=df(t.alternate,t,ji);t.memoizedProps=t.pendingProps,e===null?Oo(t):Ot=e}function qf(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=rf(i,e,e.pendingProps,e.type,void 0,Ut);break;case 11:e=rf(i,e,e.pendingProps,e.type.render,e.ref,Ut);break;case 5:tc(e);default:mf(i,e),e=Ot=Or(e,ji),e=df(i,e,ji)}t.memoizedProps=t.pendingProps,e===null?Oo(t):Ot=e}function Ws(t,e,i,s){Pn=ii=null,tc(e),Zs=null,Gr=0;var u=e.return;try{if(rg(t,u,e,i,Ut)){pe=1,Lo(t,a(i,t.current)),Ot=null;return}}catch(h){if(u!==null)throw Ot=u,h;pe=1,Lo(t,a(i,t.current)),Ot=null;return}e.flags&32768?(At||s===1?t=!0:Qs||(Ut&536870912)!==0?t=!1:(oa=t=!0,(s===2||s===9||s===3||s===6)&&(s=cn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vf(e,t)):Oo(e)}function Oo(t){var e=t;do{if((e.flags&32768)!==0){Vf(e,oa);return}t=e.return;var i=ug(e.alternate,e,ji);if(i!==null){Ot=i;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);pe===0&&(pe=5)}function Vf(t,e){do{var i=cg(t.alternate,t);if(i!==null){i.flags&=32767,Ot=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=i}while(t!==null);pe=6,Ot=null}function Yf(t,e,i,s,u,h,y,E,D){t.cancelPendingCommit=null;do Ro();while(Te!==0);if((It&6)!==0)throw Error(p(327));if(e!==null){if(e===t.current)throw Error(p(177));if(h=e.lanes|e.childLanes,h|=zs,bu(t,i,h,y,E,D),t===ie&&(Ot=ie=null,Ut=0),Fs=e,ha=t,ki=i,Oc=h,Rc=u,Af=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lg(wa,function(){return Ff(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,u=X.p,X.p=2,y=It,It|=4;try{hg(t,e,i)}finally{It=y,X.p=u,C.T=s}}Te=1,Xf(),If(),Qf()}}function Xf(){if(Te===1){Te=0;var t=ha,e=Fs,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=C.T,C.T=null;var s=X.p;X.p=2;var u=It;It|=4;try{Tf(e,t);var h=Jc,y=Ya(t.containerInfo),E=h.focusedElem,D=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&Cs(E.ownerDocument.documentElement,E)){if(D!==null&&Fn(E)){var P=D.start,Q=D.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var W=E.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var Y=G.getSelection(),pt=E.textContent.length,Lt=Math.min(D.start,pt),ee=D.end===void 0?Lt:Math.min(D.end,pt);!Y.extend&&Lt>ee&&(y=ee,ee=Lt,Lt=y);var A=Va(E,Lt),z=Va(E,ee);if(A&&z&&(Y.rangeCount!==1||Y.anchorNode!==A.node||Y.anchorOffset!==A.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var U=W.createRange();U.setStart(A.node,A.offset),Y.removeAllRanges(),Lt>ee?(Y.addRange(U),Y.extend(z.node,z.offset)):(U.setEnd(z.node,z.offset),Y.addRange(U))}}}}for(W=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var F=W[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Qo=!!Fc,Jc=Fc=null}finally{It=u,X.p=s,C.T=i}}t.current=e,Te=2}}function If(){if(Te===2){Te=0;var t=ha,e=Fs,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=C.T,C.T=null;var s=X.p;X.p=2;var u=It;It|=4;try{bf(t,e.alternate,e)}finally{It=u,X.p=s,C.T=i}}Te=3}}function Qf(){if(Te===4||Te===3){Te=0,Ml();var t=ha,e=Fs,i=ki,s=Af;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Te=5:(Te=0,Fs=ha=null,Kf(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(ca=null),vt(i),e=e.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=C.T,u=X.p,X.p=2,C.T=null;try{for(var h=t.onRecoverableError,y=0;y<s.length;y++){var E=s[y];h(E.value,{componentStack:E.stack})}}finally{C.T=e,X.p=u}}(ki&3)!==0&&Ro(),si(t),u=t.pendingLanes,(i&261930)!==0&&(u&42)!==0?t===Bc?sl++:(sl=0,Bc=t):sl=0,rl(0)}}function Kf(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Hr(e)))}function Ro(){return Xf(),If(),Qf(),Ff()}function Ff(){if(Te!==5)return!1;var t=ha,e=Oc;Oc=0;var i=vt(ki),s=C.T,u=X.p;try{X.p=32>i?32:i,C.T=null,i=Rc,Rc=null;var h=ha,y=ki;if(Te=0,Fs=ha=null,ki=0,(It&6)!==0)throw Error(p(331));var E=It;if(It|=4,kf(h.current),Nf(h,h.current,y,i),It=E,rl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ri,h)}catch{}return!0}finally{X.p=u,C.T=s,Kf(t,e)}}function Jf(t,e,i){e=a(i,e),e=pc(t.stateNode,e,2),t=aa(t,e,2),t!==null&&(ci(t,2),si(t))}function Jt(t,e,i){if(t.tag===3)Jf(t,t,i);else for(;e!==null;){if(e.tag===3){Jf(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ca===null||!ca.has(s))){t=a(i,t),i=Jd(2),s=aa(e,i,2),s!==null&&(Wd(i,s,e,t),ci(s,2),si(s));break}}e=e.return}}function Hc(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new mg;var u=new Set;s.set(e,u)}else u=s.get(e),u===void 0&&(u=new Set,s.set(e,u));u.has(i)||(Dc=!0,u.add(i),t=yg.bind(null,t,e,i),e.then(t,t))}function yg(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ie===t&&(Ut&i)===i&&(pe===4||pe===3&&(Ut&62914560)===Ut&&300>Ge()-jo?(It&2)===0&&Js(t,0):zc|=i,Ks===Ut&&(Ks=0)),si(t)}function Wf(t,e){e===0&&(e=Cl()),t=Sn(t,e),t!==null&&(ci(t,e),si(t))}function xg(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Wf(t,i)}function bg(t,e){var i=0;switch(t.tag){case 31:case 13:var s=t.stateNode,u=t.memoizedState;u!==null&&(i=u.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(p(314))}s!==null&&s.delete(e),Wf(t,i)}function Lg(t,e){return ps(t,e)}var Bo=null,$s=null,Zc=!1,Uo=!1,Gc=!1,fa=0;function si(t){t!==$s&&t.next===null&&($s===null?Bo=$s=t:$s=$s.next=t),Uo=!0,Zc||(Zc=!0,Sg())}function rl(t,e){if(!Gc&&Uo){Gc=!0;do for(var i=!1,s=Bo;s!==null;){if(t!==0){var u=s.pendingLanes;if(u===0)var h=0;else{var y=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-qe(42|t)+1)-1,h&=u&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,nm(s,h))}else h=Ut,h=_s(s,s===ie?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Na(s,h)||(i=!0,nm(s,h));s=s.next}while(i);Gc=!1}}function wg(){$f()}function $f(){Uo=Zc=!1;var t=0;fa!==0&&Ag()&&(t=fa);for(var e=Ge(),i=null,s=Bo;s!==null;){var u=s.next,h=tm(s,e);h===0?(s.next=null,i===null?Bo=u:i.next=u,u===null&&($s=i)):(i=s,(t!==0||(h&3)!==0)&&(Uo=!0)),s=u}Te!==0&&Te!==5||rl(t),fa!==0&&(fa=0)}function tm(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,u=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-qe(h),E=1<<y,D=u[y];D===-1?((E&i)===0||(E&s)!==0)&&(u[y]=xu(E,e)):D<=e&&(t.expiredLanes|=E),h&=~E}if(e=ie,i=Ut,i=_s(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&La(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Na(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&La(s),vt(i)){case 2:case 8:i=dr;break;case 32:i=wa;break;case 268435456:i=fr;break;default:i=wa}return s=em.bind(null,t),i=ps(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&La(s),t.callbackPriority=2,t.callbackNode=null,2}function em(t,e){if(Te!==0&&Te!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Ro()&&t.callbackNode!==i)return null;var s=Ut;return s=_s(t,t===ie?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Rf(t,s,e),tm(t,Ge()),t.callbackNode!=null&&t.callbackNode===i?em.bind(null,t):null)}function nm(t,e){if(Ro())return null;Rf(t,e,!0)}function Sg(){Rg(function(){(It&6)!==0?ps(gs,wg):$f()})}function qc(){if(fa===0){var t=Us;t===0&&(t=Ea,Ea<<=1,(Ea&261888)===0&&(Ea=256)),fa=t}return fa}function im(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gi(""+t)}function am(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Eg(t,e,i,s,u){if(e==="submit"&&i&&i.stateNode===u){var h=im((u[Me]||null).action),y=s.submitter;y&&(e=(e=y[Me]||null)?im(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var E=new Ls("action","action",null,s,u);t.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(fa!==0){var D=y?am(u,y):new FormData(u);uc(i,{pending:!0,data:D,method:u.method,action:h},null,D)}}else typeof h=="function"&&(E.preventDefault(),D=y?am(u,y):new FormData(u),uc(i,{pending:!0,data:D,method:u.method,action:h},h,D))},currentTarget:u}]})}}for(var Vc=0;Vc<$n.length;Vc++){var Yc=$n[Vc],Tg=Yc.toLowerCase(),Mg=Yc[0].toUpperCase()+Yc.slice(1);Je(Tg,"on"+Mg)}Je(Ia,"onAnimationEnd"),Je(eo,"onAnimationIteration"),Je(Qa,"onAnimationStart"),Je("dblclick","onDoubleClick"),Je("focusin","onFocus"),Je("focusout","onBlur"),Je(Au,"onTransitionRun"),Je(no,"onTransitionStart"),Je(Ou,"onTransitionCancel"),Je($i,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ng=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function sm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],u=s.event;s=s.listeners;t:{var h=void 0;if(e)for(var y=s.length-1;0<=y;y--){var E=s[y],D=E.instance,P=E.currentTarget;if(E=E.listener,D!==h&&u.isPropagationStopped())break t;h=E,u.currentTarget=P;try{h(u)}catch(Q){Ka(Q)}u.currentTarget=null,h=D}else for(y=0;y<s.length;y++){if(E=s[y],D=E.instance,P=E.currentTarget,E=E.listener,D!==h&&u.isPropagationStopped())break t;h=E,u.currentTarget=P;try{h(u)}catch(Q){Ka(Q)}u.currentTarget=null,h=D}}}}function Rt(t,e){var i=e[Vn];i===void 0&&(i=e[Vn]=new Set);var s=t+"__bubble";i.has(s)||(rm(e,t,2,!1),i.add(s))}function Xc(t,e,i){var s=0;e&&(s|=4),rm(i,t,s,e)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[Po]){t[Po]=!0,Ol.forEach(function(i){i!=="selectionchange"&&(Ng.has(i)||Xc(i,!1,t),Xc(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Po]||(e[Po]=!0,Xc("selectionchange",!1,e))}}function rm(t,e,i,s){switch(Om(e)){case 2:var u=n_;break;case 8:u=i_;break;default:u=oh}i=u.bind(null,e,i,t),u=void 0,!Oa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(u=!0),s?u!==void 0?t.addEventListener(e,i,{capture:!0,passive:u}):t.addEventListener(e,i,!0):u!==void 0?t.addEventListener(e,i,{passive:u}):t.addEventListener(e,i,!1)}function Qc(t,e,i,s,u){var h=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var E=s.stateNode.containerInfo;if(E===u)break;if(y===4)for(y=s.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;E!==null;){if(y=di(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){s=h=y;continue t}E=E.parentNode}}s=s.return}Sr(function(){var P=h,Q=Aa(i),W=[];t:{var G=io.get(t);if(G!==void 0){var Y=Ls,pt=t;switch(t){case"keypress":if(Ra(i)===0)break t;case"keydown":case"keyup":Y=ql;break;case"focusin":pt="focus",Y=Mr;break;case"focusout":pt="blur",Y=Mr;break;case"beforeblur":case"afterblur":Y=Mr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Nu;break;case Ia:case eo:case Qa:Y=Nr;break;case $i:Y=Xl;break;case"scroll":case"scrollend":Y=Bt;break;case"wheel":Y=_i;break;case"copy":case"cut":case"paste":Y=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Vl;break;case"toggle":case"beforetoggle":Y=Pa}var Lt=(e&4)!==0,ee=!Lt&&(t==="scroll"||t==="scrollend"),A=Lt?G!==null?G+"Capture":null:G;Lt=[];for(var z=P,U;z!==null;){var F=z;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||A===null||(F=pi(z,A),F!=null&&Lt.push(ol(z,F,U))),ee)break;z=z.return}0<Lt.length&&(G=new Y(G,pt,null,i,Q),W.push({event:G,listeners:Lt}))}}if((e&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&i!==bs&&(pt=i.relatedTarget||i.fromElement)&&(di(pt)||pt[hi]))break t;if((Y||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(pt=i.relatedTarget||i.toElement,Y=P,pt=pt?di(pt):null,pt!==null&&(ee=d(pt),Lt=pt.tag,pt!==ee||Lt!==5&&Lt!==27&&Lt!==6)&&(pt=null)):(Y=null,pt=P),Y!==pt)){if(Lt=Ul,F="onMouseLeave",A="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=Vl,F="onPointerLeave",A="onPointerEnter",z="pointer"),ee=Y==null?G:Yn(Y),U=pt==null?G:Yn(pt),G=new Lt(F,z+"leave",Y,i,Q),G.target=ee,G.relatedTarget=U,F=null,di(Q)===P&&(Lt=new Lt(A,z+"enter",pt,i,Q),Lt.target=U,Lt.relatedTarget=ee,F=Lt),ee=F,Y&&pt)e:{for(Lt=Cg,A=Y,z=pt,U=0,F=A;F;F=Lt(F))U++;F=0;for(var bt=z;bt;bt=Lt(bt))F++;for(;0<U-F;)A=Lt(A),U--;for(;0<F-U;)z=Lt(z),F--;for(;U--;){if(A===z||z!==null&&A===z.alternate){Lt=A;break e}A=Lt(A),z=Lt(z)}Lt=null}else Lt=null;Y!==null&&lm(W,G,Y,Lt,!1),pt!==null&&ee!==null&&lm(W,ee,pt,Lt,!0)}}t:{if(G=P?Yn(P):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Yt=qa;else if(bn(G))if(Fl)Yt=zu;else{Yt=Du;var _t=Rn}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&za(P.elementType)&&(Yt=qa):Yt=Ki;if(Yt&&(Yt=Yt(t,P))){Kl(W,Yt,i,Q);break t}_t&&_t(t,G,P),t==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&zn(G,"number",G.value)}switch(_t=P?Yn(P):window,t){case"focusin":(bn(_t)||_t.contentEditable==="true")&&(Jn=_t,ks=P,Xa=null);break;case"focusout":Xa=ks=Jn=null;break;case"mousedown":Ji=!0;break;case"contextmenu":case"mouseup":case"dragend":Ji=!1,$l(W,i,Q);break;case"selectionchange":if(js)break;case"keydown":case"keyup":$l(W,i,Q)}var kt;if(Ss)t:{switch(t){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Xi?Ql(t,i)&&(Pt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Pt="onCompositionStart");Pt&&(Es&&i.locale!=="ko"&&(Xi||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Xi&&(kt=Qn()):(yn=Q,gi="value"in yn?yn.value:yn.textContent,Xi=!0)),_t=Ho(P,Pt),0<_t.length&&(Pt=new Cr(Pt,t,null,i,Q),W.push({event:Pt,listeners:_t}),kt?Pt.data=kt:(kt=zr(i),kt!==null&&(Pt.data=kt)))),(kt=ju?un(t,i):Ii(t,i))&&(Pt=Ho(P,"onBeforeInput"),0<Pt.length&&(_t=new Cr("onBeforeInput","beforeinput",null,i,Q),W.push({event:_t,listeners:Pt}),_t.data=kt)),Eg(W,t,P,i,Q)}sm(W,e)})}function ol(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Ho(t,e){for(var i=e+"Capture",s=[];t!==null;){var u=t,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=pi(t,i),u!=null&&s.unshift(ol(t,u,h)),u=pi(t,e),u!=null&&s.push(ol(t,u,h))),t.tag===3)return s;t=t.return}return[]}function Cg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lm(t,e,i,s,u){for(var h=e._reactName,y=[];i!==null&&i!==s;){var E=i,D=E.alternate,P=E.stateNode;if(E=E.tag,D!==null&&D===s)break;E!==5&&E!==26&&E!==27||P===null||(D=P,u?(P=pi(i,h),P!=null&&y.unshift(ol(i,P,D))):u||(P=pi(i,h),P!=null&&y.push(ol(i,P,D)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var jg=/\r\n?/g,kg=/\u0000|\uFFFD/g;function om(t){return(typeof t=="string"?t:""+t).replace(jg,`
`).replace(kg,"")}function um(t,e){return e=om(e),om(t)===e}function te(t,e,i,s,u,h){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||vn(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&vn(t,""+s);break;case"className":Wt(t,"class",s);break;case"tabIndex":Wt(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Wt(t,i,s);break;case"style":ys(t,s,h);break;case"data":if(e!=="object"){Wt(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Gi(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&te(t,e,"name",u.name,u,null),te(t,e,"formEncType",u.formEncType,u,null),te(t,e,"formMethod",u.formMethod,u,null),te(t,e,"formTarget",u.formTarget,u,null)):(te(t,e,"encType",u.encType,u,null),te(t,e,"method",u.method,u,null),te(t,e,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Gi(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=Ke);break;case"onScroll":s!=null&&Rt("scroll",t);break;case"onScrollEnd":s!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(p(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=Gi(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),zt(t,"popover",s);break;case"xlinkActuate":Qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qe(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qe(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qe(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qe(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":zt(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=xs.get(i)||i,zt(t,i,s))}}function Kc(t,e,i,s,u,h){switch(i){case"style":ys(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(p(61));if(i=s.__html,i!=null){if(u.children!=null)throw Error(p(60));t.innerHTML=i}}break;case"children":typeof s=="string"?vn(t,s):(typeof s=="number"||typeof s=="bigint")&&vn(t,""+s);break;case"onScroll":s!=null&&Rt("scroll",t);break;case"onScrollEnd":s!=null&&Rt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),e=i.slice(2,u?i.length-7:void 0),h=t[Me]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,u),typeof s=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,u);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):zt(t,i,s)}}}function Be(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var s=!1,u=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,e));default:te(t,e,h,y,i,null)}}u&&te(t,e,"srcSet",i.srcSet,i,null),s&&te(t,e,"src",i.src,i,null);return;case"input":Rt("invalid",t);var E=h=y=u=null,D=null,P=null;for(s in i)if(i.hasOwnProperty(s)){var Q=i[s];if(Q!=null)switch(s){case"name":u=Q;break;case"type":y=Q;break;case"checked":D=Q;break;case"defaultChecked":P=Q;break;case"value":h=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(p(137,e));break;default:te(t,e,s,Q,i,null)}}Da(t,h,E,D,P,y,u,!1);return;case"select":Rt("invalid",t),s=y=h=null;for(u in i)if(i.hasOwnProperty(u)&&(E=i[u],E!=null))switch(u){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":s=E;default:te(t,e,u,E,i,null)}e=h,i=y,t.multiple=!!s,e!=null?ne(t,!!s,e,!1):i!=null&&ne(t,!!s,i,!0);return;case"textarea":Rt("invalid",t),h=u=s=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":s=E;break;case"defaultValue":u=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(p(91));break;default:te(t,e,y,E,i,null)}Hi(t,s,u,h);return;case"option":for(D in i)i.hasOwnProperty(D)&&(s=i[D],s!=null)&&(D==="selected"?t.selected=s&&typeof s!="function"&&typeof s!="symbol":te(t,e,D,s,i,null));return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(s=0;s<ll.length;s++)Rt(ll[s],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(s=i[P],s!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,e));default:te(t,e,P,s,i,null)}return;default:if(za(e)){for(Q in i)i.hasOwnProperty(Q)&&(s=i[Q],s!==void 0&&Kc(t,e,Q,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&te(t,e,E,s,i,null))}function Dg(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,y=null,E=null,D=null,P=null,Q=null;for(Y in i){var W=i[Y];if(i.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:s.hasOwnProperty(Y)||te(t,e,Y,null,s,W)}}for(var G in s){var Y=s[G];if(W=i[G],s.hasOwnProperty(G)&&(Y!=null||W!=null))switch(G){case"type":h=Y;break;case"name":u=Y;break;case"checked":P=Y;break;case"defaultChecked":Q=Y;break;case"value":y=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(p(137,e));break;default:Y!==W&&te(t,e,G,Y,s,W)}}br(t,y,E,D,P,Q,h,u);return;case"select":Y=y=E=G=null;for(h in i)if(D=i[h],i.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":Y=D;default:s.hasOwnProperty(h)||te(t,e,h,null,s,D)}for(u in s)if(h=s[u],D=i[u],s.hasOwnProperty(u)&&(h!=null||D!=null))switch(u){case"value":G=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==D&&te(t,e,u,h,s,D)}e=E,i=y,s=Y,G!=null?ne(t,!!i,G,!1):!!s!=!!i&&(e!=null?ne(t,!!i,e,!0):ne(t,!!i,i?[]:"",!1));return;case"textarea":Y=G=null;for(E in i)if(u=i[E],i.hasOwnProperty(E)&&u!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(t,e,E,null,s,u)}for(y in s)if(u=s[y],h=i[y],s.hasOwnProperty(y)&&(u!=null||h!=null))switch(y){case"value":G=u;break;case"defaultValue":Y=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(p(91));break;default:u!==h&&te(t,e,y,u,s,h)}In(t,G,Y);return;case"option":for(var pt in i)G=i[pt],i.hasOwnProperty(pt)&&G!=null&&!s.hasOwnProperty(pt)&&(pt==="selected"?t.selected=!1:te(t,e,pt,null,s,G));for(D in s)G=s[D],Y=i[D],s.hasOwnProperty(D)&&G!==Y&&(G!=null||Y!=null)&&(D==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":te(t,e,D,G,s,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in i)G=i[Lt],i.hasOwnProperty(Lt)&&G!=null&&!s.hasOwnProperty(Lt)&&te(t,e,Lt,null,s,G);for(P in s)if(G=s[P],Y=i[P],s.hasOwnProperty(P)&&G!==Y&&(G!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(p(137,e));break;default:te(t,e,P,G,s,Y)}return;default:if(za(e)){for(var ee in i)G=i[ee],i.hasOwnProperty(ee)&&G!==void 0&&!s.hasOwnProperty(ee)&&Kc(t,e,ee,void 0,s,G);for(Q in s)G=s[Q],Y=i[Q],!s.hasOwnProperty(Q)||G===Y||G===void 0&&Y===void 0||Kc(t,e,Q,G,s,Y);return}}for(var A in i)G=i[A],i.hasOwnProperty(A)&&G!=null&&!s.hasOwnProperty(A)&&te(t,e,A,null,s,G);for(W in s)G=s[W],Y=i[W],!s.hasOwnProperty(W)||G===Y||G==null&&Y==null||te(t,e,W,G,s,Y)}function cm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var u=i[s],h=u.transferSize,y=u.initiatorType,E=u.duration;if(h&&E&&cm(y)){for(y=0,E=u.responseEnd,s+=1;s<i.length;s++){var D=i[s],P=D.startTime;if(P>E)break;var Q=D.transferSize,W=D.initiatorType;Q&&cm(W)&&(D=D.responseEnd,y+=Q*(D<E?1:(E-P)/(D-P)))}if(--s,e+=8*(h+y)/(u.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fc=null,Jc=null;function Zo(t){return t.nodeType===9?t:t.ownerDocument}function hm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $c=null;function Ag(){var t=window.event;return t&&t.type==="popstate"?t===$c?!1:($c=t,!0):($c=null,!1)}var fm=typeof setTimeout=="function"?setTimeout:void 0,Og=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,Rg=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(t){return mm.resolve(null).then(t).catch(Bg)}:fm;function Bg(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function pm(t,e){var i=e,s=0;do{var u=i.nextSibling;if(t.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(s===0){t.removeChild(u),ir(e);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")ul(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,ul(i);for(var h=i.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[Ca]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=y}}else i==="body"&&ul(t.ownerDocument.body);i=u}while(i);ir(e)}function gm(t,e){var i=t;t=0;do{var s=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=s}while(i)}function th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":th(i),_r(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Ug(t,e,i,s){for(;t.nodeType===1;){var u=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ca])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function Pg(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function _m(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Mn(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$?"||t.data==="$~"}function nh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hg(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var ih=null;function vm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Mn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function ym(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function xm(t,e,i){switch(e=Zo(i),t){case"html":if(t=e.documentElement,!t)throw Error(p(452));return t;case"head":if(t=e.head,!t)throw Error(p(453));return t;case"body":if(t=e.body,!t)throw Error(p(454));return t;default:throw Error(p(451))}}function ul(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);_r(t)}var Nn=new Map,bm=new Set;function Go(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=X.d;X.d={f:Zg,r:Gg,D:qg,C:Vg,L:Yg,m:Xg,X:Qg,S:Ig,M:Kg};function Zg(){var t=Di.f(),e=zo();return t||e}function Gg(t){var e=Bi(t);e!==null&&e.tag===5&&e.type==="form"?Bd(e):Di.r(t)}var tr=typeof document>"u"?null:document;function Lm(t,e,i){var s=tr;if(s&&typeof e=="string"&&e){var u=ae(e);u='link[rel="'+t+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),bm.has(u)||(bm.add(u),t={rel:t,crossOrigin:i,href:e},s.querySelector(u)===null&&(e=s.createElement("link"),Be(e,"link",t),ye(e),s.head.appendChild(e)))}}function qg(t){Di.D(t),Lm("dns-prefetch",t,null)}function Vg(t,e){Di.C(t,e),Lm("preconnect",t,e)}function Yg(t,e,i){Di.L(t,e,i);var s=tr;if(s&&t&&e){var u='link[rel="preload"][as="'+ae(e)+'"]';e==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+ae(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+ae(i.imageSizes)+'"]')):u+='[href="'+ae(t)+'"]';var h=u;switch(e){case"style":h=er(t);break;case"script":h=nr(t)}Nn.has(h)||(t=M({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Nn.set(h,t),s.querySelector(u)!==null||e==="style"&&s.querySelector(cl(h))||e==="script"&&s.querySelector(hl(h))||(e=s.createElement("link"),Be(e,"link",t),ye(e),s.head.appendChild(e)))}}function Xg(t,e){Di.m(t,e);var i=tr;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",u='link[rel="modulepreload"][as="'+ae(s)+'"][href="'+ae(t)+'"]',h=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=nr(t)}if(!Nn.has(h)&&(t=M({rel:"modulepreload",href:t},e),Nn.set(h,t),i.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(hl(h)))return}s=i.createElement("link"),Be(s,"link",t),ye(s),i.head.appendChild(s)}}}function Ig(t,e,i){Di.S(t,e,i);var s=tr;if(s&&t){var u=Ui(s).hoistableStyles,h=er(t);e=e||"default";var y=u.get(h);if(!y){var E={loading:0,preload:null};if(y=s.querySelector(cl(h)))E.loading=5;else{t=M({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Nn.get(h))&&ah(t,i);var D=y=s.createElement("link");ye(D),Be(D,"link",t),D._p=new Promise(function(P,Q){D.onload=P,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,qo(y,e,s)}y={type:"stylesheet",instance:y,count:1,state:E},u.set(h,y)}}}function Qg(t,e){Di.X(t,e);var i=tr;if(i&&t){var s=Ui(i).hoistableScripts,u=nr(t),h=s.get(u);h||(h=i.querySelector(hl(u)),h||(t=M({src:t,async:!0},e),(e=Nn.get(u))&&sh(t,e),h=i.createElement("script"),ye(h),Be(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function Kg(t,e){Di.M(t,e);var i=tr;if(i&&t){var s=Ui(i).hoistableScripts,u=nr(t),h=s.get(u);h||(h=i.querySelector(hl(u)),h||(t=M({src:t,async:!0,type:"module"},e),(e=Nn.get(u))&&sh(t,e),h=i.createElement("script"),ye(h),Be(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function wm(t,e,i,s){var u=(u=ct.current)?Go(u):null;if(!u)throw Error(p(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=er(i.href),i=Ui(u).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=er(i.href);var h=Ui(u).hoistableStyles,y=h.get(t);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=u.querySelector(cl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Nn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Nn.set(t,i),h||Fg(u,t,i,y.state))),e&&s===null)throw Error(p(528,""));return y}if(e&&s!==null)throw Error(p(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=nr(i),i=Ui(u).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,t))}}function er(t){return'href="'+ae(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function Sm(t){return M({},t,{"data-precedence":t.precedence,precedence:null})}function Fg(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Be(e,"link",i),ye(e),t.head.appendChild(e))}function nr(t){return'[src="'+ae(t)+'"]'}function hl(t){return"script[async]"+t}function Em(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ae(i.href)+'"]');if(s)return e.instance=s,ye(s),s;var u=M({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ye(s),Be(s,"style",u),qo(s,i.precedence,t),e.instance=s;case"stylesheet":u=er(i.href);var h=t.querySelector(cl(u));if(h)return e.state.loading|=4,e.instance=h,ye(h),h;s=Sm(i),(u=Nn.get(u))&&ah(s,u),h=(t.ownerDocument||t).createElement("link"),ye(h);var y=h;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Be(h,"link",s),e.state.loading|=4,qo(h,i.precedence,t),e.instance=h;case"script":return h=nr(i.src),(u=t.querySelector(hl(h)))?(e.instance=u,ye(u),u):(s=i,(u=Nn.get(h))&&(s=M({},i),sh(s,u)),t=t.ownerDocument||t,u=t.createElement("script"),ye(u),Be(u,"link",s),t.head.appendChild(u),e.instance=u);case"void":return null;default:throw Error(p(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,qo(s,i.precedence,t));return e.instance}function qo(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,h=u,y=0;y<s.length;y++){var E=s[y];if(E.dataset.precedence===e)h=E;else if(h!==u)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Vo=null;function Tm(t,e,i){if(Vo===null){var s=new Map,u=Vo=new Map;u.set(i,s)}else u=Vo,s=u.get(i),s||(s=new Map,u.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),u=0;u<i.length;u++){var h=i[u];if(!(h[Ca]||h[ve]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var E=s.get(y);E?E.push(h):s.set(y,[h])}}return s}function Mm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Jg(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Nm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Wg(t,e,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=er(s.href),h=e.querySelector(cl(u));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Yo.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=h,ye(h);return}h=e.ownerDocument||e,s=Sm(s),(u=Nn.get(u))&&ah(s,u),h=h.createElement("link"),ye(h);var y=h;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),Be(h,"link",s),i.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Yo.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var rh=0;function $g(t,e){return t.stylesheets&&t.count===0&&Io(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var s=setTimeout(function(){if(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+e);0<t.imgBytes&&rh===0&&(rh=62500*zg());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Io(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>rh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xo=null;function Io(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xo=new Map,e.forEach(t_,t),Xo=null,Yo.call(t))}function t_(t,e){if(!(e.state.loading&4)){var i=Xo.get(t);if(i)var s=i.get(null);else{i=new Map,Xo.set(t,i);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var y=u[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),s=y)}s&&i.set(null,s)}u=e.instance,y=u.getAttribute("data-precedence"),h=i.get(y)||s,h===s&&i.set(null,u),i.set(y,u),this.count++,s=Yo.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),h?h.parentNode.insertBefore(u,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),e.state.loading|=4}}var dl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function e_(t,e,i,s,u,h,y,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Cm(t,e,i,s,u,h,y,E,D,P,Q,W){return t=new e_(t,e,i,y,D,P,Q,W,E),e=1,h===!0&&(e|=24),h=Pe(3,null,null,e),t.current=h,h.stateNode=t,e=Pu(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:e},qu(h),t}function jm(t){return t?(t=vi,t):vi}function km(t,e,i,s,u,h){u=jm(u),s.context===null?s.context=u:s.pendingContext=u,s=ia(e),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=aa(t,s,e),i!==null&&(sn(i,t,e),Vr(i,t,e))}function Dm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function lh(t,e){Dm(t,e),(t=t.alternate)&&Dm(t,e)}function zm(t){if(t.tag===13||t.tag===31){var e=Sn(t,67108864);e!==null&&sn(e,t,67108864),lh(t,67108864)}}function Am(t){if(t.tag===13||t.tag===31){var e=mn();e=Ie(e);var i=Sn(t,e);i!==null&&sn(i,t,e),lh(t,e)}}var Qo=!0;function n_(t,e,i,s){var u=C.T;C.T=null;var h=X.p;try{X.p=2,oh(t,e,i,s)}finally{X.p=h,C.T=u}}function i_(t,e,i,s){var u=C.T;C.T=null;var h=X.p;try{X.p=8,oh(t,e,i,s)}finally{X.p=h,C.T=u}}function oh(t,e,i,s){if(Qo){var u=uh(s);if(u===null)Qc(t,e,s,Ko,i),Rm(t,s);else if(s_(u,t,e,i,s))s.stopPropagation();else if(Rm(t,s),e&4&&-1<a_.indexOf(t)){for(;u!==null;){var h=Bi(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=ui(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-qe(y);E.entanglements[1]|=D,y&=~D}si(h),(It&6)===0&&(ko=Ge()+500,rl(0))}}break;case 31:case 13:E=Sn(h,2),E!==null&&sn(E,h,2),zo(),lh(h,2)}if(h=uh(s),h===null&&Qc(t,e,s,Ko,i),h===u)break;u=h}u!==null&&s.stopPropagation()}else Qc(t,e,s,null,i)}}function uh(t){return t=Aa(t),ch(t)}var Ko=null;function ch(t){if(Ko=null,t=di(t),t!==null){var e=d(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=g(e),t!==null)return t;t=null}else if(i===31){if(t=x(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ko=t,null}function Om(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case gs:return 2;case dr:return 8;case wa:case gu:return 32;case fr:return 268435456;default:return 32}default:return 32}}var hh=!1,pa=null,ga=null,_a=null,fl=new Map,ml=new Map,va=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(t,e){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function pl(t,e,i,s,u,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},e!==null&&(e=Bi(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,u!==null&&e.indexOf(u)===-1&&e.push(u),t)}function s_(t,e,i,s,u){switch(e){case"focusin":return pa=pl(pa,t,e,i,s,u),!0;case"dragenter":return ga=pl(ga,t,e,i,s,u),!0;case"mouseover":return _a=pl(_a,t,e,i,s,u),!0;case"pointerover":var h=u.pointerId;return fl.set(h,pl(fl.get(h)||null,t,e,i,s,u)),!0;case"gotpointercapture":return h=u.pointerId,ml.set(h,pl(ml.get(h)||null,t,e,i,s,u)),!0}return!1}function Bm(t){var e=di(t.target);if(e!==null){var i=d(e);if(i!==null){if(e=i.tag,e===13){if(e=g(i),e!==null){t.blockedOn=e,gr(t.priority,function(){Am(i)});return}}else if(e===31){if(e=x(i),e!==null){t.blockedOn=e,gr(t.priority,function(){Am(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=uh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);bs=s,i.target.dispatchEvent(s),bs=null}else return e=Bi(i),e!==null&&zm(e),t.blockedOn=i,!1;e.shift()}return!0}function Um(t,e,i){Fo(t)&&i.delete(e)}function r_(){hh=!1,pa!==null&&Fo(pa)&&(pa=null),ga!==null&&Fo(ga)&&(ga=null),_a!==null&&Fo(_a)&&(_a=null),fl.forEach(Um),ml.forEach(Um)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,hh||(hh=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,r_)))}var Wo=null;function Pm(t){Wo!==t&&(Wo=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Wo===t&&(Wo=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],u=t[e+2];if(typeof s!="function"){if(ch(s||i)===null)continue;break}var h=Bi(i);h!==null&&(t.splice(e,3),e-=3,uc(h,{pending:!0,data:u,method:i.method,action:s},s,u))}}))}function ir(t){function e(D){return Jo(D,t)}pa!==null&&Jo(pa,t),ga!==null&&Jo(ga,t),_a!==null&&Jo(_a,t),fl.forEach(e),ml.forEach(e);for(var i=0;i<va.length;i++){var s=va[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<va.length&&(i=va[0],i.blockedOn===null);)Bm(i),i.blockedOn===null&&va.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],y=u[Me]||null;if(typeof h=="function")y||Pm(i);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(u=h,y=h[Me]||null)E=y.formAction;else if(ch(u)!==null)continue}else E=y.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),Pm(i)}}}function Hm(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function e(){u!==null&&(u(),u=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),u!==null&&(u(),u=null)}}}function dh(t){this._internalRoot=t}$o.prototype.render=dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(p(409));var i=e.current,s=mn();km(i,s,t,e,null,null)},$o.prototype.unmount=dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;km(t.current,2,null,t,null,null),zo(),e[hi]=null}};function $o(t){this._internalRoot=t}$o.prototype.unstable_scheduleHydration=function(t){if(t){var e=pr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<va.length&&e!==0&&e<va[i].priority;i++);va.splice(i,0,t),i===0&&Bm(t)}};var Zm=_.version;if(Zm!=="19.2.3")throw Error(p(527,Zm,"19.2.3"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(p(188)):(t=Object.keys(t).join(","),Error(p(268,t)));return t=w(e),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var l_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ri=tu.inject(l_),ze=tu}catch{}}return _l.createRoot=function(t,e){if(!r(t))throw Error(p(299));var i=!1,s="",u=Id,h=Qd,y=Kd;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(u=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError)),e=Cm(t,1,!1,null,null,i,s,null,u,h,y,Hm),t[hi]=e.current,Ic(t),new dh(e)},_l.hydrateRoot=function(t,e,i){if(!r(t))throw Error(p(299));var s=!1,u="",h=Id,y=Qd,E=Kd,D=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(D=i.formState)),e=Cm(t,1,!0,e,i??null,s,u,D,h,y,E,Hm),e.context=jm(null),i=e.current,s=mn(),s=Ie(s),u=ia(s),u.callback=null,aa(i,u,s),i=s,e.current.lanes=i,ci(e,i),si(e),t[hi]=e.current,Ic(t),new $o(e)},_l.version="19.2.3",_l}var Jm;function g_(){if(Jm)return ph.exports;Jm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(_){console.error(_)}}return o(),ph.exports=p_(),ph.exports}var __=g_();var Wm="popstate";function v_(o={}){function _(p,r){let{pathname:d,search:g,hash:x}=p.location;return wh("",{pathname:d,search:g,hash:x},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function m(p,r){return typeof r=="string"?r:bl(r)}return x_(_,m,null,o)}function ue(o,_){if(o===!1||o===null||typeof o>"u")throw new Error(_)}function gn(o,_){if(!o){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function y_(){return Math.random().toString(36).substring(2,10)}function $m(o,_){return{usr:o.state,key:o.key,idx:_}}function wh(o,_,m=null,p){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof _=="string"?ar(_):_,state:m,key:_&&_.key||p||y_()}}function bl({pathname:o="/",search:_="",hash:m=""}){return _&&_!=="?"&&(o+=_.charAt(0)==="?"?_:"?"+_),m&&m!=="#"&&(o+=m.charAt(0)==="#"?m:"#"+m),o}function ar(o){let _={};if(o){let m=o.indexOf("#");m>=0&&(_.hash=o.substring(m),o=o.substring(0,m));let p=o.indexOf("?");p>=0&&(_.search=o.substring(p),o=o.substring(0,p)),o&&(_.pathname=o)}return _}function x_(o,_,m,p={}){let{window:r=document.defaultView,v5Compat:d=!1}=p,g=r.history,x="POP",b=null,w=T();w==null&&(w=0,g.replaceState({...g.state,idx:w},""));function T(){return(g.state||{idx:null}).idx}function M(){x="POP";let R=T(),at=R==null?null:R-w;w=R,b&&b({action:x,location:V.location,delta:at})}function H(R,at){x="PUSH";let et=wh(V.location,R,at);w=T()+1;let nt=$m(et,w),yt=V.createHref(et);try{g.pushState(nt,"",yt)}catch(mt){if(mt instanceof DOMException&&mt.name==="DataCloneError")throw mt;r.location.assign(yt)}d&&b&&b({action:x,location:V.location,delta:1})}function I(R,at){x="REPLACE";let et=wh(V.location,R,at);w=T();let nt=$m(et,w),yt=V.createHref(et);g.replaceState(nt,"",yt),d&&b&&b({action:x,location:V.location,delta:0})}function K(R){return b_(R)}let V={get action(){return x},get location(){return o(r,g)},listen(R){if(b)throw new Error("A history only accepts one active listener");return r.addEventListener(Wm,M),b=R,()=>{r.removeEventListener(Wm,M),b=null}},createHref(R){return _(r,R)},createURL:K,encodeLocation(R){let at=K(R);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:H,replace:I,go(R){return g.go(R)}};return V}function b_(o,_=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),ue(m,"No window.location.(origin|href) available to create URL");let p=typeof o=="string"?o:bl(o);return p=p.replace(/ $/,"%20"),!_&&p.startsWith("//")&&(p=m+p),new URL(p,m)}function pp(o,_,m="/"){return L_(o,_,m,!1)}function L_(o,_,m,p){let r=typeof _=="string"?ar(_):_,d=Ai(r.pathname||"/",m);if(d==null)return null;let g=gp(o);w_(g);let x=null;for(let b=0;x==null&&b<g.length;++b){let w=A_(d);x=D_(g[b],w,p)}return x}function gp(o,_=[],m=[],p="",r=!1){let d=(g,x,b=r,w)=>{let T={relativePath:w===void 0?g.path||"":w,caseSensitive:g.caseSensitive===!0,childrenIndex:x,route:g};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(p)&&b)return;ue(T.relativePath.startsWith(p),`Absolute route path "${T.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(p.length)}let M=zi([p,T.relativePath]),H=m.concat(T);g.children&&g.children.length>0&&(ue(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${M}".`),gp(g.children,_,H,M,b)),!(g.path==null&&!g.index)&&_.push({path:M,score:j_(M,g.index),routesMeta:H})};return o.forEach((g,x)=>{if(g.path===""||!g.path?.includes("?"))d(g,x);else for(let b of _p(g.path))d(g,x,!0,b)}),_}function _p(o){let _=o.split("/");if(_.length===0)return[];let[m,...p]=_,r=m.endsWith("?"),d=m.replace(/\?$/,"");if(p.length===0)return r?[d,""]:[d];let g=_p(p.join("/")),x=[];return x.push(...g.map(b=>b===""?d:[d,b].join("/"))),r&&x.push(...g),x.map(b=>o.startsWith("/")&&b===""?"/":b)}function w_(o){o.sort((_,m)=>_.score!==m.score?m.score-_.score:k_(_.routesMeta.map(p=>p.childrenIndex),m.routesMeta.map(p=>p.childrenIndex)))}var S_=/^:[\w-]+$/,E_=3,T_=2,M_=1,N_=10,C_=-2,tp=o=>o==="*";function j_(o,_){let m=o.split("/"),p=m.length;return m.some(tp)&&(p+=C_),_&&(p+=T_),m.filter(r=>!tp(r)).reduce((r,d)=>r+(S_.test(d)?E_:d===""?M_:N_),p)}function k_(o,_){return o.length===_.length&&o.slice(0,-1).every((p,r)=>p===_[r])?o[o.length-1]-_[_.length-1]:0}function D_(o,_,m=!1){let{routesMeta:p}=o,r={},d="/",g=[];for(let x=0;x<p.length;++x){let b=p[x],w=x===p.length-1,T=d==="/"?_:_.slice(d.length)||"/",M=ru({path:b.relativePath,caseSensitive:b.caseSensitive,end:w},T),H=b.route;if(!M&&w&&m&&!p[p.length-1].route.index&&(M=ru({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},T)),!M)return null;Object.assign(r,M.params),g.push({params:r,pathname:zi([d,M.pathname]),pathnameBase:U_(zi([d,M.pathnameBase])),route:H}),M.pathnameBase!=="/"&&(d=zi([d,M.pathnameBase]))}return g}function ru(o,_){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[m,p]=z_(o.path,o.caseSensitive,o.end),r=_.match(m);if(!r)return null;let d=r[0],g=d.replace(/(.)\/+$/,"$1"),x=r.slice(1);return{params:p.reduce((w,{paramName:T,isOptional:M},H)=>{if(T==="*"){let K=x[H]||"";g=d.slice(0,d.length-K.length).replace(/(.)\/+$/,"$1")}const I=x[H];return M&&!I?w[T]=void 0:w[T]=(I||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:g,pattern:o}}function z_(o,_=!1,m=!0){gn(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let p=[],r="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,b)=>(p.push({paramName:x,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(p.push({paramName:"*"}),r+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?r+="\\/*$":o!==""&&o!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,_?void 0:"i"),p]}function A_(o){try{return o.split("/").map(_=>decodeURIComponent(_).replace(/\//g,"%2F")).join("/")}catch(_){return gn(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${_}).`),o}}function Ai(o,_){if(_==="/")return o;if(!o.toLowerCase().startsWith(_.toLowerCase()))return null;let m=_.endsWith("/")?_.length-1:_.length,p=o.charAt(m);return p&&p!=="/"?null:o.slice(m)||"/"}var vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O_=o=>vp.test(o);function R_(o,_="/"){let{pathname:m,search:p="",hash:r=""}=typeof o=="string"?ar(o):o,d;if(m)if(O_(m))d=m;else{if(m.includes("//")){let g=m;m=m.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${m}`)}m.startsWith("/")?d=ep(m.substring(1),"/"):d=ep(m,_)}else d=_;return{pathname:d,search:P_(p),hash:H_(r)}}function ep(o,_){let m=_.replace(/\/+$/,"").split("/");return o.split("/").forEach(r=>{r===".."?m.length>1&&m.pop():r!=="."&&m.push(r)}),m.length>1?m.join("/"):"/"}function yh(o,_,m,p){return`Cannot include a '${o}' character in a manually specified \`to.${_}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B_(o){return o.filter((_,m)=>m===0||_.route.path&&_.route.path.length>0)}function Ah(o){let _=B_(o);return _.map((m,p)=>p===_.length-1?m.pathname:m.pathnameBase)}function Oh(o,_,m,p=!1){let r;typeof o=="string"?r=ar(o):(r={...o},ue(!r.pathname||!r.pathname.includes("?"),yh("?","pathname","search",r)),ue(!r.pathname||!r.pathname.includes("#"),yh("#","pathname","hash",r)),ue(!r.search||!r.search.includes("#"),yh("#","search","hash",r)));let d=o===""||r.pathname==="",g=d?"/":r.pathname,x;if(g==null)x=m;else{let M=_.length-1;if(!p&&g.startsWith("..")){let H=g.split("/");for(;H[0]==="..";)H.shift(),M-=1;r.pathname=H.join("/")}x=M>=0?_[M]:"/"}let b=R_(r,x),w=g&&g!=="/"&&g.endsWith("/"),T=(d||g===".")&&m.endsWith("/");return!b.pathname.endsWith("/")&&(w||T)&&(b.pathname+="/"),b}var zi=o=>o.join("/").replace(/\/\/+/g,"/"),U_=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),P_=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,H_=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,Z_=class{constructor(o,_,m,p=!1){this.status=o,this.statusText=_||"",this.internal=p,m instanceof Error?(this.data=m.toString(),this.error=m):this.data=m}};function G_(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}function q_(o){return o.map(_=>_.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xp(o,_){let m=o;if(typeof m!="string"||!vp.test(m))return{absoluteURL:void 0,isExternal:!1,to:m};let p=m,r=!1;if(yp)try{let d=new URL(window.location.href),g=m.startsWith("//")?new URL(d.protocol+m):new URL(m),x=Ai(g.pathname,_);g.origin===d.origin&&x!=null?m=x+g.search+g.hash:r=!0}catch{gn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:p,isExternal:r,to:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bp=["POST","PUT","PATCH","DELETE"];new Set(bp);var V_=["GET",...bp];new Set(V_);var sr=k.createContext(null);sr.displayName="DataRouter";var ou=k.createContext(null);ou.displayName="DataRouterState";var Y_=k.createContext(!1),Lp=k.createContext({isTransitioning:!1});Lp.displayName="ViewTransition";var X_=k.createContext(new Map);X_.displayName="Fetchers";var I_=k.createContext(null);I_.displayName="Await";var _n=k.createContext(null);_n.displayName="Navigation";var wl=k.createContext(null);wl.displayName="Location";var Gn=k.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var Rh=k.createContext(null);Rh.displayName="RouteError";var wp="REACT_ROUTER_ERROR",Q_="REDIRECT",K_="ROUTE_ERROR_RESPONSE";function F_(o){if(o.startsWith(`${wp}:${Q_}:{`))try{let _=JSON.parse(o.slice(28));if(typeof _=="object"&&_&&typeof _.status=="number"&&typeof _.statusText=="string"&&typeof _.location=="string"&&typeof _.reloadDocument=="boolean"&&typeof _.replace=="boolean")return _}catch{}}function J_(o){if(o.startsWith(`${wp}:${K_}:{`))try{let _=JSON.parse(o.slice(40));if(typeof _=="object"&&_&&typeof _.status=="number"&&typeof _.statusText=="string")return new Z_(_.status,_.statusText,_.data)}catch{}}function W_(o,{relative:_}={}){ue(rr(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:p}=k.useContext(_n),{hash:r,pathname:d,search:g}=Sl(o,{relative:_}),x=d;return m!=="/"&&(x=d==="/"?m:zi([m,d])),p.createHref({pathname:x,search:g,hash:r})}function rr(){return k.useContext(wl)!=null}function qn(){return ue(rr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(wl).location}var Sp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ep(o){k.useContext(_n).static||k.useLayoutEffect(o)}function lr(){let{isDataRoute:o}=k.useContext(Gn);return o?fv():$_()}function $_(){ue(rr(),"useNavigate() may be used only in the context of a <Router> component.");let o=k.useContext(sr),{basename:_,navigator:m}=k.useContext(_n),{matches:p}=k.useContext(Gn),{pathname:r}=qn(),d=JSON.stringify(Ah(p)),g=k.useRef(!1);return Ep(()=>{g.current=!0}),k.useCallback((b,w={})=>{if(gn(g.current,Sp),!g.current)return;if(typeof b=="number"){m.go(b);return}let T=Oh(b,JSON.parse(d),r,w.relative==="path");o==null&&_!=="/"&&(T.pathname=T.pathname==="/"?_:zi([_,T.pathname])),(w.replace?m.replace:m.push)(T,w.state,w)},[_,m,d,r,o])}var tv=k.createContext(null);function ev(o){let _=k.useContext(Gn).outlet;return k.useMemo(()=>_&&k.createElement(tv.Provider,{value:o},_),[_,o])}function Sl(o,{relative:_}={}){let{matches:m}=k.useContext(Gn),{pathname:p}=qn(),r=JSON.stringify(Ah(m));return k.useMemo(()=>Oh(o,JSON.parse(r),p,_==="path"),[o,r,p,_])}function nv(o,_){return Tp(o,_)}function Tp(o,_,m,p,r){ue(rr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=k.useContext(_n),{matches:g}=k.useContext(Gn),x=g[g.length-1],b=x?x.params:{},w=x?x.pathname:"/",T=x?x.pathnameBase:"/",M=x&&x.route;{let et=M&&M.path||"";Np(w,!M||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let H=qn(),I;if(_){let et=typeof _=="string"?ar(_):_;ue(T==="/"||et.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),I=et}else I=H;let K=I.pathname||"/",V=K;if(T!=="/"){let et=T.replace(/^\//,"").split("/");V="/"+K.replace(/^\//,"").split("/").slice(et.length).join("/")}let R=pp(o,{pathname:V});gn(M||R!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),gn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=lv(R&&R.map(et=>Object.assign({},et,{params:Object.assign({},b,et.params),pathname:zi([T,d.encodeLocation?d.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:zi([T,d.encodeLocation?d.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),g,m,p,r);return _&&at?k.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},at):at}function iv(){let o=dv(),_=G_(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),m=o instanceof Error?o.stack:null,p="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:p},d={padding:"2px 4px",backgroundColor:p},g=null;return console.error("Error handled by React Router default ErrorBoundary:",o),g=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:d},"ErrorBoundary")," or"," ",k.createElement("code",{style:d},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},_),m?k.createElement("pre",{style:r},m):null,g)}var av=k.createElement(iv,null),Mp=class extends k.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,_){return _.location!==o.location||_.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:_.error,location:_.location,revalidation:o.revalidation||_.revalidation}}componentDidCatch(o,_){this.props.onError?this.props.onError(o,_):console.error("React Router caught the following error during render",o)}render(){let o=this.state.error;if(this.context&&typeof o=="object"&&o&&"digest"in o&&typeof o.digest=="string"){const m=J_(o.digest);m&&(o=m)}let _=o!==void 0?k.createElement(Gn.Provider,{value:this.props.routeContext},k.createElement(Rh.Provider,{value:o,children:this.props.component})):this.props.children;return this.context?k.createElement(sv,{error:o},_):_}};Mp.contextType=Y_;var xh=new WeakMap;function sv({children:o,error:_}){let{basename:m}=k.useContext(_n);if(typeof _=="object"&&_&&"digest"in _&&typeof _.digest=="string"){let p=F_(_.digest);if(p){let r=xh.get(_);if(r)throw r;let d=xp(p.location,m);if(yp&&!xh.get(_))if(d.isExternal||p.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:p.replace}));throw xh.set(_,g),g}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return o}function rv({routeContext:o,match:_,children:m}){let p=k.useContext(sr);return p&&p.static&&p.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=_.route.id),k.createElement(Gn.Provider,{value:o},m)}function lv(o,_=[],m=null,p=null,r=null){if(o==null){if(!m)return null;if(m.errors)o=m.matches;else if(_.length===0&&!m.initialized&&m.matches.length>0)o=m.matches;else return null}let d=o,g=m?.errors;if(g!=null){let T=d.findIndex(M=>M.route.id&&g?.[M.route.id]!==void 0);ue(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),d=d.slice(0,Math.min(d.length,T+1))}let x=!1,b=-1;if(m)for(let T=0;T<d.length;T++){let M=d[T];if((M.route.HydrateFallback||M.route.hydrateFallbackElement)&&(b=T),M.route.id){let{loaderData:H,errors:I}=m,K=M.route.loader&&!H.hasOwnProperty(M.route.id)&&(!I||I[M.route.id]===void 0);if(M.route.lazy||K){x=!0,b>=0?d=d.slice(0,b+1):d=[d[0]];break}}}let w=m&&p?(T,M)=>{p(T,{location:m.location,params:m.matches?.[0]?.params??{},unstable_pattern:q_(m.matches),errorInfo:M})}:void 0;return d.reduceRight((T,M,H)=>{let I,K=!1,V=null,R=null;m&&(I=g&&M.route.id?g[M.route.id]:void 0,V=M.route.errorElement||av,x&&(b<0&&H===0?(Np("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,R=null):b===H&&(K=!0,R=M.route.hydrateFallbackElement||null)));let at=_.concat(d.slice(0,H+1)),et=()=>{let nt;return I?nt=V:K?nt=R:M.route.Component?nt=k.createElement(M.route.Component,null):M.route.element?nt=M.route.element:nt=T,k.createElement(rv,{match:M,routeContext:{outlet:T,matches:at,isDataRoute:m!=null},children:nt})};return m&&(M.route.ErrorBoundary||M.route.errorElement||H===0)?k.createElement(Mp,{location:m.location,revalidation:m.revalidation,component:V,error:I,children:et(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:w}):et()},null)}function Bh(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ov(o){let _=k.useContext(sr);return ue(_,Bh(o)),_}function uv(o){let _=k.useContext(ou);return ue(_,Bh(o)),_}function cv(o){let _=k.useContext(Gn);return ue(_,Bh(o)),_}function Uh(o){let _=cv(o),m=_.matches[_.matches.length-1];return ue(m.route.id,`${o} can only be used on routes that contain a unique "id"`),m.route.id}function hv(){return Uh("useRouteId")}function dv(){let o=k.useContext(Rh),_=uv("useRouteError"),m=Uh("useRouteError");return o!==void 0?o:_.errors?.[m]}function fv(){let{router:o}=ov("useNavigate"),_=Uh("useNavigate"),m=k.useRef(!1);return Ep(()=>{m.current=!0}),k.useCallback(async(r,d={})=>{gn(m.current,Sp),m.current&&(typeof r=="number"?await o.navigate(r):await o.navigate(r,{fromRouteId:_,...d}))},[o,_])}var np={};function Np(o,_,m){!_&&!np[o]&&(np[o]=!0,gn(!1,m))}k.memo(mv);function mv({routes:o,future:_,state:m,onError:p}){return Tp(o,void 0,m,p,_)}function pv({to:o,replace:_,state:m,relative:p}){ue(rr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=k.useContext(_n);gn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=k.useContext(Gn),{pathname:g}=qn(),x=lr(),b=Oh(o,Ah(d),g,p==="path"),w=JSON.stringify(b);return k.useEffect(()=>{x(JSON.parse(w),{replace:_,state:m,relative:p})},[x,w,p,_,m]),null}function Sh(o){return ev(o.context)}function pn(o){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gv({basename:o="/",children:_=null,location:m,navigationType:p="POP",navigator:r,static:d=!1,unstable_useTransitions:g}){ue(!rr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=o.replace(/^\/*/,"/"),b=k.useMemo(()=>({basename:x,navigator:r,static:d,unstable_useTransitions:g,future:{}}),[x,r,d,g]);typeof m=="string"&&(m=ar(m));let{pathname:w="/",search:T="",hash:M="",state:H=null,key:I="default"}=m,K=k.useMemo(()=>{let V=Ai(w,x);return V==null?null:{location:{pathname:V,search:T,hash:M,state:H,key:I},navigationType:p}},[x,w,T,M,H,I,p]);return gn(K!=null,`<Router basename="${x}"> is not able to match the URL "${w}${T}${M}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:k.createElement(_n.Provider,{value:b},k.createElement(wl.Provider,{children:_,value:K}))}function _v({children:o,location:_}){return nv(Eh(o),_)}function Eh(o,_=[]){let m=[];return k.Children.forEach(o,(p,r)=>{if(!k.isValidElement(p))return;let d=[..._,r];if(p.type===k.Fragment){m.push.apply(m,Eh(p.props.children,d));return}ue(p.type===pn,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!p.props.index||!p.props.children,"An index route cannot have child routes.");let g={id:p.props.id||d.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(g.children=Eh(p.props.children,d)),m.push(g)}),m}var nu="get",iu="application/x-www-form-urlencoded";function uu(o){return typeof HTMLElement<"u"&&o instanceof HTMLElement}function vv(o){return uu(o)&&o.tagName.toLowerCase()==="button"}function yv(o){return uu(o)&&o.tagName.toLowerCase()==="form"}function xv(o){return uu(o)&&o.tagName.toLowerCase()==="input"}function bv(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Lv(o,_){return o.button===0&&(!_||_==="_self")&&!bv(o)}function Th(o=""){return new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((_,m)=>{let p=o[m];return _.concat(Array.isArray(p)?p.map(r=>[m,r]):[[m,p]])},[]))}function wv(o,_){let m=Th(o);return _&&_.forEach((p,r)=>{m.has(r)||_.getAll(r).forEach(d=>{m.append(r,d)})}),m}var eu=null;function Sv(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var Ev=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bh(o){return o!=null&&!Ev.has(o)?(gn(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${iu}"`),null):o}function Tv(o,_){let m,p,r,d,g;if(yv(o)){let x=o.getAttribute("action");p=x?Ai(x,_):null,m=o.getAttribute("method")||nu,r=bh(o.getAttribute("enctype"))||iu,d=new FormData(o)}else if(vv(o)||xv(o)&&(o.type==="submit"||o.type==="image")){let x=o.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=o.getAttribute("formaction")||x.getAttribute("action");if(p=b?Ai(b,_):null,m=o.getAttribute("formmethod")||x.getAttribute("method")||nu,r=bh(o.getAttribute("formenctype"))||bh(x.getAttribute("enctype"))||iu,d=new FormData(x,o),!Sv()){let{name:w,type:T,value:M}=o;if(T==="image"){let H=w?`${w}.`:"";d.append(`${H}x`,"0"),d.append(`${H}y`,"0")}else w&&d.append(w,M)}}else{if(uu(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=nu,p=null,r=iu,g=o}return d&&r==="text/plain"&&(g=d,d=void 0),{action:p,method:m.toLowerCase(),encType:r,formData:d,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ph(o,_){if(o===!1||o===null||typeof o>"u")throw new Error(_)}function Mv(o,_,m,p){let r=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return m?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${p}`:r.pathname=`${r.pathname}.${p}`:r.pathname==="/"?r.pathname=`_root.${p}`:_&&Ai(r.pathname,_)==="/"?r.pathname=`${_.replace(/\/$/,"")}/_root.${p}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${p}`,r}async function Nv(o,_){if(o.id in _)return _[o.id];try{let m=await import(o.module);return _[o.id]=m,m}catch(m){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cv(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function jv(o,_,m){let p=await Promise.all(o.map(async r=>{let d=_.routes[r.route.id];if(d){let g=await Nv(d,m);return g.links?g.links():[]}return[]}));return Av(p.flat(1).filter(Cv).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ip(o,_,m,p,r,d){let g=(b,w)=>m[w]?b.route.id!==m[w].route.id:!0,x=(b,w)=>m[w].pathname!==b.pathname||m[w].route.path?.endsWith("*")&&m[w].params["*"]!==b.params["*"];return d==="assets"?_.filter((b,w)=>g(b,w)||x(b,w)):d==="data"?_.filter((b,w)=>{let T=p.routes[b.route.id];if(!T||!T.hasLoader)return!1;if(g(b,w)||x(b,w))return!0;if(b.route.shouldRevalidate){let M=b.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function kv(o,_,{includeHydrateFallback:m}={}){return Dv(o.map(p=>{let r=_.routes[p.route.id];if(!r)return[];let d=[r.module];return r.clientActionModule&&(d=d.concat(r.clientActionModule)),r.clientLoaderModule&&(d=d.concat(r.clientLoaderModule)),m&&r.hydrateFallbackModule&&(d=d.concat(r.hydrateFallbackModule)),r.imports&&(d=d.concat(r.imports)),d}).flat(1))}function Dv(o){return[...new Set(o)]}function zv(o){let _={},m=Object.keys(o).sort();for(let p of m)_[p]=o[p];return _}function Av(o,_){let m=new Set;return new Set(_),o.reduce((p,r)=>{let d=JSON.stringify(zv(r));return m.has(d)||(m.add(d),p.push({key:d,link:r})),p},[])}function Cp(){let o=k.useContext(sr);return Ph(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Ov(){let o=k.useContext(ou);return Ph(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Hh=k.createContext(void 0);Hh.displayName="FrameworkContext";function jp(){let o=k.useContext(Hh);return Ph(o,"You must render this element inside a <HydratedRouter> element"),o}function Rv(o,_){let m=k.useContext(Hh),[p,r]=k.useState(!1),[d,g]=k.useState(!1),{onFocus:x,onBlur:b,onMouseEnter:w,onMouseLeave:T,onTouchStart:M}=_,H=k.useRef(null);k.useEffect(()=>{if(o==="render"&&g(!0),o==="viewport"){let V=at=>{at.forEach(et=>{g(et.isIntersecting)})},R=new IntersectionObserver(V,{threshold:.5});return H.current&&R.observe(H.current),()=>{R.disconnect()}}},[o]),k.useEffect(()=>{if(p){let V=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(V)}}},[p]);let I=()=>{r(!0)},K=()=>{r(!1),g(!1)};return m?o!=="intent"?[d,H,{}]:[d,H,{onFocus:vl(x,I),onBlur:vl(b,K),onMouseEnter:vl(w,I),onMouseLeave:vl(T,K),onTouchStart:vl(M,I)}]:[!1,H,{}]}function vl(o,_){return m=>{o&&o(m),m.defaultPrevented||_(m)}}function Bv({page:o,..._}){let{router:m}=Cp(),p=k.useMemo(()=>pp(m.routes,o,m.basename),[m.routes,o,m.basename]);return p?k.createElement(Pv,{page:o,matches:p,..._}):null}function Uv(o){let{manifest:_,routeModules:m}=jp(),[p,r]=k.useState([]);return k.useEffect(()=>{let d=!1;return jv(o,_,m).then(g=>{d||r(g)}),()=>{d=!0}},[o,_,m]),p}function Pv({page:o,matches:_,...m}){let p=qn(),{future:r,manifest:d,routeModules:g}=jp(),{basename:x}=Cp(),{loaderData:b,matches:w}=Ov(),T=k.useMemo(()=>ip(o,_,w,d,p,"data"),[o,_,w,d,p]),M=k.useMemo(()=>ip(o,_,w,d,p,"assets"),[o,_,w,d,p]),H=k.useMemo(()=>{if(o===p.pathname+p.search+p.hash)return[];let V=new Set,R=!1;if(_.forEach(et=>{let nt=d.routes[et.route.id];!nt||!nt.hasLoader||(!T.some(yt=>yt.route.id===et.route.id)&&et.route.id in b&&g[et.route.id]?.shouldRevalidate||nt.hasClientLoader?R=!0:V.add(et.route.id))}),V.size===0)return[];let at=Mv(o,x,r.unstable_trailingSlashAwareDataRequests,"data");return R&&V.size>0&&at.searchParams.set("_routes",_.filter(et=>V.has(et.route.id)).map(et=>et.route.id).join(",")),[at.pathname+at.search]},[x,r.unstable_trailingSlashAwareDataRequests,b,p,d,T,_,o,g]),I=k.useMemo(()=>kv(M,d),[M,d]),K=Uv(M);return k.createElement(k.Fragment,null,H.map(V=>k.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...m})),I.map(V=>k.createElement("link",{key:V,rel:"modulepreload",href:V,...m})),K.map(({key:V,link:R})=>k.createElement("link",{key:V,nonce:m.nonce,...R})))}function Hv(...o){return _=>{o.forEach(m=>{typeof m=="function"?m(_):m!=null&&(m.current=_)})}}var Zv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zv&&(window.__reactRouterVersion="7.12.0")}catch{}function Gv({basename:o,children:_,unstable_useTransitions:m,window:p}){let r=k.useRef();r.current==null&&(r.current=v_({window:p,v5Compat:!0}));let d=r.current,[g,x]=k.useState({action:d.action,location:d.location}),b=k.useCallback(w=>{m===!1?x(w):k.startTransition(()=>x(w))},[m]);return k.useLayoutEffect(()=>d.listen(b),[d,b]),k.createElement(gv,{basename:o,children:_,location:g.location,navigationType:g.action,navigator:d,unstable_useTransitions:m})}var kp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dp=k.forwardRef(function({onClick:_,discover:m="render",prefetch:p="none",relative:r,reloadDocument:d,replace:g,state:x,target:b,to:w,preventScrollReset:T,viewTransition:M,unstable_defaultShouldRevalidate:H,...I},K){let{basename:V,unstable_useTransitions:R}=k.useContext(_n),at=typeof w=="string"&&kp.test(w),et=xp(w,V);w=et.to;let nt=W_(w,{relative:r}),[yt,mt,rt]=Rv(p,I),dt=Yv(w,{replace:g,state:x,target:b,preventScrollReset:T,relative:r,viewTransition:M,unstable_defaultShouldRevalidate:H,unstable_useTransitions:R});function Et(Ct){_&&_(Ct),Ct.defaultPrevented||dt(Ct)}let Dt=k.createElement("a",{...I,...rt,href:et.absoluteURL||nt,onClick:et.isExternal||d?_:Et,ref:Hv(K,mt),target:b,"data-discover":!at&&m==="render"?"true":void 0});return yt&&!at?k.createElement(k.Fragment,null,Dt,k.createElement(Bv,{page:nt})):Dt});Dp.displayName="Link";var zp=k.forwardRef(function({"aria-current":_="page",caseSensitive:m=!1,className:p="",end:r=!1,style:d,to:g,viewTransition:x,children:b,...w},T){let M=Sl(g,{relative:w.relative}),H=qn(),I=k.useContext(ou),{navigator:K,basename:V}=k.useContext(_n),R=I!=null&&Jv(M)&&x===!0,at=K.encodeLocation?K.encodeLocation(M).pathname:M.pathname,et=H.pathname,nt=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;m||(et=et.toLowerCase(),nt=nt?nt.toLowerCase():null,at=at.toLowerCase()),nt&&V&&(nt=Ai(nt,V)||nt);const yt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let mt=et===at||!r&&et.startsWith(at)&&et.charAt(yt)==="/",rt=nt!=null&&(nt===at||!r&&nt.startsWith(at)&&nt.charAt(at.length)==="/"),dt={isActive:mt,isPending:rt,isTransitioning:R},Et=mt?_:void 0,Dt;typeof p=="function"?Dt=p(dt):Dt=[p,mt?"active":null,rt?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Ct=typeof d=="function"?d(dt):d;return k.createElement(Dp,{...w,"aria-current":Et,className:Dt,ref:T,style:Ct,to:g,viewTransition:x},typeof b=="function"?b(dt):b)});zp.displayName="NavLink";var qv=k.forwardRef(({discover:o="render",fetcherKey:_,navigate:m,reloadDocument:p,replace:r,state:d,method:g=nu,action:x,onSubmit:b,relative:w,preventScrollReset:T,viewTransition:M,unstable_defaultShouldRevalidate:H,...I},K)=>{let{unstable_useTransitions:V}=k.useContext(_n),R=Kv(),at=Fv(x,{relative:w}),et=g.toLowerCase()==="get"?"get":"post",nt=typeof x=="string"&&kp.test(x),yt=mt=>{if(b&&b(mt),mt.defaultPrevented)return;mt.preventDefault();let rt=mt.nativeEvent.submitter,dt=rt?.getAttribute("formmethod")||g,Et=()=>R(rt||mt.currentTarget,{fetcherKey:_,method:dt,navigate:m,replace:r,state:d,relative:w,preventScrollReset:T,viewTransition:M,unstable_defaultShouldRevalidate:H});V&&m!==!1?k.startTransition(()=>Et()):Et()};return k.createElement("form",{ref:K,method:et,action:at,onSubmit:p?b:yt,...I,"data-discover":!nt&&o==="render"?"true":void 0})});qv.displayName="Form";function Vv(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ap(o){let _=k.useContext(sr);return ue(_,Vv(o)),_}function Yv(o,{target:_,replace:m,state:p,preventScrollReset:r,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:b}={}){let w=lr(),T=qn(),M=Sl(o,{relative:d});return k.useCallback(H=>{if(Lv(H,_)){H.preventDefault();let I=m!==void 0?m:bl(T)===bl(M),K=()=>w(o,{replace:I,state:p,preventScrollReset:r,relative:d,viewTransition:g,unstable_defaultShouldRevalidate:x});b?k.startTransition(()=>K()):K()}},[T,w,M,m,p,_,o,r,d,g,x,b])}function Xv(o){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let _=k.useRef(Th(o)),m=k.useRef(!1),p=qn(),r=k.useMemo(()=>wv(p.search,m.current?null:_.current),[p.search]),d=lr(),g=k.useCallback((x,b)=>{const w=Th(typeof x=="function"?x(new URLSearchParams(r)):x);m.current=!0,d("?"+w,b)},[d,r]);return[r,g]}var Iv=0,Qv=()=>`__${String(++Iv)}__`;function Kv(){let{router:o}=Ap("useSubmit"),{basename:_}=k.useContext(_n),m=hv(),p=o.fetch,r=o.navigate;return k.useCallback(async(d,g={})=>{let{action:x,method:b,encType:w,formData:T,body:M}=Tv(d,_);if(g.navigate===!1){let H=g.fetcherKey||Qv();await p(H,m,g.action||x,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:T,body:M,formMethod:g.method||b,formEncType:g.encType||w,flushSync:g.flushSync})}else await r(g.action||x,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:T,body:M,formMethod:g.method||b,formEncType:g.encType||w,replace:g.replace,state:g.state,fromRouteId:m,flushSync:g.flushSync,viewTransition:g.viewTransition})},[p,r,_,m])}function Fv(o,{relative:_}={}){let{basename:m}=k.useContext(_n),p=k.useContext(Gn);ue(p,"useFormAction must be used inside a RouteContext");let[r]=p.matches.slice(-1),d={...Sl(o||".",{relative:_})},g=qn();if(o==null){d.search=g.search;let x=new URLSearchParams(d.search),b=x.getAll("index");if(b.some(T=>T==="")){x.delete("index"),b.filter(M=>M).forEach(M=>x.append("index",M));let T=x.toString();d.search=T?`?${T}`:""}}return(!o||o===".")&&r.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(d.pathname=d.pathname==="/"?m:zi([m,d.pathname])),bl(d)}function Jv(o,{relative:_}={}){let m=k.useContext(Lp);ue(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=Ap("useViewTransitionState"),r=Sl(o,{relative:_});if(!m.isTransitioning)return!1;let d=Ai(m.currentLocation.pathname,p)||m.currentLocation.pathname,g=Ai(m.nextLocation.pathname,p)||m.nextLocation.pathname;return ru(r.pathname,g)!=null||ru(r.pathname,d)!=null}var Wv=mp();const ap=o=>{let _;const m=new Set,p=(w,T)=>{const M=typeof w=="function"?w(_):w;if(!Object.is(M,_)){const H=_;_=T??(typeof M!="object"||M===null)?M:Object.assign({},_,M),m.forEach(I=>I(_,H))}},r=()=>_,x={setState:p,getState:r,getInitialState:()=>b,subscribe:w=>(m.add(w),()=>m.delete(w))},b=_=o(p,r,x);return x},$v=(o=>o?ap(o):ap),ty=o=>o;function ey(o,_=ty){const m=cs.useSyncExternalStore(o.subscribe,cs.useCallback(()=>_(o.getState()),[o,_]),cs.useCallback(()=>_(o.getInitialState()),[o,_]));return cs.useDebugValue(m),m}const sp=o=>{const _=$v(o),m=p=>ey(_,p);return Object.assign(m,_),m},or=(o=>o?sp(o):sp),ke=or(o=>({drones:new Map,selectedDroneId:null,gatewayStatus:null,isConnected:!1,lastUpdate:0,setDrone:_=>o(m=>{const p=new Map(m.drones);return p.set(_.device_id,_),{drones:p,lastUpdate:Date.now()}}),setDrones:_=>o(()=>{const m=new Map;return _.forEach(p=>m.set(p.device_id,p)),{drones:m,lastUpdate:Date.now()}}),removeDrone:_=>o(m=>{const p=new Map(m.drones);return p.delete(_),{drones:p,selectedDroneId:m.selectedDroneId===_?null:m.selectedDroneId}}),selectDrone:_=>o({selectedDroneId:_}),setGatewayStatus:_=>o({gatewayStatus:_}),setConnected:_=>o({isConnected:_}),clear:()=>o({drones:new Map,selectedDroneId:null,gatewayStatus:null,isConnected:!1})})),Op=()=>ke(o=>Array.from(o.drones.values())),ny=()=>ke(o=>o.isConnected),cu=()=>ke(o=>o.gatewayStatus);function iy(){const o=ny(),_=cu();return c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Open-UAV Telemetry Bridge"}),_&&c.jsxs("span",{className:"text-sm text-gray-400",children:["v",_.version]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"text-sm text-gray-300",children:o?"Connected":"Disconnected"})]}),_&&c.jsxs("div",{className:"text-sm text-gray-400",children:[c.jsxs("span",{className:"mr-4",children:["Drones: ",_.stats.active_drones]}),c.jsxs("span",{children:["Clients: ",_.stats.websocket_clients]})]})]})]})})}function ay(o,_){let m;try{m=o()}catch{return}return{getItem:r=>{var d;const g=b=>b===null?null:JSON.parse(b,void 0),x=(d=m.getItem(r))!=null?d:null;return x instanceof Promise?x.then(g):g(x)},setItem:(r,d)=>m.setItem(r,JSON.stringify(d,void 0)),removeItem:r=>m.removeItem(r)}}const Mh=o=>_=>{try{const m=o(_);return m instanceof Promise?m:{then(p){return Mh(p)(m)},catch(p){return this}}}catch(m){return{then(p){return this},catch(p){return Mh(p)(m)}}}},sy=(o,_)=>(m,p,r)=>{let d={storage:ay(()=>localStorage),partialize:R=>R,version:0,merge:(R,at)=>({...at,...R}),..._},g=!1,x=0;const b=new Set,w=new Set;let T=d.storage;if(!T)return o((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),m(...R)},p,r);const M=()=>{const R=d.partialize({...p()});return T.setItem(d.name,{state:R,version:d.version})},H=r.setState;r.setState=(R,at)=>(H(R,at),M());const I=o((...R)=>(m(...R),M()),p,r);r.getInitialState=()=>I;let K;const V=()=>{var R,at;if(!T)return;const et=++x;g=!1,b.forEach(yt=>{var mt;return yt((mt=p())!=null?mt:I)});const nt=((at=d.onRehydrateStorage)==null?void 0:at.call(d,(R=p())!=null?R:I))||void 0;return Mh(T.getItem.bind(T))(d.name).then(yt=>{if(yt)if(typeof yt.version=="number"&&yt.version!==d.version){if(d.migrate){const mt=d.migrate(yt.state,yt.version);return mt instanceof Promise?mt.then(rt=>[!0,rt]):[!0,mt]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,yt.state];return[!1,void 0]}).then(yt=>{var mt;if(et!==x)return;const[rt,dt]=yt;if(K=d.merge(dt,(mt=p())!=null?mt:I),m(K,!0),rt)return M()}).then(()=>{et===x&&(nt?.(K,void 0),K=p(),g=!0,w.forEach(yt=>yt(K)))}).catch(yt=>{et===x&&nt?.(void 0,yt)})};return r.persist={setOptions:R=>{d={...d,...R},R.storage&&(T=R.storage)},clearStorage:()=>{T?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>V(),hasHydrated:()=>g,onHydrate:R=>(b.add(R),()=>{b.delete(R)}),onFinishHydration:R=>(w.add(R),()=>{w.delete(R)})},d.skipHydration||V(),K||I},ry=sy,Cn=or()(ry((o,_)=>({token:null,user:null,expiresAt:null,authEnabled:null,isAuthenticated:!1,setAuth:(m,p,r)=>o({token:m,user:p,expiresAt:r,isAuthenticated:!0}),setAuthEnabled:m=>o({authEnabled:m}),logout:()=>o({token:null,user:null,expiresAt:null,isAuthenticated:!1}),isTokenExpired:()=>{const{expiresAt:m}=_();return m?Date.now()/1e3>m:!0}}),{name:"outb-auth",partialize:o=>({token:o.token,user:o.user,expiresAt:o.expiresAt,isAuthenticated:o.isAuthenticated})})),ly=()=>Cn(o=>o.user),Rp=()=>Cn(o=>o.isAuthenticated),Zh=()=>Cn(o=>o.authEnabled),Nh="/api/v1";function Ch(){return Cn.getState().token}async function Zt(o,_){const m=Ch(),p={"Content-Type":"application/json",..._?.headers||{}};m&&(p.Authorization=`Bearer ${m}`);const r=await fetch(`${Nh}${o}`,{..._,headers:p});if(r.status===401&&Cn.getState().authEnabled&&Cn.getState().logout(),!r.ok){const d=await r.json().catch(()=>({error:r.statusText}));throw new Error(d.error||`HTTP ${r.status}`)}return r.json()}const Ht={login:o=>Zt("/auth/login",{method:"POST",body:JSON.stringify(o)}),logout:()=>Zt("/auth/logout",{method:"POST"}),getMe:()=>Zt("/auth/me"),getStatus:()=>Zt("/status"),getDrones:()=>Zt("/drones"),getDrone:o=>Zt(`/drones/${encodeURIComponent(o)}`),getTrack:(o,_,m)=>{const p=new URLSearchParams;_!==void 0&&p.set("limit",String(_)),m!==void 0&&p.set("since",String(m));const r=p.toString();return Zt(`/drones/${encodeURIComponent(o)}/track${r?`?${r}`:""}`)},clearTrack:o=>Zt(`/drones/${encodeURIComponent(o)}/track`,{method:"DELETE"}),checkHealth:async()=>{try{return(await fetch("/health")).ok}catch{return!1}},getConfig:()=>Zt("/config"),updateMAVLinkConfig:o=>Zt("/config/adapters/mavlink",{method:"PUT",body:JSON.stringify(o)}),updateDJIConfig:o=>Zt("/config/adapters/dji",{method:"PUT",body:JSON.stringify(o)}),updateMQTTConfig:o=>Zt("/config/publishers/mqtt",{method:"PUT",body:JSON.stringify(o)}),updateGB28181Config:o=>Zt("/config/publishers/gb28181",{method:"PUT",body:JSON.stringify(o)}),updateThrottleConfig:o=>Zt("/config/throttle",{method:"PUT",body:JSON.stringify(o)}),updateCoordinateConfig:o=>Zt("/config/coordinate",{method:"PUT",body:JSON.stringify(o)}),updateTrackConfig:o=>Zt("/config/track",{method:"PUT",body:JSON.stringify(o)}),applyConfig:()=>Zt("/config/apply",{method:"POST"}),exportConfig:async()=>{const o=Ch(),_={};o&&(_.Authorization=`Bearer ${o}`);const m=await fetch(`${Nh}/config/export`,{method:"POST",headers:_});if(!m.ok)throw new Error("Failed to export config");return m.text()},getLogs:o=>{const _=new URLSearchParams;o?.level&&_.set("level",o.level),o?.source&&_.set("source",o.source),o?.limit&&_.set("limit",String(o.limit)),o?.sinceId&&_.set("since_id",String(o.sinceId));const m=_.toString();return Zt(`/logs${m?`?${m}`:""}`)},clearLogs:()=>Zt("/logs",{method:"DELETE"}),getLogStreamUrl:o=>{const _=Ch(),m=new URLSearchParams;o&&m.set("level",o),_&&m.set("token",_);const p=m.toString();return`${Nh}/logs/stream${p?`?${p}`:""}`},getAlerts:o=>{const _=new URLSearchParams;o?.deviceId&&_.set("device_id",o.deviceId),o?.acknowledged!==void 0&&_.set("acknowledged",String(o.acknowledged)),o?.limit&&_.set("limit",String(o.limit));const m=_.toString();return Zt(`/alerts${m?`?${m}`:""}`)},acknowledgeAlert:o=>Zt(`/alerts/${o}/ack`,{method:"POST"}),clearAlerts:()=>Zt("/alerts",{method:"DELETE"}),getAlertRules:()=>Zt("/alerts/rules"),createAlertRule:o=>Zt("/alerts/rules",{method:"POST",body:JSON.stringify(o)}),updateAlertRule:(o,_)=>Zt(`/alerts/rules/${o}`,{method:"PUT",body:JSON.stringify(_)}),deleteAlertRule:o=>Zt(`/alerts/rules/${o}`,{method:"DELETE"}),getGeofences:()=>Zt("/geofences"),getGeofence:o=>Zt(`/geofences/${o}`),createGeofence:o=>Zt("/geofences",{method:"POST",body:JSON.stringify(o)}),updateGeofence:(o,_)=>Zt(`/geofences/${o}`,{method:"PUT",body:JSON.stringify(_)}),deleteGeofence:o=>Zt(`/geofences/${o}`,{method:"DELETE"}),getGeofenceBreaches:o=>{const _=new URLSearchParams;o?.deviceId&&_.set("device_id",o.deviceId),o?.geofenceId&&_.set("geofence_id",o.geofenceId),o?.limit&&_.set("limit",String(o.limit));const m=_.toString();return Zt(`/geofences/breaches${m?`?${m}`:""}`)},clearGeofenceBreaches:()=>Zt("/geofences/breaches",{method:"DELETE"}),getGeofenceStats:()=>Zt("/geofences/stats")},oy=[{path:"/",label:"Dashboard",icon:"grid"},{path:"/map",label:"Live Map",icon:"map"},{path:"/drones",label:"Drones",icon:"airplay"},{path:"/tracks",label:"Track History",icon:"navigation"},{path:"/status",label:"System Status",icon:"activity"},{path:"/logs",label:"Logs",icon:"terminal"},{path:"/alerts",label:"Alerts",icon:"bell"},{path:"/geofences",label:"Geofences",icon:"shield"},{path:"/settings",label:"Settings",icon:"settings"}],Lh={grid:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),map:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),airplay:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3h14a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15l-5 6h10l-5-6z"})]}),navigation:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),activity:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),terminal:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),bell:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),shield:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),settings:c.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),logout:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),user:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})};function uy(){const o=lr(),_=ly(),m=Zh(),p=Cn(d=>d.logout),r=async()=>{try{await Ht.logout()}catch{}p(),o("/login")};return c.jsxs("aside",{className:"w-56 bg-gray-800 border-r border-gray-700 flex flex-col",children:[c.jsx("nav",{className:"flex-1 py-4",children:c.jsx("ul",{className:"space-y-1",children:oy.map(d=>c.jsx("li",{children:c.jsxs(zp,{to:d.path,className:({isActive:g})=>`flex items-center px-4 py-2.5 text-sm font-medium transition-colors ${g?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[c.jsx("span",{className:"mr-3",children:Lh[d.icon]}),d.label]})},d.path))})}),c.jsxs("div",{className:"border-t border-gray-700",children:[m&&_&&c.jsxs("div",{className:"p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center text-gray-300",children:[c.jsx("span",{className:"mr-2",children:Lh.user}),c.jsx("span",{className:"text-sm truncate",children:_.username})]}),c.jsxs("button",{onClick:r,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors",children:[c.jsx("span",{className:"mr-2",children:Lh.logout}),"Sign out"]})]}),c.jsx("div",{className:"p-4 border-t border-gray-700",children:c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Open-UAV Telemetry Bridge"})})]})]})}const rp=3e3,lp=10;function cy(o={}){const{autoConnect:_=!0}=o,m=k.useRef(null),p=k.useRef(0),r=k.useRef(null),d=ke(I=>I.setDrone),g=ke(I=>I.removeDrone),x=ke(I=>I.setConnected),b=k.useCallback(()=>{const I=window.location.protocol==="https:"?"wss:":"ws:",K=window.location.host;return`${I}//${K}/api/v1/ws`},[]),w=k.useCallback(I=>{try{const K=JSON.parse(I.data);switch(K.type){case"state_update":K.data&&d(K.data);break;case"drone_online":K.data&&d(K.data);break;case"drone_offline":K.device_id&&g(K.device_id);break;default:console.warn("Unknown WebSocket message type:",K.type)}}catch(K){console.error("Failed to parse WebSocket message:",K)}},[d,g]),T=k.useCallback(()=>{if(m.current?.readyState===WebSocket.OPEN)return;const I=b();console.log("[WebSocket] Connecting to",I);const K=new WebSocket(I);K.onopen=()=>{console.log("[WebSocket] Connected"),x(!0),p.current=0},K.onmessage=w,K.onclose=V=>{console.log("[WebSocket] Disconnected:",V.code,V.reason),x(!1),m.current=null,p.current<lp?(p.current++,console.log(`[WebSocket] Reconnecting in ${rp}ms (attempt ${p.current}/${lp})`),r.current=window.setTimeout(T,rp)):console.error("[WebSocket] Max reconnection attempts reached")},K.onerror=V=>{console.error("[WebSocket] Error:",V)},m.current=K},[b,w,x]),M=k.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),m.current&&(m.current.close(),m.current=null),x(!1)},[x]),H=k.useCallback(()=>{M(),p.current=0,T()},[T,M]);return k.useEffect(()=>(_&&T(),()=>{M()}),[_,T,M]),{connect:T,disconnect:M,reconnect:H,isConnected:m.current?.readyState===WebSocket.OPEN}}function hy(o={}){const{autoFetch:_=!0,pollInterval:m=0}=o,p=Op(),r=cu(),d=ke(T=>T.setDrones),g=ke(T=>T.setGatewayStatus),x=k.useCallback(async()=>{try{const T=await Ht.getDrones();d(T.drones)}catch(T){console.error("Failed to fetch drones:",T)}},[d]),b=k.useCallback(async()=>{try{const T=await Ht.getStatus();g(T)}catch(T){console.error("Failed to fetch status:",T)}},[g]),w=k.useCallback(async()=>{await Promise.all([x(),b()])},[x,b]);return k.useEffect(()=>{_&&w()},[_,w]),k.useEffect(()=>{if(m>0){const T=setInterval(w,m);return()=>clearInterval(T)}},[m,w]),{drones:p,gatewayStatus:r,fetchDrones:x,fetchStatus:b,fetchAll:w}}function dy(){return cy({autoConnect:!0}),hy({autoFetch:!0,pollInterval:3e4}),c.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[c.jsx(iy,{}),c.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[c.jsx(uy,{}),c.jsx("main",{className:"flex-1 overflow-auto p-6",children:c.jsx(Sh,{})})]})]})}function fy(){const o=qn(),[_,m]=k.useState(!0),p=Rp(),r=Zh(),d=Cn(b=>b.setAuthEnabled),g=Cn(b=>b.logout),x=Cn(b=>b.isTokenExpired);return k.useEffect(()=>{(async()=>{if(p&&x()){g(),m(!1);return}if(r!==null){m(!1);return}try{const w=await Ht.getMe();d(w.auth_enabled)}catch{d(!0)}finally{m(!1)}})()},[p,r]),_?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:c.jsx("div",{className:"text-slate-400",children:"Loading..."})}):r===!1?c.jsx(Sh,{}):p?c.jsx(Sh,{}):c.jsx(pv,{to:"/login",state:{from:o},replace:!0})}function my(){const o=lr(),_=qn(),[m,p]=k.useState(""),[r,d]=k.useState(""),[g,x]=k.useState(null),[b,w]=k.useState(!1),[T,M]=k.useState(!0),H=Cn(et=>et.setAuth),I=Cn(et=>et.setAuthEnabled),K=Rp(),V=Zh(),R=_.state?.from?.pathname||"/";k.useEffect(()=>{(async()=>{try{const nt=await Ht.getMe();I(nt.auth_enabled),nt.auth_enabled?K&&o(R,{replace:!0}):o(R,{replace:!0})}catch{I(!0)}finally{M(!1)}})()},[]),k.useEffect(()=>{!T&&V===!1&&o(R,{replace:!0}),!T&&K&&o(R,{replace:!0})},[K,V,T,o,R]);const at=async et=>{et.preventDefault(),x(null),w(!0);try{const nt=await Ht.login({username:m,password:r});H(nt.token,nt.user,nt.expires_at),o(R,{replace:!0})}catch(nt){x(nt instanceof Error?nt.message:"Login failed")}finally{w(!1)}};return T?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:c.jsx("div",{className:"text-slate-400",children:"Checking authentication..."})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-white",children:"OUTB"}),c.jsx("h2",{className:"mt-2 text-xl text-slate-400",children:"Open UAV Telemetry Bridge"}),c.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Sign in to access the management console"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:at,children:[g&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 text-red-400 text-sm",children:g}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:m,onChange:et=>p(et.target.value),className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:et=>d(et.target.value),className:"mt-1 block w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),c.jsx("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Signing in...":"Sign in"})]}),c.jsx("p",{className:"text-center text-xs text-slate-600",children:"Open-UAV-Telemetry-Bridge Management Console"})]})})}var au={exports:{}},py=au.exports,op;function gy(){return op||(op=1,(function(o,_){(function(m,p){o.exports=p()})(py,(function(){var m=1e3,p=6e4,r=36e5,d="millisecond",g="second",x="minute",b="hour",w="day",T="week",M="month",H="quarter",I="year",K="date",V="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,at=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,et={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ft){var ut=["th","st","nd","rd"],C=ft%100;return"["+ft+(ut[(C-20)%10]||ut[C]||ut[0])+"]"}},nt=function(ft,ut,C){var X=String(ft);return!X||X.length>=ut?ft:""+Array(ut+1-X.length).join(C)+ft},yt={s:nt,z:function(ft){var ut=-ft.utcOffset(),C=Math.abs(ut),X=Math.floor(C/60),B=C%60;return(ut<=0?"+":"-")+nt(X,2,"0")+":"+nt(B,2,"0")},m:function ft(ut,C){if(ut.date()<C.date())return-ft(C,ut);var X=12*(C.year()-ut.year())+(C.month()-ut.month()),B=ut.clone().add(X,M),ht=C-B<0,$=ut.clone().add(X+(ht?-1:1),M);return+(-(X+(C-B)/(ht?B-$:$-B))||0)},a:function(ft){return ft<0?Math.ceil(ft)||0:Math.floor(ft)},p:function(ft){return{M,y:I,w:T,d:w,D:K,h:b,m:x,s:g,ms:d,Q:H}[ft]||String(ft||"").toLowerCase().replace(/s$/,"")},u:function(ft){return ft===void 0}},mt="en",rt={};rt[mt]=et;var dt="$isDayjsObject",Et=function(ft){return ft instanceof lt||!(!ft||!ft[dt])},Dt=function ft(ut,C,X){var B;if(!ut)return mt;if(typeof ut=="string"){var ht=ut.toLowerCase();rt[ht]&&(B=ht),C&&(rt[ht]=C,B=ht);var $=ut.split("-");if(!B&&$.length>1)return ft($[0])}else{var N=ut.name;rt[N]=ut,B=N}return!X&&B&&(mt=B),B||!X&&mt},Ct=function(ft,ut){if(Et(ft))return ft.clone();var C=typeof ut=="object"?ut:{};return C.date=ft,C.args=arguments,new lt(C)},gt=yt;gt.l=Dt,gt.i=Et,gt.w=function(ft,ut){return Ct(ft,{locale:ut.$L,utc:ut.$u,x:ut.$x,$offset:ut.$offset})};var lt=(function(){function ft(C){this.$L=Dt(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[dt]=!0}var ut=ft.prototype;return ut.parse=function(C){this.$d=(function(X){var B=X.date,ht=X.utc;if(B===null)return new Date(NaN);if(gt.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var $=B.match(R);if($){var N=$[2]-1||0,q=($[7]||"0").substring(0,3);return ht?new Date(Date.UTC($[1],N,$[3]||1,$[4]||0,$[5]||0,$[6]||0,q)):new Date($[1],N,$[3]||1,$[4]||0,$[5]||0,$[6]||0,q)}}return new Date(B)})(C),this.init()},ut.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},ut.$utils=function(){return gt},ut.isValid=function(){return this.$d.toString()!==V},ut.isSame=function(C,X){var B=Ct(C);return this.startOf(X)<=B&&B<=this.endOf(X)},ut.isAfter=function(C,X){return Ct(C)<this.startOf(X)},ut.isBefore=function(C,X){return this.endOf(X)<Ct(C)},ut.$g=function(C,X,B){return gt.u(C)?this[X]:this.set(B,C)},ut.unix=function(){return Math.floor(this.valueOf()/1e3)},ut.valueOf=function(){return this.$d.getTime()},ut.startOf=function(C,X){var B=this,ht=!!gt.u(X)||X,$=gt.p(C),N=function(Gt,re){var De=gt.w(B.$u?Date.UTC(B.$y,re,Gt):new Date(B.$y,re,Gt),B);return ht?De:De.endOf(w)},q=function(Gt,re){return gt.w(B.toDate()[Gt].apply(B.toDate("s"),(ht?[0,0,0,0]:[23,59,59,999]).slice(re)),B)},tt=this.$W,it=this.$M,st=this.$D,ct="set"+(this.$u?"UTC":"");switch($){case I:return ht?N(1,0):N(31,11);case M:return ht?N(1,it):N(0,it+1);case T:var St=this.$locale().weekStart||0,Qt=(tt<St?tt+7:tt)-St;return N(ht?st-Qt:st+(6-Qt),it);case w:case K:return q(ct+"Hours",0);case b:return q(ct+"Minutes",1);case x:return q(ct+"Seconds",2);case g:return q(ct+"Milliseconds",3);default:return this.clone()}},ut.endOf=function(C){return this.startOf(C,!1)},ut.$set=function(C,X){var B,ht=gt.p(C),$="set"+(this.$u?"UTC":""),N=(B={},B[w]=$+"Date",B[K]=$+"Date",B[M]=$+"Month",B[I]=$+"FullYear",B[b]=$+"Hours",B[x]=$+"Minutes",B[g]=$+"Seconds",B[d]=$+"Milliseconds",B)[ht],q=ht===w?this.$D+(X-this.$W):X;if(ht===M||ht===I){var tt=this.clone().set(K,1);tt.$d[N](q),tt.init(),this.$d=tt.set(K,Math.min(this.$D,tt.daysInMonth())).$d}else N&&this.$d[N](q);return this.init(),this},ut.set=function(C,X){return this.clone().$set(C,X)},ut.get=function(C){return this[gt.p(C)]()},ut.add=function(C,X){var B,ht=this;C=Number(C);var $=gt.p(X),N=function(it){var st=Ct(ht);return gt.w(st.date(st.date()+Math.round(it*C)),ht)};if($===M)return this.set(M,this.$M+C);if($===I)return this.set(I,this.$y+C);if($===w)return N(1);if($===T)return N(7);var q=(B={},B[x]=p,B[b]=r,B[g]=m,B)[$]||1,tt=this.$d.getTime()+C*q;return gt.w(tt,this)},ut.subtract=function(C,X){return this.add(-1*C,X)},ut.format=function(C){var X=this,B=this.$locale();if(!this.isValid())return B.invalidDate||V;var ht=C||"YYYY-MM-DDTHH:mm:ssZ",$=gt.z(this),N=this.$H,q=this.$m,tt=this.$M,it=B.weekdays,st=B.months,ct=B.meridiem,St=function(re,De,Ze,jn){return re&&(re[De]||re(X,ht))||Ze[De].slice(0,jn)},Qt=function(re){return gt.s(N%12||12,re,"0")},Gt=ct||function(re,De,Ze){var jn=re<12?"AM":"PM";return Ze?jn.toLowerCase():jn};return ht.replace(at,(function(re,De){return De||(function(Ze){switch(Ze){case"YY":return String(X.$y).slice(-2);case"YYYY":return gt.s(X.$y,4,"0");case"M":return tt+1;case"MM":return gt.s(tt+1,2,"0");case"MMM":return St(B.monthsShort,tt,st,3);case"MMMM":return St(st,tt);case"D":return X.$D;case"DD":return gt.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return St(B.weekdaysMin,X.$W,it,2);case"ddd":return St(B.weekdaysShort,X.$W,it,3);case"dddd":return it[X.$W];case"H":return String(N);case"HH":return gt.s(N,2,"0");case"h":return Qt(1);case"hh":return Qt(2);case"a":return Gt(N,q,!0);case"A":return Gt(N,q,!1);case"m":return String(q);case"mm":return gt.s(q,2,"0");case"s":return String(X.$s);case"ss":return gt.s(X.$s,2,"0");case"SSS":return gt.s(X.$ms,3,"0");case"Z":return $}return null})(re)||$.replace(":","")}))},ut.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ut.diff=function(C,X,B){var ht,$=this,N=gt.p(X),q=Ct(C),tt=(q.utcOffset()-this.utcOffset())*p,it=this-q,st=function(){return gt.m($,q)};switch(N){case I:ht=st()/12;break;case M:ht=st();break;case H:ht=st()/3;break;case T:ht=(it-tt)/6048e5;break;case w:ht=(it-tt)/864e5;break;case b:ht=it/r;break;case x:ht=it/p;break;case g:ht=it/m;break;default:ht=it}return B?ht:gt.a(ht)},ut.daysInMonth=function(){return this.endOf(M).$D},ut.$locale=function(){return rt[this.$L]},ut.locale=function(C,X){if(!C)return this.$L;var B=this.clone(),ht=Dt(C,X,!0);return ht&&(B.$L=ht),B},ut.clone=function(){return gt.w(this.$d,this)},ut.toDate=function(){return new Date(this.valueOf())},ut.toJSON=function(){return this.isValid()?this.toISOString():null},ut.toISOString=function(){return this.$d.toISOString()},ut.toString=function(){return this.$d.toUTCString()},ft})(),he=lt.prototype;return Ct.prototype=he,[["$ms",d],["$s",g],["$m",x],["$H",b],["$W",w],["$M",M],["$y",I],["$D",K]].forEach((function(ft){he[ft[1]]=function(ut){return this.$g(ut,ft[0],ft[1])}})),Ct.extend=function(ft,ut){return ft.$i||(ft(ut,lt,Ct),ft.$i=!0),Ct},Ct.locale=Dt,Ct.isDayjs=Et,Ct.unix=function(ft){return Ct(1e3*ft)},Ct.en=rt[mt],Ct.Ls=rt,Ct.p={},Ct}))})(au)),au.exports}var _y=gy();const Oi=lu(_y);var su={exports:{}},vy=su.exports,up;function yy(){return up||(up=1,(function(o,_){(function(m,p){o.exports=p()})(vy,(function(){return function(m,p,r){m=m||{};var d=p.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function x(w,T,M,H){return d.fromToBase(w,T,M,H)}r.en.relativeTime=g,d.fromToBase=function(w,T,M,H,I){for(var K,V,R,at=M.$locale().relativeTime||g,et=m.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],nt=et.length,yt=0;yt<nt;yt+=1){var mt=et[yt];mt.d&&(K=H?r(w).diff(M,mt.d,!0):M.diff(w,mt.d,!0));var rt=(m.rounding||Math.round)(Math.abs(K));if(R=K>0,rt<=mt.r||!mt.r){rt<=1&&yt>0&&(mt=et[yt-1]);var dt=at[mt.l];I&&(rt=I(""+rt)),V=typeof dt=="string"?dt.replace("%d",rt):dt(rt,T,mt.l,R);break}}if(T)return V;var Et=R?at.future:at.past;return typeof Et=="function"?Et(V):Et.replace("%s",V)},d.to=function(w,T){return x(w,T,this,!0)},d.from=function(w,T){return x(w,T,this)};var b=function(w){return w.$u?r.utc():r()};d.toNow=function(w){return this.to(b(this),w)},d.fromNow=function(w){return this.from(b(this),w)}}}))})(su)),su.exports}var xy=yy();const Bp=lu(xy);Oi.extend(Bp);function Up({drone:o,isSelected:_=!1,onClick:m}){const p=Oi(o.timestamp),r=Oi().diff(p,"second")<10,d=Math.sqrt(o.velocity.vx**2+o.velocity.vy**2).toFixed(1),g=b=>b>50?"text-green-500":b>20?"text-yellow-500":"text-red-500",x=b=>b?"bg-red-500":"bg-green-500";return c.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${_?"bg-blue-900/50 border-blue-500":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,onClick:m,children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-gray-500"}`}),c.jsx("h3",{className:"font-semibold text-white",children:o.device_id})]}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o.protocol_source})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${x(o.status.armed)} text-white`,children:o.status.armed?"ARMED":"DISARMED"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Position"}),c.jsxs("p",{className:"text-white",children:[o.location.lat.toFixed(5),", ",o.location.lon.toFixed(5)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Altitude"}),c.jsxs("p",{className:"text-white",children:[o.location.alt_gnss.toFixed(1),"m"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Speed"}),c.jsxs("p",{className:"text-white",children:[d," m/s"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Battery"}),c.jsxs("p",{className:g(o.status.battery_percent),children:[o.status.battery_percent,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Flight Mode"}),c.jsx("p",{className:"text-white",children:o.status.flight_mode})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"GPS"}),c.jsxs("p",{className:"text-white",children:[o.status.satellites_visible," sats"]})]})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700",children:c.jsxs("p",{className:"text-xs text-gray-500",children:["Last update: ",p.fromNow()]})})]})}function by(){const o=cu(),_=Op(),m=p=>{const r=Math.floor(p/3600),d=Math.floor(p%3600/60),g=p%60;return`${r}h ${d}m ${g}s`};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Active Drones"}),c.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:o?.stats.active_drones??_.length})]}),c.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:c.jsxs("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3h14a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15l-5 6h10l-5-6z"})]})})]})}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"WebSocket Clients"}),c.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:o?.stats.websocket_clients??0})]}),c.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"}),c.jsx("p",{className:"text-xl font-bold text-white mt-1",children:o?m(o.uptime_seconds):"-"})]}),c.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Version"}),c.jsx("p",{className:"text-xl font-bold text-white mt-1",children:o?.version??"-"})]}),c.jsx("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})})]})})]}),o&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Adapters"}),o.adapters.length>0?c.jsx("ul",{className:"space-y-2",children:o.adapters.map(p=>c.jsxs("li",{className:"flex items-center justify-between py-2 px-3 bg-gray-900 rounded",children:[c.jsx("span",{className:"text-gray-300",children:p.name}),c.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${p.enabled?"bg-green-500/20 text-green-400":"bg-gray-600 text-gray-400"}`,children:p.enabled?"Active":"Disabled"})]},p.name))}):c.jsx("p",{className:"text-gray-500",children:"No adapters configured"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Publishers"}),o.publishers.length>0?c.jsx("ul",{className:"space-y-2",children:o.publishers.map(p=>c.jsxs("li",{className:"flex items-center py-2 px-3 bg-gray-900 rounded",children:[c.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),c.jsx("span",{className:"text-gray-300",children:p})]},p))}):c.jsx("p",{className:"text-gray-500",children:"No publishers configured"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Active Drones"}),_.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.slice(0,6).map(p=>c.jsx(Up,{drone:p},p.device_id))}):c.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 border border-gray-700 text-center",children:[c.jsx("p",{className:"text-gray-500",children:"No drones connected"}),c.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Connect a drone via MAVLink or DJI adapter to see it here"})]})]})]})}function Pp(o,_){const m=k.useRef(_);k.useEffect(function(){_!==m.current&&o.attributionControl!=null&&(m.current!=null&&o.attributionControl.removeAttribution(m.current),_!=null&&o.attributionControl.addAttribution(_)),m.current=_},[o,_])}function Hp(o,_,m){_.center!==m.center&&o.setLatLng(_.center),_.radius!=null&&_.radius!==m.radius&&o.setRadius(_.radius)}const Ly=1;function wy(o){return Object.freeze({__version:Ly,map:o})}function El(o,_){return Object.freeze({...o,..._})}const Gh=k.createContext(null);function hu(){const o=k.use(Gh);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function Zp(o){function _(m,p){const{instance:r,context:d}=o(m).current;k.useImperativeHandle(p,()=>r);const{children:g}=m;return g==null?null:cs.createElement(Gh,{value:d},g)}return k.forwardRef(_)}function Sy(o){function _(m,p){const[r,d]=k.useState(!1),{instance:g}=o(m,d).current;k.useImperativeHandle(p,()=>g),k.useEffect(function(){r&&g.update()},[g,r,m.children]);const x=g._contentNode;return x?Wv.createPortal(m.children,x):null}return k.forwardRef(_)}function Ey(o){function _(m,p){const{instance:r}=o(m).current;return k.useImperativeHandle(p,()=>r),null}return k.forwardRef(_)}function qh(o,_){const m=k.useRef(void 0);k.useEffect(function(){return _!=null&&o.instance.on(_),m.current=_,function(){m.current!=null&&o.instance.off(m.current),m.current=null}},[o,_])}function du(o,_){const m=o.pane??_.pane;return m?{...o,pane:m}:o}function Ty(o,_){return function(p,r){const d=hu(),g=o(du(p,d),d);return Pp(d.map,p.attribution),qh(g.current,p.eventHandlers),_(g.current,d,p,r),g}}var yl={exports:{}};var My=yl.exports,cp;function Ny(){return cp||(cp=1,(function(o,_){(function(m,p){p(_)})(My,(function(m){var p="1.9.4";function r(n){var a,l,f,v;for(l=1,f=arguments.length;l<f;l++){v=arguments[l];for(a in v)n[a]=v[a]}return n}var d=Object.create||(function(){function n(){}return function(a){return n.prototype=a,new n}})();function g(n,a){var l=Array.prototype.slice;if(n.bind)return n.bind.apply(n,l.call(arguments,1));var f=l.call(arguments,2);return function(){return n.apply(a,f.length?f.concat(l.call(arguments)):arguments)}}var x=0;function b(n){return"_leaflet_id"in n||(n._leaflet_id=++x),n._leaflet_id}function w(n,a,l){var f,v,S,j;return j=function(){f=!1,v&&(S.apply(l,v),v=!1)},S=function(){f?v=arguments:(n.apply(l,arguments),setTimeout(j,a),f=!0)},S}function T(n,a,l){var f=a[1],v=a[0],S=f-v;return n===f&&l?n:((n-v)%S+S)%S+v}function M(){return!1}function H(n,a){if(a===!1)return n;var l=Math.pow(10,a===void 0?6:a);return Math.round(n*l)/l}function I(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function K(n){return I(n).split(/\s+/)}function V(n,a){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?d(n.options):{});for(var l in a)n.options[l]=a[l];return n.options}function R(n,a,l){var f=[];for(var v in n)f.push(encodeURIComponent(l?v.toUpperCase():v)+"="+encodeURIComponent(n[v]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var at=/\{ *([\w_ -]+) *\}/g;function et(n,a){return n.replace(at,function(l,f){var v=a[f];if(v===void 0)throw new Error("No value provided for variable "+l);return typeof v=="function"&&(v=v(a)),v})}var nt=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function yt(n,a){for(var l=0;l<n.length;l++)if(n[l]===a)return l;return-1}var mt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function rt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var dt=0;function Et(n){var a=+new Date,l=Math.max(0,16-(a-dt));return dt=a+l,window.setTimeout(n,l)}var Dt=window.requestAnimationFrame||rt("RequestAnimationFrame")||Et,Ct=window.cancelAnimationFrame||rt("CancelAnimationFrame")||rt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function gt(n,a,l){if(l&&Dt===Et)n.call(a);else return Dt.call(window,g(n,a))}function lt(n){n&&Ct.call(window,n)}var he={__proto__:null,extend:r,create:d,bind:g,get lastId(){return x},stamp:b,throttle:w,wrapNum:T,falseFn:M,formatNum:H,trim:I,splitWords:K,setOptions:V,getParamString:R,template:et,isArray:nt,indexOf:yt,emptyImageUrl:mt,requestFn:Dt,cancelFn:Ct,requestAnimFrame:gt,cancelAnimFrame:lt};function ft(){}ft.extend=function(n){var a=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=a.__super__=this.prototype,f=d(l);f.constructor=a,a.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(a[v]=this[v]);return n.statics&&r(a,n.statics),n.includes&&(ut(n.includes),r.apply(null,[f].concat(n.includes))),r(f,n),delete f.statics,delete f.includes,f.options&&(f.options=l.options?d(l.options):{},r(f.options,n.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,j=f._initHooks.length;S<j;S++)f._initHooks[S].call(this)}},a},ft.include=function(n){var a=this.prototype.options;return r(this.prototype,n),n.options&&(this.prototype.options=a,this.mergeOptions(n.options)),this},ft.mergeOptions=function(n){return r(this.prototype.options,n),this},ft.addInitHook=function(n){var a=Array.prototype.slice.call(arguments,1),l=typeof n=="function"?n:function(){this[n].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function ut(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=nt(n)?n:[n];for(var a=0;a<n.length;a++)n[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var C={on:function(n,a,l){if(typeof n=="object")for(var f in n)this._on(f,n[f],a);else{n=K(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],a,l)}return this},off:function(n,a,l){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var f in n)this._off(f,n[f],a);else{n=K(n);for(var v=arguments.length===1,S=0,j=n.length;S<j;S++)v?this._off(n[S]):this._off(n[S],a,l)}return this},_on:function(n,a,l,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(n,a,l)===!1){l===this&&(l=void 0);var v={fn:a,ctx:l};f&&(v.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(v)}},_off:function(n,a,l){var f,v,S;if(this._events&&(f=this._events[n],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,S=f.length;v<S;v++)f[v].fn=M;delete this._events[n];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var j=this._listens(n,a,l);if(j!==!1){var O=f[j];this._firingCount&&(O.fn=M,this._events[n]=f=f.slice()),f.splice(j,1)}}},fire:function(n,a,l){if(!this.listens(n,l))return this;var f=r({},a,{type:n,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var v=this._events[n];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,j=v.length;S<j;S++){var O=v[S],Z=O.fn;O.once&&this.off(n,Z,O.ctx),Z.call(O.ctx||this,f)}this._firingCount--}}return l&&this._propagateEvent(f),this},listens:function(n,a,l,f){typeof n!="string"&&console.warn('"string" type argument expected');var v=a;typeof a!="function"&&(f=!!a,v=void 0,l=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,v,l)!==!1)return!0;if(f){for(var j in this._eventParents)if(this._eventParents[j].listens(n,a,l,f))return!0}return!1},_listens:function(n,a,l){if(!this._events)return!1;var f=this._events[n]||[];if(!a)return!!f.length;l===this&&(l=void 0);for(var v=0,S=f.length;v<S;v++)if(f[v].fn===a&&f[v].ctx===l)return v;return!1},once:function(n,a,l){if(typeof n=="object")for(var f in n)this._on(f,n[f],a,!0);else{n=K(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],a,l,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[b(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[b(n)],this},_propagateEvent:function(n){for(var a in this._eventParents)this._eventParents[a].fire(n.type,r({layer:n.target,propagatedFrom:n.target},n),!0)}};C.addEventListener=C.on,C.removeEventListener=C.clearAllEventListeners=C.off,C.addOneTimeEventListener=C.once,C.fireEvent=C.fire,C.hasEventListeners=C.listens;var X=ft.extend(C);function B(n,a,l){this.x=l?Math.round(n):n,this.y=l?Math.round(a):a}var ht=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(n){return this.clone()._add($(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract($(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new B(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new B(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(n){n=$(n);var a=n.x-this.x,l=n.y-this.y;return Math.sqrt(a*a+l*l)},equals:function(n){return n=$(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=$(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+H(this.x)+", "+H(this.y)+")"}};function $(n,a,l){return n instanceof B?n:nt(n)?new B(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new B(n.x,n.y):new B(n,a,l)}function N(n,a){if(n)for(var l=a?[n,a]:n,f=0,v=l.length;f<v;f++)this.extend(l[f])}N.prototype={extend:function(n){var a,l;if(!n)return this;if(n instanceof B||typeof n[0]=="number"||"x"in n)a=l=$(n);else if(n=q(n),a=n.min,l=n.max,!a||!l)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=l.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(n){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var a,l;return typeof n[0]=="number"||n instanceof B?n=$(n):n=q(n),n instanceof N?(a=n.min,l=n.max):a=l=n,a.x>=this.min.x&&l.x<=this.max.x&&a.y>=this.min.y&&l.y<=this.max.y},intersects:function(n){n=q(n);var a=this.min,l=this.max,f=n.min,v=n.max,S=v.x>=a.x&&f.x<=l.x,j=v.y>=a.y&&f.y<=l.y;return S&&j},overlaps:function(n){n=q(n);var a=this.min,l=this.max,f=n.min,v=n.max,S=v.x>a.x&&f.x<l.x,j=v.y>a.y&&f.y<l.y;return S&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var a=this.min,l=this.max,f=Math.abs(a.x-l.x)*n,v=Math.abs(a.y-l.y)*n;return q($(a.x-f,a.y-v),$(l.x+f,l.y+v))},equals:function(n){return n?(n=q(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function q(n,a){return!n||n instanceof N?n:new N(n,a)}function tt(n,a){if(n)for(var l=a?[n,a]:n,f=0,v=l.length;f<v;f++)this.extend(l[f])}tt.prototype={extend:function(n){var a=this._southWest,l=this._northEast,f,v;if(n instanceof st)f=n,v=n;else if(n instanceof tt){if(f=n._southWest,v=n._northEast,!f||!v)return this}else return n?this.extend(ct(n)||it(n)):this;return!a&&!l?(this._southWest=new st(f.lat,f.lng),this._northEast=new st(v.lat,v.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),l.lat=Math.max(v.lat,l.lat),l.lng=Math.max(v.lng,l.lng)),this},pad:function(n){var a=this._southWest,l=this._northEast,f=Math.abs(a.lat-l.lat)*n,v=Math.abs(a.lng-l.lng)*n;return new tt(new st(a.lat-f,a.lng-v),new st(l.lat+f,l.lng+v))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof st||"lat"in n?n=ct(n):n=it(n);var a=this._southWest,l=this._northEast,f,v;return n instanceof tt?(f=n.getSouthWest(),v=n.getNorthEast()):f=v=n,f.lat>=a.lat&&v.lat<=l.lat&&f.lng>=a.lng&&v.lng<=l.lng},intersects:function(n){n=it(n);var a=this._southWest,l=this._northEast,f=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>=a.lat&&f.lat<=l.lat,j=v.lng>=a.lng&&f.lng<=l.lng;return S&&j},overlaps:function(n){n=it(n);var a=this._southWest,l=this._northEast,f=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>a.lat&&f.lat<l.lat,j=v.lng>a.lng&&f.lng<l.lng;return S&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,a){return n?(n=it(n),this._southWest.equals(n.getSouthWest(),a)&&this._northEast.equals(n.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function it(n,a){return n instanceof tt?n:new tt(n,a)}function st(n,a,l){if(isNaN(n)||isNaN(a))throw new Error("Invalid LatLng object: ("+n+", "+a+")");this.lat=+n,this.lng=+a,l!==void 0&&(this.alt=+l)}st.prototype={equals:function(n,a){if(!n)return!1;n=ct(n);var l=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return l<=(a===void 0?1e-9:a)},toString:function(n){return"LatLng("+H(this.lat,n)+", "+H(this.lng,n)+")"},distanceTo:function(n){return Qt.distance(this,ct(n))},wrap:function(){return Qt.wrapLatLng(this)},toBounds:function(n){var a=180*n/40075017,l=a/Math.cos(Math.PI/180*this.lat);return it([this.lat-a,this.lng-l],[this.lat+a,this.lng+l])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function ct(n,a,l){return n instanceof st?n:nt(n)&&typeof n[0]!="object"?n.length===3?new st(n[0],n[1],n[2]):n.length===2?new st(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new st(n.lat,"lng"in n?n.lng:n.lon,n.alt):a===void 0?null:new st(n,a,l)}var St={latLngToPoint:function(n,a){var l=this.projection.project(n),f=this.scale(a);return this.transformation._transform(l,f)},pointToLatLng:function(n,a){var l=this.scale(a),f=this.transformation.untransform(n,l);return this.projection.unproject(f)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var a=this.projection.bounds,l=this.scale(n),f=this.transformation.transform(a.min,l),v=this.transformation.transform(a.max,l);return new N(f,v)},infinite:!1,wrapLatLng:function(n){var a=this.wrapLng?T(n.lng,this.wrapLng,!0):n.lng,l=this.wrapLat?T(n.lat,this.wrapLat,!0):n.lat,f=n.alt;return new st(l,a,f)},wrapLatLngBounds:function(n){var a=n.getCenter(),l=this.wrapLatLng(a),f=a.lat-l.lat,v=a.lng-l.lng;if(f===0&&v===0)return n;var S=n.getSouthWest(),j=n.getNorthEast(),O=new st(S.lat-f,S.lng-v),Z=new st(j.lat-f,j.lng-v);return new tt(O,Z)}},Qt=r({},St,{wrapLng:[-180,180],R:6371e3,distance:function(n,a){var l=Math.PI/180,f=n.lat*l,v=a.lat*l,S=Math.sin((a.lat-n.lat)*l/2),j=Math.sin((a.lng-n.lng)*l/2),O=S*S+Math.cos(f)*Math.cos(v)*j*j,Z=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*Z}}),Gt=6378137,re={R:Gt,MAX_LATITUDE:85.0511287798,project:function(n){var a=Math.PI/180,l=this.MAX_LATITUDE,f=Math.max(Math.min(l,n.lat),-l),v=Math.sin(f*a);return new B(this.R*n.lng*a,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(n){var a=180/Math.PI;return new st((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*a,n.x*a/this.R)},bounds:(function(){var n=Gt*Math.PI;return new N([-n,-n],[n,n])})()};function De(n,a,l,f){if(nt(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=a,this._c=l,this._d=f}De.prototype={transform:function(n,a){return this._transform(n.clone(),a)},_transform:function(n,a){return a=a||1,n.x=a*(this._a*n.x+this._b),n.y=a*(this._c*n.y+this._d),n},untransform:function(n,a){return a=a||1,new B((n.x/a-this._b)/this._a,(n.y/a-this._d)/this._c)}};function Ze(n,a,l,f){return new De(n,a,l,f)}var jn=r({},Qt,{code:"EPSG:3857",projection:re,transformation:(function(){var n=.5/(Math.PI*re.R);return Ze(n,.5,-n,.5)})()}),oi=r({},jn,{code:"EPSG:900913"});function fs(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ms(n,a){var l="",f,v,S,j,O,Z;for(f=0,S=n.length;f<S;f++){for(O=n[f],v=0,j=O.length;v<j;v++)Z=O[v],l+=(v?"L":"M")+Z.x+" "+Z.y;l+=a?vt.svg?"z":"x":""}return l||"M0 0"}var cr=document.documentElement.style,ba="ActiveXObject"in window,hr=ba&&!document.addEventListener,ps="msLaunchUri"in navigator&&!("documentMode"in document),La=Ie("webkit"),Tl=Ie("android"),Ml=Ie("android 2")||Ie("android 3"),Ge=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pu=Tl&&Ie("Google")&&Ge<537&&!("AudioNode"in window),gs=!!window.opera,dr=!ps&&Ie("chrome"),wa=Ie("gecko")&&!La&&!gs&&!ba,gu=!dr&&Ie("safari"),fr=Ie("phantom"),Nl="OTransition"in cr,_u=navigator.platform.indexOf("Win")===0,Ri=ba&&"transition"in cr,ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ml,kn="MozPerspective"in cr,qe=!window.L_DISABLE_3D&&(Ri||ze||kn)&&!Nl&&!fr,Sa=typeof orientation<"u"||Ie("mobile"),vu=Sa&&La,yu=Sa&&ze,Ea=!window.PointerEvent&&window.MSPointerEvent,Ta=!!(window.PointerEvent||Ea),Ma="ontouchstart"in window||!!window.TouchEvent,ui=!window.L_NO_TOUCH&&(Ma||Ta),_s=Sa&&gs,Na=Sa&&wa,xu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cl=(function(){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",M,a),window.removeEventListener("testPassiveEventSupport",M,a)}catch{}return n})(),mr=(function(){return!!document.createElement("canvas").getContext})(),ci=!!(document.createElementNS&&fs("svg").createSVGRect),bu=!!ci&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),jl=!ci&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var a=n.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),kl=navigator.platform.indexOf("Mac")===0,Dl=navigator.platform.indexOf("Linux")===0;function Ie(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var vt={ie:ba,ielt9:hr,edge:ps,webkit:La,android:Tl,android23:Ml,androidStock:pu,opera:gs,chrome:dr,gecko:wa,safari:gu,phantom:fr,opera12:Nl,win:_u,ie3d:Ri,webkit3d:ze,gecko3d:kn,any3d:qe,mobile:Sa,mobileWebkit:vu,mobileWebkit3d:yu,msPointer:Ea,pointer:Ta,touch:ui,touchNative:Ma,mobileOpera:_s,mobileGecko:Na,retina:xu,passiveEvents:Cl,canvas:mr,svg:ci,vml:jl,inlineSvg:bu,mac:kl,linux:Dl},pr=vt.msPointer?"MSPointerDown":"pointerdown",gr=vt.msPointer?"MSPointerMove":"pointermove",Dn=vt.msPointer?"MSPointerUp":"pointerup",ve=vt.msPointer?"MSPointerCancel":"pointercancel",Me={touchstart:pr,touchmove:gr,touchend:Dn,touchcancel:ve},hi={touchstart:Ui,touchmove:Yn,touchend:Yn,touchcancel:Yn},Vn={},zl=!1;function Lu(n,a,l){return a==="touchstart"&&Bi(),hi[a]?(l=hi[a].bind(this,l),n.addEventListener(Me[a],l,!1),l):(console.warn("wrong event specified:",a),M)}function Al(n,a,l){if(!Me[a]){console.warn("wrong event specified:",a);return}n.removeEventListener(Me[a],l,!1)}function Ca(n){Vn[n.pointerId]=n}function _r(n){Vn[n.pointerId]&&(Vn[n.pointerId]=n)}function di(n){delete Vn[n.pointerId]}function Bi(){zl||(document.addEventListener(pr,Ca,!0),document.addEventListener(gr,_r,!0),document.addEventListener(Dn,di,!0),document.addEventListener(ve,di,!0),zl=!0)}function Yn(n,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var l in Vn)a.touches.push(Vn[l]);a.changedTouches=[a],n(a)}}function Ui(n,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&de(a),Yn(n,a)}function ye(n){var a={},l,f;for(f in n)l=n[f],a[f]=l&&l.bind?l.bind(n):l;return n=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Ol=200;function Rl(n,a){n.addEventListener("dblclick",a);var l=0,f;function v(S){if(S.detail!==1){f=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var j=Ra(S);if(!(j.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!j.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var O=Date.now();O-l<=Ol?(f++,f===2&&a(ye(S))):f=1,l=O}}}return n.addEventListener("click",v),{dblclick:a,simDblclick:v}}function fi(n,a){n.removeEventListener("dblclick",a.dblclick),n.removeEventListener("click",a.simDblclick)}var Xn=Da(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ja=Da(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vr=ja==="webkitTransition"||ja==="OTransition"?ja+"End":"transitionend";function yr(n){return typeof n=="string"?document.getElementById(n):n}function ka(n,a){var l=n.style[a]||n.currentStyle&&n.currentStyle[a];if((!l||l==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(n,null);l=f?f[a]:null}return l==="auto"?null:l}function zt(n,a,l){var f=document.createElement(n);return f.className=a||"",l&&l.appendChild(f),f}function Wt(n){var a=n.parentNode;a&&a.removeChild(n)}function Qe(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Se(n){var a=n.parentNode;a&&a.lastChild!==n&&a.appendChild(n)}function mi(n){var a=n.parentNode;a&&a.firstChild!==n&&a.insertBefore(n,a.firstChild)}function xr(n,a){if(n.classList!==void 0)return n.classList.contains(a);var l=vs(n);return l.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(l)}function Tt(n,a){if(n.classList!==void 0)for(var l=K(a),f=0,v=l.length;f<v;f++)n.classList.add(l[f]);else if(!xr(n,a)){var S=vs(n);Pi(n,(S?S+" ":"")+a)}}function le(n,a){n.classList!==void 0?n.classList.remove(a):Pi(n,I((" "+vs(n)+" ").replace(" "+a+" "," ")))}function Pi(n,a){n.className.baseVal===void 0?n.className=a:n.className.baseVal=a}function vs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,a){"opacity"in n.style?n.style.opacity=a:"filter"in n.style&&br(n,a)}function br(n,a){var l=!1,f="DXImageTransform.Microsoft.Alpha";try{l=n.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),l?(l.Enabled=a!==100,l.Opacity=a):n.style.filter+=" progid:"+f+"(opacity="+a+")"}function Da(n){for(var a=document.documentElement.style,l=0;l<n.length;l++)if(n[l]in a)return n[l];return!1}function zn(n,a,l){var f=a||new B(0,0);n.style[Xn]=(vt.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(l?" scale("+l+")":"")}function ne(n,a){n._leaflet_pos=a,vt.any3d?zn(n,a):(n.style.left=a.x+"px",n.style.top=a.y+"px")}function In(n){return n._leaflet_pos||new B(0,0)}var Hi,vn,Lr;if("onselectstart"in document)Hi=function(){wt(window,"selectstart",de)},vn=function(){Kt(window,"selectstart",de)};else{var Zi=Da(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Hi=function(){if(Zi){var n=document.documentElement.style;Lr=n[Zi],n[Zi]="none"}},vn=function(){Zi&&(document.documentElement.style[Zi]=Lr,Lr=void 0)}}function ys(){wt(window,"dragstart",de)}function za(){Kt(window,"dragstart",de)}var xs,wr;function Gi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Ke(),xs=n,wr=n.style.outlineStyle,n.style.outlineStyle="none",wt(window,"keydown",Ke))}function Ke(){xs&&(xs.style.outlineStyle=wr,xs=void 0,wr=void 0,Kt(window,"keydown",Ke))}function bs(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Aa(n){var a=n.getBoundingClientRect();return{x:a.width/n.offsetWidth||1,y:a.height/n.offsetHeight||1,boundingClientRect:a}}var qi={__proto__:null,TRANSFORM:Xn,TRANSITION:ja,TRANSITION_END:vr,get:yr,getStyle:ka,create:zt,remove:Wt,empty:Qe,toFront:Se,toBack:mi,hasClass:xr,addClass:Tt,removeClass:le,setClass:Pi,getClass:vs,setOpacity:ae,testProp:Da,setTransform:zn,setPosition:ne,getPosition:In,get disableTextSelection(){return Hi},get enableTextSelection(){return vn},disableImageDrag:ys,enableImageDrag:za,preventOutline:Gi,restoreOutline:Ke,getSizedParentNode:bs,getScale:Aa};function wt(n,a,l,f){if(a&&typeof a=="object")for(var v in a)ln(n,v,a[v],l);else{a=K(a);for(var S=0,j=a.length;S<j;S++)ln(n,a[S],l,f)}return this}var rn="_leaflet_events";function Kt(n,a,l,f){if(arguments.length===1)Sr(n),delete n[rn];else if(a&&typeof a=="object")for(var v in a)Oa(n,v,a[v],l);else if(a=K(a),arguments.length===2)Sr(n,function(O){return yt(a,O)!==-1});else for(var S=0,j=a.length;S<j;S++)Oa(n,a[S],l,f);return this}function Sr(n,a){for(var l in n[rn]){var f=l.split(/\d/)[0];(!a||a(f))&&Oa(n,f,null,null,l)}}var pi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ln(n,a,l,f){var v=a+b(l)+(f?"_"+b(f):"");if(n[rn]&&n[rn][v])return this;var S=function(O){return l.call(f||n,O||window.event)},j=S;!vt.touchNative&&vt.pointer&&a.indexOf("touch")===0?S=Lu(n,a,S):vt.touch&&a==="dblclick"?S=Rl(n,S):"addEventListener"in n?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?n.addEventListener(pi[a]||a,S,vt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(S=function(O){O=O||window.event,An(n,O)&&j(O)},n.addEventListener(pi[a],S,!1)):n.addEventListener(a,j,!1):n.attachEvent("on"+a,S),n[rn]=n[rn]||{},n[rn][v]=S}function Oa(n,a,l,f,v){v=v||a+b(l)+(f?"_"+b(f):"");var S=n[rn]&&n[rn][v];if(!S)return this;!vt.touchNative&&vt.pointer&&a.indexOf("touch")===0?Al(n,a,S):vt.touch&&a==="dblclick"?fi(n,S):"removeEventListener"in n?n.removeEventListener(pi[a]||a,S,!1):n.detachEvent("on"+a,S),n[rn][v]=null}function on(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function yn(n){return ln(n,"wheel",on),this}function gi(n){return wt(n,"mousedown touchstart dblclick contextmenu",on),n._leaflet_disable_click=!0,this}function de(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Qn(n){return de(n),on(n),this}function Ra(n){if(n.composedPath)return n.composedPath();for(var a=[],l=n.target;l;)a.push(l),l=l.parentNode;return a}function Ba(n,a){if(!a)return new B(n.clientX,n.clientY);var l=Aa(a),f=l.boundingClientRect;return new B((n.clientX-f.left)/l.x-a.clientLeft,(n.clientY-f.top)/l.y-a.clientTop)}var Bl=vt.linux&&vt.chrome?window.devicePixelRatio:vt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ae(n){return vt.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Bl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function An(n,a){var l=a.relatedTarget;if(!l)return!0;try{for(;l&&l!==n;)l=l.parentNode}catch{return!1}return l!==n}var Ls={__proto__:null,on:wt,off:Kt,stopPropagation:on,disableScrollPropagation:yn,disableClickPropagation:gi,preventDefault:de,stop:Qn,getPropagationPath:Ra,getMousePosition:Ba,getWheelDelta:Ae,isExternalTarget:An,addListener:wt,removeListener:Kt},Vi=X.extend({run:function(n,a,l,f){this.stop(),this._el=n,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=In(n),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=gt(this._animate,this),this._step()},_step:function(n){var a=+new Date-this._startTime,l=this._duration*1e3;a<l?this._runFrame(this._easeOut(a/l),n):(this._runFrame(1),this._complete())},_runFrame:function(n,a){var l=this._startPos.add(this._offset.multiplyBy(n));a&&l._round(),ne(this._el,l),this.fire("step")},_complete:function(){lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Bt=X.extend({options:{crs:jn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,a){a=V(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ct(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ja&&vt.any3d&&!vt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),wt(this._proxy,vr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,a,l){if(a=a===void 0?this._zoom:this._limitZoom(a),n=this._limitCenter(ct(n),a,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=r({animate:l.animate},l.zoom),l.pan=r({animate:l.animate,duration:l.duration},l.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,a,l.zoom):this._tryAnimatedPan(n,l.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(n,a,l.pan&&l.pan.noMoveStart),this},setZoom:function(n,a){return this._loaded?this.setView(this.getCenter(),n,{zoom:a}):(this._zoom=n,this)},zoomIn:function(n,a){return n=n||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,a)},zoomOut:function(n,a){return n=n||(vt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,a)},setZoomAround:function(n,a,l){var f=this.getZoomScale(a),v=this.getSize().divideBy(2),S=n instanceof B?n:this.latLngToContainerPoint(n),j=S.subtract(v).multiplyBy(1-1/f),O=this.containerPointToLatLng(v.add(j));return this.setView(O,a,{zoom:l})},_getBoundsCenterZoom:function(n,a){a=a||{},n=n.getBounds?n.getBounds():it(n);var l=$(a.paddingTopLeft||a.padding||[0,0]),f=$(a.paddingBottomRight||a.padding||[0,0]),v=this.getBoundsZoom(n,!1,l.add(f));if(v=typeof a.maxZoom=="number"?Math.min(a.maxZoom,v):v,v===1/0)return{center:n.getCenter(),zoom:v};var S=f.subtract(l).divideBy(2),j=this.project(n.getSouthWest(),v),O=this.project(n.getNorthEast(),v),Z=this.unproject(j.add(O).divideBy(2).add(S),v);return{center:Z,zoom:v}},fitBounds:function(n,a){if(n=it(n),!n.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(n,a);return this.setView(l.center,l.zoom,a)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,a){return this.setView(n,this._zoom,{pan:a})},panBy:function(n,a){if(n=$(n).round(),a=a||{},!n.x&&!n.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Tt(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,l,a.duration||.25,a.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,a,l){if(l=l||{},l.animate===!1||!vt.any3d)return this.setView(n,a,l);this._stop();var f=this.project(this.getCenter()),v=this.project(n),S=this.getSize(),j=this._zoom;n=ct(n),a=a===void 0?j:a;var O=Math.max(S.x,S.y),Z=O*this.getZoomScale(j,a),J=v.distanceTo(f)||1,ot=1.42,xt=ot*ot;function jt(ce){var Un=ce?-1:1,xi=ce?Z:O,Pr=Z*Z-O*O+Un*xt*xt*J*J,$a=2*xi*xt*J,ts=Pr/$a,ii=Math.sqrt(ts*ts+1)-ts,Pn=ii<1e-9?-18:Math.log(ii);return Pn}function Ee(ce){return(Math.exp(ce)-Math.exp(-ce))/2}function fe(ce){return(Math.exp(ce)+Math.exp(-ce))/2}function Ye(ce){return Ee(ce)/fe(ce)}var qt=jt(0);function Vt(ce){return O*(fe(qt)/fe(qt+ot*ce))}function At(ce){return O*(fe(qt)*Ye(qt+ot*ce)-Ee(qt))/xt}function ei(ce){return 1-Math.pow(1-ce,1.5)}var $e=Date.now(),Rs=(jt(1)-qt)/ot,ni=l.duration?1e3*l.duration:1e3*Rs*.8;function Ur(){var ce=(Date.now()-$e)/ni,Un=ei(ce)*Rs;ce<=1?(this._flyToFrame=gt(Ur,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(At(Un)/J)),j),this.getScaleZoom(O/Vt(Un),j),{flyTo:!0})):this._move(n,a)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Ur.call(this),this},flyToBounds:function(n,a){var l=this._getBoundsCenterZoom(n,a);return this.flyTo(l.center,l.zoom,a)},setMaxBounds:function(n){return n=it(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var a=this.options.minZoom;return this.options.minZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var a=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,a){this._enforcingBounds=!0;var l=this.getCenter(),f=this._limitCenter(l,this._zoom,it(n));return l.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(n,a){a=a||{};var l=$(a.paddingTopLeft||a.padding||[0,0]),f=$(a.paddingBottomRight||a.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(n),j=this.getPixelBounds(),O=q([j.min.add(l),j.max.subtract(f)]),Z=O.getSize();if(!O.contains(S)){this._enforcingBounds=!0;var J=S.subtract(O.getCenter()),ot=O.extend(S).getSize().subtract(Z);v.x+=J.x<0?-ot.x:ot.x,v.y+=J.y<0?-ot.y:ot.y,this.panTo(this.unproject(v),a),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=r({animate:!1,pan:!0},n===!0?{animate:!0}:n);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),f=a.divideBy(2).round(),v=l.divideBy(2).round(),S=f.subtract(v);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=r({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=g(this._handleGeolocationResponse,this),l=g(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,l,n):navigator.geolocation.getCurrentPosition(a,l,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var a=n.code,l=n.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var a=n.coords.latitude,l=n.coords.longitude,f=new st(a,l),v=f.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var j=this.getBoundsZoom(v);this.setView(f,S.maxZoom?Math.min(j,S.maxZoom):j)}var O={latlng:f,bounds:v,timestamp:n.timestamp};for(var Z in n.coords)typeof n.coords[Z]=="number"&&(O[Z]=n.coords[Z]);this.fire("locationfound",O)}},addHandler:function(n,a){if(!a)return this;var l=this[n]=new a(this);return this._handlers.push(l),this.options[n]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Wt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,a){var l="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),f=zt("div",l,a||this._mapPane);return n&&(this._panes[n]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),a=this.unproject(n.getBottomLeft()),l=this.unproject(n.getTopRight());return new tt(a,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,a,l){n=it(n),l=$(l||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),j=n.getNorthWest(),O=n.getSouthEast(),Z=this.getSize().subtract(l),J=q(this.project(O,f),this.project(j,f)).getSize(),ot=vt.any3d?this.options.zoomSnap:1,xt=Z.x/J.x,jt=Z.y/J.y,Ee=a?Math.max(xt,jt):Math.min(xt,jt);return f=this.getScaleZoom(Ee,f),ot&&(f=Math.round(f/(ot/100))*(ot/100),f=a?Math.ceil(f/ot)*ot:Math.floor(f/ot)*ot),Math.max(v,Math.min(S,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,a){var l=this._getTopLeftPoint(n,a);return new N(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,a){var l=this.options.crs;return a=a===void 0?this._zoom:a,l.scale(n)/l.scale(a)},getScaleZoom:function(n,a){var l=this.options.crs;a=a===void 0?this._zoom:a;var f=l.zoom(n*l.scale(a));return isNaN(f)?1/0:f},project:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ct(n),a)},unproject:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng($(n),a)},layerPointToLatLng:function(n){var a=$(n).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(n){var a=this.project(ct(n))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ct(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(it(n))},distance:function(n,a){return this.options.crs.distance(ct(n),ct(a))},containerPointToLayerPoint:function(n){return $(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return $(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var a=this.containerPointToLayerPoint($(n));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(n)))},mouseEventToContainerPoint:function(n){return Ba(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var a=this._container=yr(n);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");wt(a,"scroll",this._onScroll,this),this._containerId=b(a)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt.any3d,Tt(n,"leaflet-container"+(vt.touch?" leaflet-touch":"")+(vt.retina?" leaflet-retina":"")+(vt.ielt9?" leaflet-oldie":"")+(vt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ka(n,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tt(n.markerPane,"leaflet-zoom-hide"),Tt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,a,l){ne(this._mapPane,new B(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var v=this._zoom!==a;this._moveStart(v,l)._move(n,a)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(n,a){return n&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(n,a,l,f){a===void 0&&(a=this._zoom);var v=this._zoom!==a;return this._zoom=a,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),f?l&&l.pinch&&this.fire("zoom",l):((v||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){ne(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[b(this._container)]=this;var a=n?Kt:wt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),vt.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){lt(this._resizeRequest),this._resizeRequest=gt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,a){for(var l=[],f,v=a==="mouseout"||a==="mouseover",S=n.target||n.srcElement,j=!1;S;){if(f=this._targets[b(S)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){j=!0;break}if(f&&f.listens(a,!0)&&(v&&!An(S,n)||(l.push(f),v))||S===this._container)break;S=S.parentNode}return!l.length&&!j&&!v&&this.listens(a,!0)&&(l=[this]),l},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var a=n.target||n.srcElement;if(!(!this._loaded||a._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(a))){var l=n.type;l==="mousedown"&&Gi(a),this._fireDOMEvent(n,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,a,l){if(n.type==="click"){var f=r({},n);f.type="preclick",this._fireDOMEvent(f,f.type,l)}var v=this._findEventTargets(n,a);if(l){for(var S=[],j=0;j<l.length;j++)l[j].listens(a,!0)&&S.push(l[j]);v=S.concat(v)}if(v.length){a==="contextmenu"&&de(n);var O=v[0],Z={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var J=O.getLatLng&&(!O._radius||O._radius<=10);Z.containerPoint=J?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(n),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=J?O.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(j=0;j<v.length;j++)if(v[j].fire(a,Z,!0),Z.originalEvent._stopped||v[j].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,a=this._handlers.length;n<a;n++)this._handlers[n].disable()},whenReady:function(n,a){return this._loaded?n.call(a||this,{target:this}):this.on("load",n,a),this},_getMapPanePos:function(){return In(this._mapPane)||new B(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,a){var l=n&&a!==void 0?this._getNewPixelOrigin(n,a):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,a){var l=this.getSize()._divideBy(2);return this.project(n,a)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,a,l){var f=this._getNewPixelOrigin(l,a);return this.project(n,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(n,a,l){var f=this._getNewPixelOrigin(l,a);return q([this.project(n.getSouthWest(),a)._subtract(f),this.project(n.getNorthWest(),a)._subtract(f),this.project(n.getSouthEast(),a)._subtract(f),this.project(n.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,a,l){if(!l)return n;var f=this.project(n,a),v=this.getSize().divideBy(2),S=new N(f.subtract(v),f.add(v)),j=this._getBoundsOffset(S,l,a);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?n:this.unproject(f.add(j),a)},_limitOffset:function(n,a){if(!a)return n;var l=this.getPixelBounds(),f=new N(l.min.add(n),l.max.add(n));return n.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(n,a,l){var f=q(this.project(a.getNorthEast(),l),this.project(a.getSouthWest(),l)),v=f.min.subtract(n.min),S=f.max.subtract(n.max),j=this._rebound(v.x,-S.x),O=this._rebound(v.y,-S.y);return new B(j,O)},_rebound:function(n,a){return n+a>0?Math.round(n-a)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(a))},_limitZoom:function(n){var a=this.getMinZoom(),l=this.getMaxZoom(),f=vt.any3d?this.options.zoomSnap:1;return f&&(n=Math.round(n/f)*f),Math.max(a,Math.min(l,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,a){var l=this._getCenterOffset(n)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,a),!0)},_createAnimProxy:function(){var n=this._proxy=zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(a){var l=Xn,f=this._proxy.style[l];zn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),a=this.getZoom();zn(this._proxy,this.project(n,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,a,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),v=this._getCenterOffset(n)._divideBy(1-1/f);return l.animate!==!0&&!this.getSize().contains(v)?!1:(gt(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(n,a,!0)},this),!0)},_animateZoom:function(n,a,l,f){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=a,Tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Er(n,a){return new Bt(n,a)}var Ve=ft.extend({options:{position:"topright"},initialize:function(n){V(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var a=this._map;return a&&a.removeControl(this),this.options.position=n,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var a=this._container=this.onAdd(n),l=this.getPosition(),f=n._controlCorners[l];return Tt(a,"leaflet-control"),l.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),On=function(n){return new Ve(n)};Bt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},a="leaflet-",l=this._controlContainer=zt("div",a+"control-container",this._container);function f(v,S){var j=a+v+" "+a+S;n[v+S]=zt("div",j,l)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Wt(this._controlCorners[n]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ua=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,a,l,f){return l<f?-1:f<l?1:0}},initialize:function(n,a,l){V(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in n)this._addLayer(n[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Ve.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,a){return this._addLayer(n,a),this._map?this._update():this},addOverlay:function(n,a){return this._addLayer(n,a,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var a=this._getLayer(b(n));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",a=this._container=zt("div",n),l=this.options.collapsed;a.setAttribute("aria-haspopup",!0),gi(a),yn(a);var f=this._section=zt("section",n+"-list");l&&(this._map.on("click",this.collapse,this),wt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=zt("a",n+"-toggle",a);v.href="#",v.title="Layers",v.setAttribute("role","button"),wt(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){de(S),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=zt("div",n+"-base",f),this._separator=zt("div",n+"-separator",f),this._overlaysList=zt("div",n+"-overlays",f),a.appendChild(f)},_getLayer:function(n){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&b(this._layers[a].layer)===n)return this._layers[a]},_addLayer:function(n,a,l){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:a,overlay:l}),this.options.sortLayers&&this._layers.sort(g(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qe(this._baseLayersList),Qe(this._overlaysList),this._layerControlInputs=[];var n,a,l,f,v=0;for(l=0;l<this._layers.length;l++)f=this._layers[l],this._addItem(f),a=a||f.overlay,n=n||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(n=n&&v>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=a&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var a=this._getLayer(b(n.target)),l=a.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;l&&this._map.fire(l,a)},_createRadioElement:function(n,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=l,f.firstChild},_addItem:function(n){var a=document.createElement("label"),l=this._map.hasLayer(n.layer),f;n.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=l):f=this._createRadioElement("leaflet-base-layers_"+b(this),l),this._layerControlInputs.push(f),f.layerId=b(n.layer),wt(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+n.name;var S=document.createElement("span");a.appendChild(S),S.appendChild(f),S.appendChild(v);var j=n.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,a,l,f=[],v=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)a=n[S],l=this._getLayer(a.layerId).layer,a.checked?f.push(l):a.checked||v.push(l);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<f.length;S++)this._map.hasLayer(f[S])||this._map.addLayer(f[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,a,l,f=this._map.getZoom(),v=n.length-1;v>=0;v--)a=n[v],l=this._getLayer(a.layerId).layer,a.disabled=l.options.minZoom!==void 0&&f<l.options.minZoom||l.options.maxZoom!==void 0&&f>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,wt(n,"click",de),this.expand();var a=this;setTimeout(function(){Kt(n,"click",de),a._preventClick=!1})}}),Ul=function(n,a,l){return new Ua(n,a,l)},Tr=Ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var a="leaflet-control-zoom",l=zt("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",l,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,a,l,f,v){var S=zt("a",l,f);return S.innerHTML=n,S.href="#",S.title=a,S.setAttribute("role","button"),S.setAttribute("aria-label",a),gi(S),wt(S,"click",Qn),wt(S,"click",v,this),wt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,a="leaflet-disabled";le(this._zoomInButton,a),le(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Tt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Tt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tr,this.addControl(this.zoomControl))});var wu=function(n){return new Tr(n)},Pl=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var a="leaflet-control-scale",l=zt("div",a),f=this.options;return this._addScales(f,a+"-line",l),n.on(f.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),l},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,a,l){n.metric&&(this._mScale=zt("div",a,l)),n.imperial&&(this._iScale=zt("div",a,l))},_update:function(){var n=this._map,a=n.getSize().y/2,l=n.distance(n.containerPointToLatLng([0,a]),n.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(l)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var a=this._getRoundNum(n),l=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,l,a/n)},_updateImperial:function(n){var a=n*3.2808399,l,f,v;a>5280?(l=a/5280,f=this._getRoundNum(l),this._updateScale(this._iScale,f+" mi",f/l)):(v=this._getRoundNum(a),this._updateScale(this._iScale,v+" ft",v/a))},_updateScale:function(n,a,l){n.style.width=Math.round(this.options.maxWidth*l)+"px",n.innerHTML=a},_getRoundNum:function(n){var a=Math.pow(10,(Math.floor(n)+"").length-1),l=n/a;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,a*l}}),Mr=function(n){return new Pl(n)},Su='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nr=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(vt.inlineSvg?Su+" ":"")+"Leaflet</a>"},initialize:function(n){V(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=zt("div","leaflet-control-attribution"),gi(this._container);for(var a in n._layers)n._layers[a].getAttribution&&this.addAttribution(n._layers[a].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var a in this._attributions)this._attributions[a]&&n.push(a);var l=[];this.options.prefix&&l.push(this.options.prefix),n.length&&l.push(n.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Nr().addTo(this)});var Eu=function(n){return new Nr(n)};Ve.Layers=Ua,Ve.Zoom=Tr,Ve.Scale=Pl,Ve.Attribution=Nr,On.layers=Ul,On.zoom=wu,On.scale=Mr,On.attribution=Eu;var xn=ft.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xn.addTo=function(n,a){return n.addHandler(a,this),this};var Tu={Events:C},Cr=vt.touch?"touchstart mousedown":"mousedown",Kn=X.extend({options:{clickTolerance:3},initialize:function(n,a,l,f){V(this,f),this._element=n,this._dragStartTarget=a||n,this._preventOutline=l},enable:function(){this._enabled||(wt(this._dragStartTarget,Cr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kn._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Cr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!xr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Kn._dragging===this&&this.finishDrag();return}if(!(Kn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Kn._dragging=this,this._preventOutline&&Gi(this._element),ys(),Hi(),!this._moving)){this.fire("down");var a=n.touches?n.touches[0]:n,l=bs(this._element);this._startPoint=new B(a.clientX,a.clientY),this._startPos=In(this._element),this._parentScale=Aa(l);var f=n.type==="mousedown";wt(document,f?"mousemove":"touchmove",this._onMove,this),wt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var a=n.touches&&n.touches.length===1?n.touches[0]:n,l=new B(a.clientX,a.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,de(n),this._moved||(this.fire("dragstart"),this._moved=!0,Tt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),ne(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),za(),vn();var a=this._moved&&this._moving;this._moving=!1,Kn._dragging=!1,a&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Hl(n,a,l){var f,v=[1,4,2,8],S,j,O,Z,J,ot,xt,jt;for(S=0,ot=n.length;S<ot;S++)n[S]._code=_i(n[S],a);for(O=0;O<4;O++){for(xt=v[O],f=[],S=0,ot=n.length,j=ot-1;S<ot;j=S++)Z=n[S],J=n[j],Z._code&xt?J._code&xt||(jt=ws(J,Z,xt,a,l),jt._code=_i(jt,a),f.push(jt)):(J._code&xt&&(jt=ws(J,Z,xt,a,l),jt._code=_i(jt,a),f.push(jt)),f.push(Z));n=f}return n}function Zl(n,a){var l,f,v,S,j,O,Z,J,ot;if(!n||n.length===0)throw new Error("latlngs not passed");Fe(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var xt=ct([0,0]),jt=it(n),Ee=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());Ee<1700&&(xt=jr(n));var fe=n.length,Ye=[];for(l=0;l<fe;l++){var qt=ct(n[l]);Ye.push(a.project(ct([qt.lat-xt.lat,qt.lng-xt.lng])))}for(O=Z=J=0,l=0,f=fe-1;l<fe;f=l++)v=Ye[l],S=Ye[f],j=v.y*S.x-S.y*v.x,Z+=(v.x+S.x)*j,J+=(v.y+S.y)*j,O+=j*3;O===0?ot=Ye[0]:ot=[Z/O,J/O];var Vt=a.unproject($(ot));return ct([Vt.lat+xt.lat,Vt.lng+xt.lng])}function jr(n){for(var a=0,l=0,f=0,v=0;v<n.length;v++){var S=ct(n[v]);a+=S.lat,l+=S.lng,f++}return ct([a/f,l/f])}var kr={__proto__:null,clipPolygon:Hl,polygonCenter:Zl,centroid:jr};function Gl(n,a){if(!a||!n.length)return n.slice();var l=a*a;return n=Nu(n,l),n=Vl(n,l),n}function ql(n,a,l){return Math.sqrt(Pa(n,a,l,!0))}function Mu(n,a,l){return Pa(n,a,l)}function Vl(n,a){var l=n.length,f=typeof Uint8Array<"u"?Uint8Array:Array,v=new f(l);v[0]=v[l-1]=1,Dr(n,v,a,0,l-1);var S,j=[];for(S=0;S<l;S++)v[S]&&j.push(n[S]);return j}function Dr(n,a,l,f,v){var S=0,j,O,Z;for(O=f+1;O<=v-1;O++)Z=Pa(n[O],n[f],n[v],!0),Z>S&&(j=O,S=Z);S>l&&(a[j]=1,Dr(n,a,l,f,j),Dr(n,a,l,j,v))}function Nu(n,a){for(var l=[n[0]],f=1,v=0,S=n.length;f<S;f++)Cu(n[f],n[v])>a&&(l.push(n[f]),v=f);return v<S-1&&l.push(n[S-1]),l}var Yl;function Xl(n,a,l,f,v){var S=f?Yl:_i(n,l),j=_i(a,l),O,Z,J;for(Yl=j;;){if(!(S|j))return[n,a];if(S&j)return!1;O=S||j,Z=ws(n,a,O,l,v),J=_i(Z,l),O===S?(n=Z,S=J):(a=Z,j=J)}}function ws(n,a,l,f,v){var S=a.x-n.x,j=a.y-n.y,O=f.min,Z=f.max,J,ot;return l&8?(J=n.x+S*(Z.y-n.y)/j,ot=Z.y):l&4?(J=n.x+S*(O.y-n.y)/j,ot=O.y):l&2?(J=Z.x,ot=n.y+j*(Z.x-n.x)/S):l&1&&(J=O.x,ot=n.y+j*(O.x-n.x)/S),new B(J,ot,v)}function _i(n,a){var l=0;return n.x<a.min.x?l|=1:n.x>a.max.x&&(l|=2),n.y<a.min.y?l|=4:n.y>a.max.y&&(l|=8),l}function Cu(n,a){var l=a.x-n.x,f=a.y-n.y;return l*l+f*f}function Pa(n,a,l,f){var v=a.x,S=a.y,j=l.x-v,O=l.y-S,Z=j*j+O*O,J;return Z>0&&(J=((n.x-v)*j+(n.y-S)*O)/Z,J>1?(v=l.x,S=l.y):J>0&&(v+=j*J,S+=O*J)),j=n.x-v,O=n.y-S,f?j*j+O*O:new B(v,S)}function Fe(n){return!nt(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ss(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fe(n)}function Yi(n,a){var l,f,v,S,j,O,Z,J;if(!n||n.length===0)throw new Error("latlngs not passed");Fe(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ot=ct([0,0]),xt=it(n),jt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());jt<1700&&(ot=jr(n));var Ee=n.length,fe=[];for(l=0;l<Ee;l++){var Ye=ct(n[l]);fe.push(a.project(ct([Ye.lat-ot.lat,Ye.lng-ot.lng])))}for(l=0,f=0;l<Ee-1;l++)f+=fe[l].distanceTo(fe[l+1])/2;if(f===0)J=fe[0];else for(l=0,S=0;l<Ee-1;l++)if(j=fe[l],O=fe[l+1],v=j.distanceTo(O),S+=v,S>f){Z=(S-f)/v,J=[O.x-Z*(O.x-j.x),O.y-Z*(O.y-j.y)];break}var qt=a.unproject($(J));return ct([qt.lat+ot.lat,qt.lng+ot.lng])}var ju={__proto__:null,simplify:Gl,pointToSegmentDistance:ql,closestPointOnSegment:Mu,clipSegment:Xl,_getEdgeIntersection:ws,_getBitCode:_i,_sqClosestPointOnSegment:Pa,isFlat:Fe,_flat:Ss,polylineCenter:Yi},Es={project:function(n){return new B(n.lng,n.lat)},unproject:function(n){return new st(n.y,n.x)},bounds:new N([-180,-90],[180,90])},Ts={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var a=Math.PI/180,l=this.R,f=n.lat*a,v=this.R_MINOR/l,S=Math.sqrt(1-v*v),j=S*Math.sin(f),O=Math.tan(Math.PI/4-f/2)/Math.pow((1-j)/(1+j),S/2);return f=-l*Math.log(Math.max(O,1e-10)),new B(n.lng*a*l,f)},unproject:function(n){for(var a=180/Math.PI,l=this.R,f=this.R_MINOR/l,v=Math.sqrt(1-f*f),S=Math.exp(-n.y/l),j=Math.PI/2-2*Math.atan(S),O=0,Z=.1,J;O<15&&Math.abs(Z)>1e-7;O++)J=v*Math.sin(j),J=Math.pow((1-J)/(1+J),v/2),Z=Math.PI/2-2*Math.atan(S*J)-j,j+=Z;return new st(j*a,n.x*a/l)}},Il={__proto__:null,LonLat:Es,Mercator:Ts,SphericalMercator:re},Ql=r({},Qt,{code:"EPSG:3395",projection:Ts,transformation:(function(){var n=.5/(Math.PI*Ts.R);return Ze(n,.5,-n,.5)})()}),zr=r({},Qt,{code:"EPSG:4326",projection:Es,transformation:Ze(1/180,1,-1/180,.5)}),Xi=r({},St,{projection:Es,transformation:Ze(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,a){var l=a.lng-n.lng,f=a.lat-n.lat;return Math.sqrt(l*l+f*f)},infinite:!0});St.Earth=Qt,St.EPSG3395=Ql,St.EPSG3857=jn,St.EPSG900913=oi,St.EPSG4326=zr,St.Simple=Xi;var un=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[b(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[b(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var a=n.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var l=this.getEvents();a.on(l,this),this.once("remove",function(){a.off(l,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var a=b(n);return this._layers[a]?this:(this._layers[a]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var a=b(n);return this._layers[a]?(this._loaded&&n.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return b(n)in this._layers},eachLayer:function(n,a){for(var l in this._layers)n.call(a,this._layers[l]);return this},_addLayers:function(n){n=n?nt(n)?n:[n]:[];for(var a=0,l=n.length;a<l;a++)this.addLayer(n[a])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[b(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var a=b(n);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,a=-1/0,l=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;n=v.minZoom===void 0?n:Math.min(n,v.minZoom),a=v.maxZoom===void 0?a:Math.max(a,v.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=n===1/0?void 0:n,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ii=un.extend({initialize:function(n,a){V(this,a),this._layers={};var l,f;if(n)for(l=0,f=n.length;l<f;l++)this.addLayer(n[l])},addLayer:function(n){var a=this.getLayerId(n);return this._layers[a]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var a=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(n){var a=typeof n=="number"?n:this.getLayerId(n);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var a=Array.prototype.slice.call(arguments,1),l,f;for(l in this._layers)f=this._layers[l],f[n]&&f[n].apply(f,a);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,a){for(var l in this._layers)n.call(a,this._layers[l]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return b(n)}}),ku=function(n,a){return new Ii(n,a)},bn=Ii.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Ii.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Ii.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new tt;for(var a in this._layers){var l=this._layers[a];n.extend(l.getBounds?l.getBounds():l.getLatLng())}return n}}),Kl=function(n,a){return new bn(n,a)},Ln=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){V(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,a){var l=this._getIconUrl(n);if(!l){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(l,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(n,a){var l=this.options,f=l[a+"Size"];typeof f=="number"&&(f=[f,f]);var v=$(f),S=$(a==="shadow"&&l.shadowAnchor||l.iconAnchor||v&&v.divideBy(2,!0));n.className="leaflet-marker-"+a+" "+(l.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),v&&(n.style.width=v.x+"px",n.style.height=v.y+"px")},_createImg:function(n,a){return a=a||document.createElement("img"),a.src=n,a},_getIconUrl:function(n){return vt.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Ha(n){return new Ln(n)}var Za=Ln.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Za.imagePath!="string"&&(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+Ln.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var a=function(l,f,v){var S=f.exec(l);return S&&S[v]};return n=a(n,/^url\((['"])?(.+)\1\)$/,2),n&&a(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=zt("div","leaflet-default-icon-path",document.body),a=ka(n,"background-image")||ka(n,"backgroundImage");if(document.body.removeChild(n),a=this._stripUrl(a),a)return a;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Ga=xn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Kn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var a=this._marker,l=a._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=In(a._icon),j=l.getPixelBounds(),O=l.getPixelOrigin(),Z=q(j.min._subtract(O).add(v),j.max._subtract(O).subtract(v));if(!Z.contains(S)){var J=$((Math.max(Z.max.x,S.x)-Z.max.x)/(j.max.x-Z.max.x)-(Math.min(Z.min.x,S.x)-Z.min.x)/(j.min.x-Z.min.x),(Math.max(Z.max.y,S.y)-Z.max.y)/(j.max.y-Z.max.y)-(Math.min(Z.min.y,S.y)-Z.min.y)/(j.min.y-Z.min.y)).multiplyBy(f);l.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),ne(a._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=gt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(lt(this._panRequest),this._panRequest=gt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var a=this._marker,l=a._shadow,f=In(a._icon),v=a._map.layerPointToLatLng(f);l&&ne(l,f),a._latlng=v,n.latlng=v,n.oldLatLng=this._oldLatLng,a.fire("move",n).fire("drag",n)},_onDragEnd:function(n){lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),qa=un.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,a){V(this,a),this._latlng=ct(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var a=this._latlng;return this._latlng=ct(n),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=n.icon.createIcon(this._icon),f=!1;l!==this._icon&&(this._icon&&this._removeIcon(),f=!0,n.title&&(l.title=n.title),l.tagName==="IMG"&&(l.alt=n.alt||"")),Tt(l,a),n.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(l,"focus",this._panOnFocus,this);var v=n.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(Tt(v,a),v.alt=""),this._shadow=v,n.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&ne(this._icon,n),this._shadow&&ne(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ga)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ga(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var a=this.options.icon.options,l=a.iconSize?$(a.iconSize):$(0,0),f=a.iconAnchor?$(a.iconAnchor):$(0,0);n.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:l.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Fl(n,a){return new qa(n,a)}var wn=un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return V(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qi=wn.extend({options:{fill:!0,radius:10},initialize:function(n,a){V(this,a),this._latlng=ct(n),this._radius=this.options.radius},setLatLng:function(n){var a=this._latlng;return this._latlng=ct(n),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var a=n&&n.radius||this._radius;return wn.prototype.setStyle.call(this,n),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,a=this._radiusY||n,l=this._clickTolerance(),f=[n+l,a+l];this._pxBounds=new N(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jl(n,a){return new Qi(n,a)}var Ms=Qi.extend({initialize:function(n,a,l){if(typeof a=="number"&&(a=r({},l,{radius:a})),V(this,a),this._latlng=ct(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:wn.prototype.setStyle,_project:function(){var n=this._latlng.lng,a=this._latlng.lat,l=this._map,f=l.options.crs;if(f.distance===Qt.distance){var v=Math.PI/180,S=this._mRadius/Qt.R/v,j=l.project([a+S,n]),O=l.project([a-S,n]),Z=j.add(O).divideBy(2),J=l.unproject(Z).lat,ot=Math.acos((Math.cos(S*v)-Math.sin(a*v)*Math.sin(J*v))/(Math.cos(a*v)*Math.cos(J*v)))/v;(isNaN(ot)||ot===0)&&(ot=S/Math.cos(Math.PI/180*a)),this._point=Z.subtract(l.getPixelOrigin()),this._radius=isNaN(ot)?0:Z.x-l.project([J,n-ot]).x,this._radiusY=Z.y-j.y}else{var xt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(xt).x}this._updateBounds()}});function Wl(n,a,l){return new Ms(n,a,l)}var Rn=wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,a){V(this,a),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var a=1/0,l=null,f=Pa,v,S,j=0,O=this._parts.length;j<O;j++)for(var Z=this._parts[j],J=1,ot=Z.length;J<ot;J++){v=Z[J-1],S=Z[J];var xt=f(n,v,S,!0);xt<a&&(a=xt,l=f(n,v,S))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,a){return a=a||this._defaultShape(),n=ct(n),a.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new tt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Fe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var a=[],l=Fe(n),f=0,v=n.length;f<v;f++)l?(a[f]=ct(n[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(n[f]);return a},_project:function(){var n=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),a=new B(n,n);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(n,a,l){var f=n[0]instanceof st,v=n.length,S,j;if(f){for(j=[],S=0;S<v;S++)j[S]=this._map.latLngToLayerPoint(n[S]),l.extend(j[S]);a.push(j)}else for(S=0;S<v;S++)this._projectLatlngs(n[S],a,l)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,l,f,v,S,j,O,Z;for(l=0,v=0,S=this._rings.length;l<S;l++)for(Z=this._rings[l],f=0,j=Z.length;f<j-1;f++)O=Xl(Z[f],Z[f+1],n,f,!0),O&&(a[v]=a[v]||[],a[v].push(O[0]),(O[1]!==Z[f+1]||f===j-2)&&(a[v].push(O[1]),v++))}},_simplifyPoints:function(){for(var n=this._parts,a=this.options.smoothFactor,l=0,f=n.length;l<f;l++)n[l]=Gl(n[l],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,a){var l,f,v,S,j,O,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(l=0,S=this._parts.length;l<S;l++)for(O=this._parts[l],f=0,j=O.length,v=j-1;f<j;v=f++)if(!(!a&&f===0)&&ql(n,O[v],O[f])<=Z)return!0;return!1}});function Du(n,a){return new Rn(n,a)}Rn._flat=Ss;var Ki=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var a=Rn.prototype._convertLatLngs.call(this,n),l=a.length;return l>=2&&a[0]instanceof st&&a[0].equals(a[l-1])&&a.pop(),a},_setLatLngs:function(n){Rn.prototype._setLatLngs.call(this,n),Fe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,a=this.options.weight,l=new B(a,a);if(n=new N(n.min.subtract(l),n.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,S;f<v;f++)S=Hl(this._rings[f],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var a=!1,l,f,v,S,j,O,Z,J;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,Z=this._parts.length;S<Z;S++)for(l=this._parts[S],j=0,J=l.length,O=J-1;j<J;O=j++)f=l[j],v=l[O],f.y>n.y!=v.y>n.y&&n.x<(v.x-f.x)*(n.y-f.y)/(v.y-f.y)+f.x&&(a=!a);return a||Rn.prototype._containsPoint.call(this,n,!0)}});function zu(n,a){return new Ki(n,a)}var Bn=bn.extend({initialize:function(n,a){V(this,a),this._layers={},n&&this.addData(n)},addData:function(n){var a=nt(n)?n:n.features,l,f,v;if(a){for(l=0,f=a.length;l<f;l++)v=a[l],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var j=Ne(n,S);return j?(j.feature=js(n),j.defaultOptions=j.options,this.resetStyle(j),S.onEachFeature&&S.onEachFeature(n,j),this.addLayer(j)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=r({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(a){this._setLayerStyle(a,n)},this)},_setLayerStyle:function(n,a){n.setStyle&&(typeof a=="function"&&(a=a(n.feature)),n.setStyle(a))}});function Ne(n,a){var l=n.type==="Feature"?n.geometry:n,f=l?l.coordinates:null,v=[],S=a&&a.pointToLayer,j=a&&a.coordsToLatLng||Ns,O,Z,J,ot;if(!f&&!l)return null;switch(l.type){case"Point":return O=j(f),Fi(S,n,O,a);case"MultiPoint":for(J=0,ot=f.length;J<ot;J++)O=j(f[J]),v.push(Fi(S,n,O,a));return new bn(v);case"LineString":case"MultiLineString":return Z=Va(f,l.type==="LineString"?0:1,j),new Rn(Z,a);case"Polygon":case"MultiPolygon":return Z=Va(f,l.type==="Polygon"?1:2,j),new Ki(Z,a);case"GeometryCollection":for(J=0,ot=l.geometries.length;J<ot;J++){var xt=Ne({geometry:l.geometries[J],type:"Feature",properties:n.properties},a);xt&&v.push(xt)}return new bn(v);case"FeatureCollection":for(J=0,ot=l.features.length;J<ot;J++){var jt=Ne(l.features[J],a);jt&&v.push(jt)}return new bn(v);default:throw new Error("Invalid GeoJSON object.")}}function Fi(n,a,l,f){return n?n(a,l):new qa(l,f&&f.markersInheritOptions&&f)}function Ns(n){return new st(n[1],n[0],n[2])}function Va(n,a,l){for(var f=[],v=0,S=n.length,j;v<S;v++)j=a?Va(n[v],a-1,l):(l||Ns)(n[v]),f.push(j);return f}function Cs(n,a){return n=ct(n),n.alt!==void 0?[H(n.lng,a),H(n.lat,a),H(n.alt,a)]:[H(n.lng,a),H(n.lat,a)]}function Ya(n,a,l,f){for(var v=[],S=0,j=n.length;S<j;S++)v.push(a?Ya(n[S],Fe(n[S])?0:a-1,l,f):Cs(n[S],f));return!a&&l&&v.length>0&&v.push(v[0].slice()),v}function Fn(n,a){return n.feature?r({},n.feature,{geometry:a}):js(a)}function js(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Jn={toGeoJSON:function(n){return Fn(this,{type:"Point",coordinates:Cs(this.getLatLng(),n)})}};qa.include(Jn),Ms.include(Jn),Qi.include(Jn),Rn.include({toGeoJSON:function(n){var a=!Fe(this._latlngs),l=Ya(this._latlngs,a?1:0,!1,n);return Fn(this,{type:(a?"Multi":"")+"LineString",coordinates:l})}}),Ki.include({toGeoJSON:function(n){var a=!Fe(this._latlngs),l=a&&!Fe(this._latlngs[0]),f=Ya(this._latlngs,l?2:a?1:0,!0,n);return a||(f=[f]),Fn(this,{type:(l?"Multi":"")+"Polygon",coordinates:f})}}),Ii.include({toMultiPoint:function(n){var a=[];return this.eachLayer(function(l){a.push(l.toGeoJSON(n).geometry.coordinates)}),Fn(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(n){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(n);var l=a==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(n);if(l)f.push(S.geometry);else{var j=js(S);j.type==="FeatureCollection"?f.push.apply(f,j.features):f.push(j)}}}),l?Fn(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function ks(n,a){return new Bn(n,a)}var Xa=ks,Ji=un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,a,l){this._url=n,this._bounds=it(a),V(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Se(this._image),this},bringToBack:function(){return this._map&&mi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=it(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",a=this._image=n?this._url:zt("img");if(Tt(a,"leaflet-image-layer"),this._zoomAnimated&&Tt(a,"leaflet-zoom-animated"),this.options.className&&Tt(a,this.options.className),a.onselectstart=M,a.onmousemove=M,a.onload=g(this.fire,this,"load"),a.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(n){var a=this._map.getZoomScale(n.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;zn(this._image,l,a)},_reset:function(){var n=this._image,a=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=a.getSize();ne(n,a.min),n.style.width=l.x+"px",n.style.height=l.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),$l=function(n,a,l){return new Ji(n,a,l)},Wn=Ji.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",a=this._image=n?this._url:zt("video");if(Tt(a,"leaflet-image-layer"),this._zoomAnimated&&Tt(a,"leaflet-zoom-animated"),this.options.className&&Tt(a,this.options.className),a.onselectstart=M,a.onmousemove=M,a.onloadeddata=g(this.fire,this,"load"),n){for(var l=a.getElementsByTagName("source"),f=[],v=0;v<l.length;v++)f.push(l[v].src);this._url=l.length>0?f:[a.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var j=zt("source");j.src=this._url[S],a.appendChild(j)}}});function Wi(n,a,l){return new Wn(n,a,l)}var Ds=Ji.extend({_initImage:function(){var n=this._image=this._url;Tt(n,"leaflet-image-layer"),this._zoomAnimated&&Tt(n,"leaflet-zoom-animated"),this.options.className&&Tt(n,this.options.className),n.onselectstart=M,n.onmousemove=M}});function to(n,a,l){return new Ds(n,a,l)}var Ce=un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,a){n&&(n instanceof st||nt(n))?(this._latlng=ct(n),V(this,a)):(V(this,n),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(g(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ct(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Se(this._container),this},bringToBack:function(){return this._map&&mi(this._container),this},_prepareOpen:function(n){var a=this._source;if(!a._map)return!1;if(a instanceof bn){a=null;var l=this._source._layers;for(var f in l)if(l[f]._map){a=l[f];break}if(!a)return!1;this._source=a}if(!n)if(a.getCenter)n=a.getCenter();else if(a.getLatLng)n=a.getLatLng();else if(a.getBounds)n=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")n.innerHTML=a;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),a=$(this.options.offset),l=this._getAnchor();this._zoomAnimated?ne(this._container,n.add(l)):a=a.add(n).add(l);var f=this._containerBottom=-a.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(n,a,l,f){var v=a;return v instanceof n||(v=new n(f).setContent(a)),l&&v.setLatLng(l),v}}),un.include({_initOverlay:function(n,a,l,f){var v=l;return v instanceof n?(V(v,f),v._source=this):(v=a&&!f?a:new n(f,this),v.setContent(l)),v}});var Ia=Ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Ce.prototype.openOn.call(this,n)},onAdd:function(n){Ce.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wn||this._source.on("preclick",on))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wn||this._source.off("preclick",on))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",a=this._container=zt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=zt("div",n+"-content-wrapper",a);if(this._contentNode=zt("div",n+"-content",l),gi(a),yn(this._contentNode),wt(a,"contextmenu",on),this._tipContainer=zt("div",n+"-tip-container",a),this._tip=zt("div",n+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=zt("a",n+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',wt(f,"click",function(v){de(v),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,a=n.style;a.width="",a.whiteSpace="nowrap";var l=n.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),a.width=l+1+"px",a.whiteSpace="",a.height="";var f=n.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&f>v?(a.height=v+"px",Tt(n,S)):le(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),l=this._getAnchor();ne(this._container,a.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,a=parseInt(ka(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+a,f=this._containerWidth,v=new B(this._containerLeft,-l-this._containerBottom);v._add(In(this._container));var S=n.layerPointToContainerPoint(v),j=$(this.options.autoPanPadding),O=$(this.options.autoPanPaddingTopLeft||j),Z=$(this.options.autoPanPaddingBottomRight||j),J=n.getSize(),ot=0,xt=0;S.x+f+Z.x>J.x&&(ot=S.x+f-J.x+Z.x),S.x-ot-O.x<0&&(ot=S.x-O.x),S.y+l+Z.y>J.y&&(xt=S.y+l-J.y+Z.y),S.y-xt-O.y<0&&(xt=S.y-O.y),(ot||xt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ot,xt]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eo=function(n,a){return new Ia(n,a)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(n,a,l){return this._initOverlay(Ia,n,a,l).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),un.include({bindPopup:function(n,a){return this._popup=this._initOverlay(Ia,this._popup,n,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof bn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Qn(n);var a=n.layer||n.target;if(this._popup._source===a&&!(a instanceof wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=a,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Qa=Ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Ce.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Ce.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Ce.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",a=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zt("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var a,l,f=this._map,v=this._container,S=f.latLngToContainerPoint(f.getCenter()),j=f.layerPointToContainerPoint(n),O=this.options.direction,Z=v.offsetWidth,J=v.offsetHeight,ot=$(this.options.offset),xt=this._getAnchor();O==="top"?(a=Z/2,l=J):O==="bottom"?(a=Z/2,l=0):O==="center"?(a=Z/2,l=J/2):O==="right"?(a=0,l=J/2):O==="left"?(a=Z,l=J/2):j.x<S.x?(O="right",a=0,l=J/2):(O="left",a=Z+(ot.x+xt.x)*2,l=J/2),n=n.subtract($(a,l,!0)).add(ot).add(xt),le(v,"leaflet-tooltip-right"),le(v,"leaflet-tooltip-left"),le(v,"leaflet-tooltip-top"),le(v,"leaflet-tooltip-bottom"),Tt(v,"leaflet-tooltip-"+O),ne(v,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(a)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Au=function(n,a){return new Qa(n,a)};Bt.include({openTooltip:function(n,a,l){return this._initOverlay(Qa,n,a,l).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),un.include({bindTooltip:function(n,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qa,this._tooltip,n,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var a=n?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[a](l),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof bn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&(wt(a,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),wt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var a=n.latlng,l,f;this._tooltip.options.sticky&&n.originalEvent&&(l=this._map.mouseEventToContainerPoint(n.originalEvent),f=this._map.containerPointToLayerPoint(l),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var no=Ln.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var a=n&&n.tagName==="DIV"?n:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Qe(a),a.appendChild(l.html)):a.innerHTML=l.html!==!1?l.html:"",l.bgPos){var f=$(l.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Ou(n){return new no(n)}Ln.Default=Za;var $i=un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){V(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Wt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof B?n:new B(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var a=this.getPane().children,l=-n(-1/0,1/0),f=0,v=a.length,S;f<v;f++)S=a[f].style.zIndex,a[f]!==this._container&&S&&(l=n(l,+S));isFinite(l)&&(this.options.zIndex=l+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!vt.ielt9){ae(this._container,this.options.opacity);var n=+new Date,a=!1,l=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var S=Math.min(1,(n-v.loaded)/200);ae(v.el,S),S<1?a=!0:(v.active?l=!0:this._onOpaqueTile(v),v.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),a&&(lt(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this))}},_onOpaqueTile:M,_initContainer:function(){this._container||(this._container=zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,a=this.options.maxZoom;if(n!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===n?(this._levels[l].el.style.zIndex=a-Math.abs(n-l),this._onUpdateLevel(l)):(Wt(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var f=this._levels[n],v=this._map;return f||(f=this._levels[n]={},f.el=zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=v.project(v.unproject(v.getPixelOrigin()),n).round(),f.zoom=n,this._setZoomTransform(f,v.getCenter(),v.getZoom()),M(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:M,_onRemoveLevel:M,_onCreateLevel:M,_pruneTiles:function(){if(this._map){var n,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)a=this._tiles[n],a.retain=a.current;for(n in this._tiles)if(a=this._tiles[n],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var a in this._tiles)this._tiles[a].coords.z===n&&this._removeTile(a)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Wt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,a,l,f){var v=Math.floor(n/2),S=Math.floor(a/2),j=l-1,O=new B(+v,+S);O.z=+j;var Z=this._tileCoordsToKey(O),J=this._tiles[Z];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),j>f?this._retainParent(v,S,j,f):!1)},_retainChildren:function(n,a,l,f){for(var v=2*n;v<2*n+2;v++)for(var S=2*a;S<2*a+2;S++){var j=new B(v,S);j.z=l+1;var O=this._tileCoordsToKey(j),Z=this._tiles[O];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);l+1<f&&this._retainChildren(v,S,l+1,f)}},_resetView:function(n){var a=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var a=this.options;return a.minNativeZoom!==void 0&&n<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<n?a.maxNativeZoom:n},_setView:function(n,a,l,f){var v=Math.round(a);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(n),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(n,a)},_setZoomTransforms:function(n,a){for(var l in this._levels)this._setZoomTransform(this._levels[l],n,a)},_setZoomTransform:function(n,a,l){var f=this._map.getZoomScale(l,n.zoom),v=n.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,l)).round();vt.any3d?zn(n.el,v,f):ne(n.el,v)},_resetGrid:function(){var n=this._map,a=n.options.crs,l=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,a.wrapLng[0]],f).x/l.x),Math.ceil(n.project([0,a.wrapLng[1]],f).x/l.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([a.wrapLat[0],0],f).y/l.x),Math.ceil(n.project([a.wrapLat[1],0],f).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var a=this._map,l=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(l,this._tileZoom),v=a.project(n,this._tileZoom).floor(),S=a.getSize().divideBy(f*2);return new N(v.subtract(S),v.add(S))},_update:function(n){var a=this._map;if(a){var l=this._clampZoom(a.getZoom());if(n===void 0&&(n=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(n),v=this._pxBoundsToTileRange(f),S=v.getCenter(),j=[],O=this.options.keepBuffer,Z=new N(v.getBottomLeft().subtract([O,-O]),v.getTopRight().add([O,-O]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var ot=this._tiles[J].coords;(ot.z!==this._tileZoom||!Z.contains(new B(ot.x,ot.y)))&&(this._tiles[J].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(n,l);return}for(var xt=v.min.y;xt<=v.max.y;xt++)for(var jt=v.min.x;jt<=v.max.x;jt++){var Ee=new B(jt,xt);if(Ee.z=this._tileZoom,!!this._isValidTile(Ee)){var fe=this._tiles[this._tileCoordsToKey(Ee)];fe?fe.current=!0:j.push(Ee)}}if(j.sort(function(qt,Vt){return qt.distanceTo(S)-Vt.distanceTo(S)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ye=document.createDocumentFragment();for(jt=0;jt<j.length;jt++)this._addTile(j[jt],Ye);this._level.el.appendChild(Ye)}}}},_isValidTile:function(n){var a=this._map.options.crs;if(!a.infinite){var l=this._globalTileRange;if(!a.wrapLng&&(n.x<l.min.x||n.x>l.max.x)||!a.wrapLat&&(n.y<l.min.y||n.y>l.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(n);return it(this.options.bounds).overlaps(f)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var a=this._map,l=this.getTileSize(),f=n.scaleBy(l),v=f.add(l),S=a.unproject(f,n.z),j=a.unproject(v,n.z);return[S,j]},_tileCoordsToBounds:function(n){var a=this._tileCoordsToNwSe(n),l=new tt(a[0],a[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var a=n.split(":"),l=new B(+a[0],+a[1]);return l.z=+a[2],l},_removeTile:function(n){var a=this._tiles[n];a&&(Wt(a.el),delete this._tiles[n],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Tt(n,"leaflet-tile");var a=this.getTileSize();n.style.width=a.x+"px",n.style.height=a.y+"px",n.onselectstart=M,n.onmousemove=M,vt.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,a){var l=this._getTilePos(n),f=this._tileCoordsToKey(n),v=this.createTile(this._wrapCoords(n),g(this._tileReady,this,n));this._initTile(v),this.createTile.length<2&&gt(g(this._tileReady,this,n,null,v)),ne(v,l),this._tiles[f]={el:v,coords:n,current:!0},a.appendChild(v),this.fire("tileloadstart",{tile:v,coords:n})},_tileReady:function(n,a,l){a&&this.fire("tileerror",{error:a,tile:l,coords:n});var f=this._tileCoordsToKey(n);l=this._tiles[f],l&&(l.loaded=+new Date,this._map._fadeAnimated?(ae(l.el,0),lt(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),a||(Tt(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),vt.ielt9||!this._map._fadeAnimated?gt(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var a=new B(this._wrapX?T(n.x,this._wrapX):n.x,this._wrapY?T(n.y,this._wrapY):n.y);return a.z=n.z,a},_pxBoundsToTileRange:function(n){var a=this.getTileSize();return new N(n.min.unscaleBy(a).floor(),n.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function io(n){return new $i(n)}var $n=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,a){this._url=n,a=V(this,a),a.detectRetina&&vt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,a){return this._url===n&&a===void 0&&(a=!0),this._url=n,a||this.redraw(),this},createTile:function(n,a){var l=document.createElement("img");return wt(l,"load",g(this._tileOnLoad,this,a,l)),wt(l,"error",g(this._tileOnError,this,a,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(n),l},getTileUrl:function(n){var a={r:vt.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-n.y;this.options.tms&&(a.y=l),a["-y"]=l}return et(this._url,r(a,this.options))},_tileOnLoad:function(n,a){vt.ielt9?setTimeout(g(n,this,null,a),0):n(null,a)},_tileOnError:function(n,a,l){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),n(l,a)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,a=this.options.maxZoom,l=this.options.zoomReverse,f=this.options.zoomOffset;return l&&(n=a-n),n+f},_getSubdomain:function(n){var a=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var n,a;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(a=this._tiles[n].el,a.onload=M,a.onerror=M,!a.complete)){a.src=mt;var l=this._tiles[n].coords;Wt(a),delete this._tiles[n],this.fire("tileabort",{tile:a,coords:l})}},_removeTile:function(n){var a=this._tiles[n];if(a)return a.el.setAttribute("src",mt),$i.prototype._removeTile.call(this,n)},_tileReady:function(n,a,l){if(!(!this._map||l&&l.getAttribute("src")===mt))return $i.prototype._tileReady.call(this,n,a,l)}});function Je(n,a){return new $n(n,a)}var Ka=$n.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,a){this._url=n;var l=r({},this.defaultWmsParams);for(var f in a)f in this.options||(l[f]=a[f]);a=V(this,a);var v=a.detectRetina&&vt.retina?2:1,S=this.getTileSize();l.width=S.x*v,l.height=S.y*v,this.wmsParams=l},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,$n.prototype.onAdd.call(this,n)},getTileUrl:function(n){var a=this._tileCoordsToNwSe(n),l=this._crs,f=q(l.project(a[0]),l.project(a[1])),v=f.min,S=f.max,j=(this._wmsVersion>=1.3&&this._crs===zr?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),O=$n.prototype.getTileUrl.call(this,n);return O+R(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(n,a){return r(this.wmsParams,n),a||this.redraw(),this}});function We(n,a){return new Ka(n,a)}$n.WMS=Ka,Je.wms=We;var Ue=un.extend({options:{padding:.1},initialize:function(n){V(this,n),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,a){var l=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,a),S=f.multiplyBy(-l).add(v).subtract(this._map._getNewPixelOrigin(n,a));vt.any3d?zn(this._container,S,l):ne(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,a=this._map.getSize(),l=this._map.containerPointToLayerPoint(a.multiplyBy(-n)).round();this._bounds=new N(l,l.add(a.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zs=Ue.extend({options:{tolerance:0},getEvents:function(){var n=Ue.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ue.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");wt(n,"mousemove",this._onMouseMove,this),wt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),wt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){lt(this._redrawRequest),delete this._ctx,Wt(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var a in this._layers)n=this._layers[a],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ue.prototype._update.call(this);var n=this._bounds,a=this._container,l=n.getSize(),f=vt.retina?2:1;ne(a,n.min),a.width=f*l.x,a.height=f*l.y,a.style.width=l.x+"px",a.style.height=l.y+"px",vt.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Ue.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[b(n)]=n;var a=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var a=n._order,l=a.next,f=a.prev;l?l.prev=f:this._drawLast=f,f?f.next=l:this._drawFirst=l,delete n._order,delete this._layers[b(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var a=n.options.dashArray.split(/[, ]+/),l=[],f,v;for(v=0;v<a.length;v++){if(f=Number(a[v]),isNaN(f))return;l.push(f)}n.options._dashArray=l}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||gt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var a=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(n._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(n._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var a=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,a=this._redrawBounds;if(this._ctx.save(),a){var l=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)n=f.layer,(!a||n._pxBounds&&n._pxBounds.intersects(a))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,a){if(this._drawing){var l,f,v,S,j=n._parts,O=j.length,Z=this._ctx;if(O){for(Z.beginPath(),l=0;l<O;l++){for(f=0,v=j[l].length;f<v;f++)S=j[l][f],Z[f?"lineTo":"moveTo"](S.x,S.y);a&&Z.closePath()}this._fillStroke(Z,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var a=n._point,l=this._ctx,f=Math.max(Math.round(n._radius),1),v=(Math.max(Math.round(n._radiusY),1)||f)/f;v!==1&&(l.save(),l.scale(1,v)),l.beginPath(),l.arc(a.x,a.y/v,f,0,Math.PI*2,!1),v!==1&&l.restore(),this._fillStroke(l,n)}},_fillStroke:function(n,a){var l=a.options;l.fill&&(n.globalAlpha=l.fillOpacity,n.fillStyle=l.fillColor||l.color,n.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(n.setLineDash&&n.setLineDash(a.options&&a.options._dashArray||[]),n.globalAlpha=l.opacity,n.lineWidth=l.weight,n.strokeStyle=l.color,n.lineCap=l.lineCap,n.lineJoin=l.lineJoin,n.stroke())},_onClick:function(n){for(var a=this._map.mouseEventToLayerPoint(n),l,f,v=this._drawFirst;v;v=v.next)l=v.layer,l.options.interactive&&l._containsPoint(a)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(l))&&(f=l);this._fireEvent(f?[f]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,a)}},_handleMouseOut:function(n){var a=this._hoveredLayer;a&&(le(this._container,"leaflet-interactive"),this._fireEvent([a],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,a){if(!this._mouseHoverThrottled){for(var l,f,v=this._drawFirst;v;v=v.next)l=v.layer,l.options.interactive&&l._containsPoint(a)&&(f=l);f!==this._hoveredLayer&&(this._handleMouseOut(n),f&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([f],n,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,a,l){this._map._fireDOMEvent(a,l||a.type,n)},_bringToFront:function(n){var a=n._order;if(a){var l=a.next,f=a.prev;if(l)l.prev=f;else return;f?f.next=l:l&&(this._drawFirst=l),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(n)}},_bringToBack:function(n){var a=n._order;if(a){var l=a.next,f=a.prev;if(f)f.next=l;else return;l?l.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(n)}}});function Fa(n){return vt.canvas?new zs(n):null}var ti=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ar={_initContainer:function(){this._container=zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ue.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var a=n._container=ti("shape");Tt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",n._path=ti("path"),a.appendChild(n._path),this._updateStyle(n),this._layers[b(n)]=n},_addPath:function(n){var a=n._container;this._container.appendChild(a),n.options.interactive&&n.addInteractiveTarget(a)},_removePath:function(n){var a=n._container;Wt(a),n.removeInteractiveTarget(a),delete this._layers[b(n)]},_updateStyle:function(n){var a=n._stroke,l=n._fill,f=n.options,v=n._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(a||(a=n._stroke=ti("stroke")),v.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=nt(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(v.removeChild(a),n._stroke=null),f.fill?(l||(l=n._fill=ti("fill")),v.appendChild(l),l.color=f.fillColor||f.color,l.opacity=f.fillOpacity):l&&(v.removeChild(l),n._fill=null)},_updateCircle:function(n){var a=n._point.round(),l=Math.round(n._radius),f=Math.round(n._radiusY||l);this._setPath(n,n._empty()?"M0 0":"AL "+a.x+","+a.y+" "+l+","+f+" 0,"+65535*360)},_setPath:function(n,a){n._path.v=a},_bringToFront:function(n){Se(n._container)},_bringToBack:function(n){mi(n._container)}},Sn=vt.vml?ti:fs,ta=Ue.extend({_initContainer:function(){this._container=Sn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ue.prototype._update.call(this);var n=this._bounds,a=n.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,l.setAttribute("width",a.x),l.setAttribute("height",a.y)),ne(l,n.min),l.setAttribute("viewBox",[n.min.x,n.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(n){var a=n._path=Sn("path");n.options.className&&Tt(a,n.options.className),n.options.interactive&&Tt(a,"leaflet-interactive"),this._updateStyle(n),this._layers[b(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Wt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[b(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var a=n._path,l=n.options;a&&(l.stroke?(a.setAttribute("stroke",l.color),a.setAttribute("stroke-opacity",l.opacity),a.setAttribute("stroke-width",l.weight),a.setAttribute("stroke-linecap",l.lineCap),a.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?a.setAttribute("stroke-dasharray",l.dashArray):a.removeAttribute("stroke-dasharray"),l.dashOffset?a.setAttribute("stroke-dashoffset",l.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),l.fill?(a.setAttribute("fill",l.fillColor||l.color),a.setAttribute("fill-opacity",l.fillOpacity),a.setAttribute("fill-rule",l.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(n,a){this._setPath(n,ms(n._parts,a))},_updateCircle:function(n){var a=n._point,l=Math.max(Math.round(n._radius),1),f=Math.max(Math.round(n._radiusY),1)||l,v="a"+l+","+f+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(a.x-l)+","+a.y+v+l*2+",0 "+v+-l*2+",0 ";this._setPath(n,S)},_setPath:function(n,a){n._path.setAttribute("d",a)},_bringToFront:function(n){Se(n._path)},_bringToBack:function(n){mi(n._path)}});vt.vml&&ta.include(Ar);function Ja(n){return vt.svg||vt.vml?new ta(n):null}Bt.include({getRenderer:function(n){var a=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var a=this._paneRenderers[n];return a===void 0&&(a=this._createRenderer({pane:n}),this._paneRenderers[n]=a),a},_createRenderer:function(n){return this.options.preferCanvas&&Fa(n)||Ja(n)}});var vi=Ki.extend({initialize:function(n,a){Ki.prototype.initialize.call(this,this._boundsToLatLngs(n),a)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=it(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Ru(n,a){return new vi(n,a)}ta.create=Sn,ta.pointsToPath=ms,Bn.geometryToLayer=Ne,Bn.coordsToLatLng=Ns,Bn.coordsToLatLngs=Va,Bn.latLngToCoords=Cs,Bn.latLngsToCoords=Ya,Bn.getFeature=Fn,Bn.asFeature=js,Bt.mergeOptions({boxZoom:!0});var Pe=xn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Hi(),ys(),this._startPoint=this._map.mouseEventToContainerPoint(n),wt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=zt("div","leaflet-zoom-box",this._container),Tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var a=new N(this._point,this._startPoint),l=a.getSize();ne(this._box,a.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Wt(this._box),le(this._container,"leaflet-crosshair")),vn(),za(),Kt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var a=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Pe),Bt.mergeOptions({doubleClickZoom:!0});var As=xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var a=this._map,l=a.getZoom(),f=a.options.zoomDelta,v=n.originalEvent.shiftKey?l-f:l+f;a.options.doubleClickZoom==="center"?a.setZoom(v):a.setZoomAround(n.containerPoint,v)}});Bt.addInitHook("addHandler","doubleClickZoom",As),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var En=xn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Kn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=it(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(a),this._prunePositions(a)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,a){return n-(n-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;n.x<a.min.x&&(n.x=this._viscousLimit(n.x,a.min.x)),n.y<a.min.y&&(n.y=this._viscousLimit(n.y,a.min.y)),n.x>a.max.x&&(n.x=this._viscousLimit(n.x,a.max.x)),n.y>a.max.y&&(n.y=this._viscousLimit(n.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,a=Math.round(n/2),l=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-a+l)%n+a-l,S=(f+a+l)%n-a-l,j=Math.abs(v+l)<Math.abs(S+l)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(n){var a=this._map,l=a.options,f=!l.inertia||n.noInertia||this._times.length<2;if(a.fire("dragend",n),f)a.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,j=l.easeLinearity,O=v.multiplyBy(j/S),Z=O.distanceTo([0,0]),J=Math.min(l.inertiaMaxSpeed,Z),ot=O.multiplyBy(J/Z),xt=J/(l.inertiaDeceleration*j),jt=ot.multiplyBy(-xt/2).round();!jt.x&&!jt.y?a.fire("moveend"):(jt=a._limitOffset(jt,a.options.maxBounds),gt(function(){a.panBy(jt,{duration:xt,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",En),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Or=xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),wt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,a=document.documentElement,l=n.scrollTop||a.scrollTop,f=n.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var a=this._panKeys={},l=this.keyCodes,f,v;for(f=0,v=l.left.length;f<v;f++)a[l.left[f]]=[-1*n,0];for(f=0,v=l.right.length;f<v;f++)a[l.right[f]]=[n,0];for(f=0,v=l.down.length;f<v;f++)a[l.down[f]]=[0,n];for(f=0,v=l.up.length;f<v;f++)a[l.up[f]]=[0,-1*n]},_setZoomDelta:function(n){var a=this._zoomKeys={},l=this.keyCodes,f,v;for(f=0,v=l.zoomIn.length;f<v;f++)a[l.zoomIn[f]]=n;for(f=0,v=l.zoomOut.length;f<v;f++)a[l.zoomOut[f]]=-n},_addHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var a=n.keyCode,l=this._map,f;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(f=this._panKeys[a],n.shiftKey&&(f=$(f).multiplyBy(3)),l.options.maxBounds&&(f=l._limitOffset($(f),l.options.maxBounds)),l.options.worldCopyJump){var v=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(f)));l.panTo(v)}else l.panBy(f)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Qn(n)}}});Bt.addInitHook("addHandler","keyboard",Or),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wa=xn.extend({addHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var a=Ae(n),l=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var f=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),f),Qn(n)},_performZoom:function(){var n=this._map,a=n.getZoom(),l=this._map.options.zoomSnap||0;n._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,S=l?Math.ceil(v/l)*l:v,j=n._limitZoom(a+(this._delta>0?S:-S))-a;this._delta=0,this._startTime=null,j&&(n.options.scrollWheelZoom==="center"?n.setZoom(a+j):n.setZoomAround(this._lastMousePos,a+j))}});Bt.addInitHook("addHandler","scrollWheelZoom",Wa);var yi=600;Bt.mergeOptions({tapHold:vt.touchNative&&vt.safari&&vt.mobile,tapTolerance:15});var Os=xn.extend({addHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var a=n.touches[0];this._startPos=this._newPos=new B(a.clientX,a.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(wt(document,"touchend",de),wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),yi),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Kt(document,"touchend",de),Kt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(n){var a=n.touches[0];this._newPos=new B(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,a){var l=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});l._simulated=!0,a.target.dispatchEvent(l)}});Bt.addInitHook("addHandler","tapHold",Os),Bt.mergeOptions({touchZoom:vt.touch,bounceAtZoomLimits:!0});var Rr=xn.extend({addHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var a=this._map;if(!(!n.touches||n.touches.length!==2||a._animatingZoom||this._zooming)){var l=a.mouseEventToContainerPoint(n.touches[0]),f=a.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(l.add(f)._divideBy(2))),this._startDist=l.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),de(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var a=this._map,l=a.mouseEventToContainerPoint(n.touches[0]),f=a.mouseEventToContainerPoint(n.touches[1]),v=l.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(v,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&v<1||this._zoom>a.getMaxZoom()&&v>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=l._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),lt(this._animRequest);var j=g(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=gt(j,this,!0),de(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,lt(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Rr),Bt.BoxZoom=Pe,Bt.DoubleClickZoom=As,Bt.Drag=En,Bt.Keyboard=Or,Bt.ScrollWheelZoom=Wa,Bt.TapHold=Os,Bt.TouchZoom=Rr,m.Bounds=N,m.Browser=vt,m.CRS=St,m.Canvas=zs,m.Circle=Ms,m.CircleMarker=Qi,m.Class=ft,m.Control=Ve,m.DivIcon=no,m.DivOverlay=Ce,m.DomEvent=Ls,m.DomUtil=qi,m.Draggable=Kn,m.Evented=X,m.FeatureGroup=bn,m.GeoJSON=Bn,m.GridLayer=$i,m.Handler=xn,m.Icon=Ln,m.ImageOverlay=Ji,m.LatLng=st,m.LatLngBounds=tt,m.Layer=un,m.LayerGroup=Ii,m.LineUtil=ju,m.Map=Bt,m.Marker=qa,m.Mixin=Tu,m.Path=wn,m.Point=B,m.PolyUtil=kr,m.Polygon=Ki,m.Polyline=Rn,m.Popup=Ia,m.PosAnimation=Vi,m.Projection=Il,m.Rectangle=vi,m.Renderer=Ue,m.SVG=ta,m.SVGOverlay=Ds,m.TileLayer=$n,m.Tooltip=Qa,m.Transformation=De,m.Util=he,m.VideoOverlay=Wn,m.bind=g,m.bounds=q,m.canvas=Fa,m.circle=Wl,m.circleMarker=Jl,m.control=On,m.divIcon=Ou,m.extend=r,m.featureGroup=Kl,m.geoJSON=ks,m.geoJson=Xa,m.gridLayer=io,m.icon=Ha,m.imageOverlay=$l,m.latLng=ct,m.latLngBounds=it,m.layerGroup=ku,m.map=Er,m.marker=Fl,m.point=$,m.polygon=zu,m.polyline=Du,m.popup=eo,m.rectangle=Ru,m.setOptions=V,m.stamp=b,m.svg=Ja,m.svgOverlay=to,m.tileLayer=Je,m.tooltip=Au,m.transformation=Ze,m.version=p,m.videoOverlay=Wi;var Br=window.L;m.noConflict=function(){return window.L=Br,this},window.L=m}))})(yl,yl.exports)),yl.exports}var li=Ny();const xl=lu(li);function xa(o,_,m){return Object.freeze({instance:o,context:_,container:m})}function fu(o,_){return _==null?function(p,r){const d=k.useRef(void 0);return d.current||(d.current=o(p,r)),d}:function(p,r){const d=k.useRef(void 0);d.current||(d.current=o(p,r));const g=k.useRef(p),{instance:x}=d.current;return k.useEffect(function(){g.current!==p&&(_(x,p,g.current),g.current=p)},[x,p,_]),d}}function Gp(o,_){k.useEffect(function(){return(_.layerContainer??_.map).addLayer(o.instance),function(){_.layerContainer?.removeLayer(o.instance),_.map.removeLayer(o.instance)}},[_,o])}function qp(o){return function(m){const p=hu(),r=o(du(m,p),p);return Pp(p.map,m.attribution),qh(r.current,m.eventHandlers),Gp(r.current,p),r}}function Cy(o,_){const m=k.useRef(void 0);k.useEffect(function(){if(_.pathOptions!==m.current){const r=_.pathOptions??{};o.instance.setStyle(r),m.current=r}},[o,_])}function jy(o){return function(m){const p=hu(),r=o(du(m,p),p);return qh(r.current,m.eventHandlers),Gp(r.current,p),Cy(r.current,m),r}}function ky(o,_){const m=fu(o,_),p=qp(m);return Zp(p)}function Vp(o,_){const m=fu(o),p=Ty(m,_);return Sy(p)}function mu(o,_){const m=fu(o,_),p=jy(m);return Zp(p)}function Dy(o,_){const m=fu(o,_),p=qp(m);return Ey(p)}function zy(o,_,m){const{opacity:p,zIndex:r}=_;p!=null&&p!==m.opacity&&o.setOpacity(p),r!=null&&r!==m.zIndex&&o.setZIndex(r)}function Vh(){return hu().map}const Ay=mu(function({center:_,children:m,...p},r){const d=new li.Circle(_,p);return xa(d,El(r,{overlayContainer:d}))},Hp),hp=mu(function({center:_,children:m,...p},r){const d=new li.CircleMarker(_,p);return xa(d,El(r,{overlayContainer:d}))},Hp);function Oy({bounds:o,boundsOptions:_,center:m,children:p,className:r,id:d,placeholder:g,style:x,whenReady:b,zoom:w,...T},M){const[H]=k.useState({className:r,id:d,style:x}),[I,K]=k.useState(null),V=k.useRef(void 0);k.useImperativeHandle(M,()=>I?.map??null,[I]);const R=k.useCallback(et=>{if(et!==null&&!V.current){const nt=new li.Map(et,T);V.current=nt,m!=null&&w!=null?nt.setView(m,w):o!=null&&nt.fitBounds(o,_),b!=null&&nt.whenReady(b),K(wy(nt))}},[]);k.useEffect(()=>()=>{I?.map.remove()},[I]);const at=I?cs.createElement(Gh,{value:I},p):g??null;return cs.createElement("div",{...H,ref:R},at)}const Yh=k.forwardRef(Oy),Ry=ky(function({position:_,...m},p){const r=new li.Marker(_,m);return xa(r,El(p,{overlayContainer:r}))},function(_,m,p){m.position!==p.position&&_.setLatLng(m.position),m.icon!=null&&m.icon!==p.icon&&_.setIcon(m.icon),m.zIndexOffset!=null&&m.zIndexOffset!==p.zIndexOffset&&_.setZIndexOffset(m.zIndexOffset),m.opacity!=null&&m.opacity!==p.opacity&&_.setOpacity(m.opacity),_.dragging!=null&&m.draggable!==p.draggable&&(m.draggable===!0?_.dragging.enable():_.dragging.disable())}),By=mu(function({positions:_,...m},p){const r=new li.Polygon(_,m);return xa(r,El(p,{overlayContainer:r}))},function(_,m,p){m.positions!==p.positions&&_.setLatLngs(m.positions)}),Uy=mu(function({positions:_,...m},p){const r=new li.Polyline(_,m);return xa(r,El(p,{overlayContainer:r}))},function(_,m,p){m.positions!==p.positions&&_.setLatLngs(m.positions)}),jh=Vp(function(_,m){const p=new li.Popup(_,m.overlayContainer);return xa(p,m)},function(_,m,{position:p},r){k.useEffect(function(){const{instance:g}=_;function x(w){w.popup===g&&(g.update(),r(!0))}function b(w){w.popup===g&&r(!1)}return m.map.on({popupopen:x,popupclose:b}),m.overlayContainer==null?(p!=null&&g.setLatLng(p),g.openOn(m.map)):m.overlayContainer.bindPopup(g),function(){m.map.off({popupopen:x,popupclose:b}),m.overlayContainer?.unbindPopup(),m.map.removeLayer(g)}},[_,m,r,p])}),Py=Dy(function({url:_,...m},p){const r=new li.TileLayer(_,du(m,p));return xa(r,p)},function(_,m,p){zy(_,m,p);const{url:r}=m;r!=null&&r!==p.url&&_.setUrl(r)}),Hy=Vp(function(_,m){const p=new li.Tooltip(_,m.overlayContainer);return xa(p,m)},function(_,m,{position:p},r){k.useEffect(function(){const g=m.overlayContainer;if(g==null)return;const{instance:x}=_,b=T=>{T.tooltip===x&&(p!=null&&x.setLatLng(p),x.update(),r(!0))},w=T=>{T.tooltip===x&&r(!1)};return g.on({tooltipopen:b,tooltipclose:w}),g.bindTooltip(x),function(){g.off({tooltipopen:b,tooltipclose:w}),g._map!=null&&g.unbindTooltip()}},[_,m,r,p])});function Zy(o,_){const m=_?"#3b82f6":"#10b981",p=_?32:24,r=`
    <svg xmlns="http://www.w3.org/2000/svg" width="${p}" height="${p}" viewBox="0 0 24 24" fill="${m}" style="transform: rotate(${o}deg)">
      <path d="M12 2L4 20h16L12 2zm0 4l5 11H7l5-11z"/>
    </svg>
  `;return xl.divIcon({className:"drone-marker",html:r,iconSize:[p,p],iconAnchor:[p/2,p/2]})}function Gy({drone:o,isSelected:_=!1,onClick:m}){const p=[o.location.lat,o.location.lon],r=Zy(o.attitude.yaw,_),d=x=>`${x.toFixed(1)}m`,g=(x,b)=>`${Math.sqrt(x*x+b*b).toFixed(1)}m/s`;return c.jsxs(Ry,{position:p,icon:r,eventHandlers:{click:()=>m?.(o.device_id)},children:[c.jsx(Hy,{direction:"top",offset:[0,-12],permanent:_,children:c.jsx("span",{className:"font-medium",children:o.device_id})}),c.jsx(jh,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("h3",{className:"font-bold text-base mb-2",children:o.device_id}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Protocol:"})," ",o.protocol_source]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Position:"})," ",o.location.lat.toFixed(6),", ",o.location.lon.toFixed(6)]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Altitude:"})," ",d(o.location.alt_gnss)]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Speed:"})," ",g(o.velocity.vx,o.velocity.vy)]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Battery:"})," ",o.status.battery_percent,"%"]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"Mode:"})," ",o.status.flight_mode]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-gray-500",children:"GPS:"})," ",o.status.satellites_visible," sats"]})]})]})})]})}const Ll={openstreetmap:{name:"OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19},amap:{name:"",url:"https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",attribution:'&copy; <a href="https://www.amap.com/"></a>',subdomains:"1234",maxZoom:18},amapSatellite:{name:"",url:"https://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",attribution:'&copy; <a href="https://www.amap.com/"></a>',subdomains:"1234",maxZoom:18},google:{name:"Google Maps",url:"https://mt{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:'&copy; <a href="https://www.google.com/maps">Google Maps</a>',subdomains:"0123",maxZoom:20},googleSatellite:{name:"Google Satellite",url:"https://mt{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:'&copy; <a href="https://www.google.com/maps">Google Maps</a>',subdomains:"0123",maxZoom:20},googleHybrid:{name:"Google Hybrid",url:"https://mt{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",attribution:'&copy; <a href="https://www.google.com/maps">Google Maps</a>',subdomains:"0123",maxZoom:20},cartoLight:{name:"CartoDB Light",url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>',maxZoom:20},cartoDark:{name:"CartoDB Dark",url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>',maxZoom:20}},kh="openstreetmap";function qy(o){return Ll[o]||Ll[kh]}function Vy(){return Object.keys(Ll)}const Yp="outb-map-tile-provider";function Yy(){return typeof window<"u"&&localStorage.getItem(Yp)||kh}function Xy(o){typeof window<"u"&&localStorage.setItem(Yp,o)}function Iy({currentProvider:o,onChange:_}){const[m,p]=k.useState(!1),r=k.useRef(null),d=Vy();k.useEffect(()=>{function x(b){r.current&&!r.current.contains(b.target)&&p(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const g=Ll[o]?.name||"Map";return c.jsxs("div",{ref:r,className:"leaflet-control leaflet-bar",style:{position:"absolute",top:"10px",right:"10px",zIndex:1e3},children:[c.jsxs("button",{onClick:()=>p(!m),className:"bg-white dark:bg-gray-800 px-3 py-2 rounded shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-200",title:"Change map layer",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),c.jsx("span",{className:"hidden sm:inline",children:g}),c.jsx("svg",{className:`w-4 h-4 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&c.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 py-1 max-h-64 overflow-y-auto",children:d.map(x=>{const b=Ll[x],w=x===o;return c.jsxs("button",{onClick:()=>{_(x),p(!1)},className:`w-full text-left px-4 py-2 text-sm transition-colors ${w?"bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[b.name,w&&c.jsx("svg",{className:"w-4 h-4 inline-block ml-2",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},x)})})]})}function Xh({defaultProvider:o,onProviderChange:_}){const[m,p]=k.useState(o||Yy()),r=Vh(),d=x=>{p(x),Xy(x),_?.(x)};k.useEffect(()=>{const x=document.querySelector(".leaflet-control-container");x&&(x.addEventListener("mousedown",b=>b.stopPropagation()),x.addEventListener("dblclick",b=>b.stopPropagation()))},[r]);const g=qy(m);return c.jsxs(c.Fragment,{children:[c.jsx(Py,{attribution:g.attribution,url:g.url,subdomains:g.subdomains,maxZoom:g.maxZoom},m),c.jsx(Iy,{currentProvider:m,onChange:d})]})}function Qy({selectedDrone:o,followSelected:_}){const m=Vh();return k.useEffect(()=>{if(_&&o){const p=[o.location.lat,o.location.lon];m.setView(p,m.getZoom(),{animate:!0})}},[m,o,_]),null}function Ky({drones:o,selectedDroneId:_,onDroneClick:m,center:p=[39.9042,116.4074],zoom:r=10,followSelected:d=!1}){const g=ke(V=>Array.from(V.drones.values())),x=ke(V=>V.selectedDroneId),b=ke(V=>V.selectDrone),w=o??g,T=_??x,[M,H]=k.useState(p);k.useEffect(()=>{if(w.length>0&&M===p){const V=w[0];H([V.location.lat,V.location.lon])}},[w,M,p]);const I=V=>{m?m(V):b(V===T?null:V)},K=T?w.find(V=>V.device_id===T)??null:null;return c.jsxs(Yh,{center:M,zoom:r,className:"w-full h-full rounded-lg",style:{minHeight:"400px"},children:[c.jsx(Xh,{}),c.jsx(Qy,{selectedDrone:K,followSelected:d}),w.map(V=>c.jsx(Gy,{drone:V,isSelected:V.device_id===T,onClick:I},V.device_id))]})}function Xp({drone:o,onClose:_}){const m=d=>Oi(d).format("YYYY-MM-DD HH:mm:ss"),p=Math.sqrt(o.velocity.vx**2+o.velocity.vy**2+o.velocity.vz**2),r=Math.atan2(o.velocity.vy,o.velocity.vx)*(180/Math.PI);return c.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:o.device_id}),_&&c.jsx("button",{onClick:_,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.status.armed?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:o.status.armed?"Armed":"Disarmed"}),c.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-500/20 text-blue-400",children:o.status.flight_mode}),c.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-600 text-gray-300",children:o.protocol_source})]}),c.jsxs("section",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Location"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Latitude"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.location.lat.toFixed(6)})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Longitude"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.location.lon.toFixed(6)})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Altitude (GNSS)"}),c.jsxs("p",{className:"text-lg font-mono text-white",children:[o.location.alt_gnss.toFixed(1)," m"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Altitude (Baro)"}),c.jsxs("p",{className:"text-lg font-mono text-white",children:[o.location.alt_baro.toFixed(1)," m"]})]})]}),o.location.gcj02&&c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["GCJ02: ",o.location.gcj02.lat.toFixed(6),", ",o.location.gcj02.lon.toFixed(6)]})]}),c.jsxs("section",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Attitude"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Roll"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.attitude.roll.toFixed(1)})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Pitch"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.attitude.pitch.toFixed(1)})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Yaw"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.attitude.yaw.toFixed(1)})]})]})]}),c.jsxs("section",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Velocity"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Ground Speed"}),c.jsxs("p",{className:"text-lg font-mono text-white",children:[p.toFixed(2)," m/s"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Vertical Speed"}),c.jsxs("p",{className:"text-lg font-mono text-white",children:[o.velocity.vz.toFixed(2)," m/s"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Direction"}),c.jsx("p",{className:"text-lg font-mono text-white",children:r.toFixed(1)})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Vx / Vy / Vz"}),c.jsxs("p",{className:"text-sm font-mono text-white",children:[o.velocity.vx.toFixed(1)," / ",o.velocity.vy.toFixed(1)," / ",o.velocity.vz.toFixed(1)]})]})]})]}),c.jsxs("section",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"System Status"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Battery"}),c.jsxs("p",{className:`text-lg font-mono ${o.status.battery_percent>50?"text-green-400":o.status.battery_percent>20?"text-yellow-400":"text-red-400"}`,children:[o.status.battery_percent,"%"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Voltage"}),c.jsxs("p",{className:"text-lg font-mono text-white",children:[o.status.battery_voltage.toFixed(1)," V"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"GPS Fix"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.status.gps_fix_type})]}),c.jsxs("div",{className:"bg-gray-900 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Satellites"}),c.jsx("p",{className:"text-lg font-mono text-white",children:o.status.satellites_visible})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-gray-700",children:c.jsxs("p",{className:"text-xs text-gray-500",children:["Last Update: ",m(o.timestamp)]})})]})}function Fy(){const o=ke(g=>Array.from(g.drones.values())),_=ke(g=>g.selectedDroneId),m=ke(g=>g.selectDrone),[p,r]=k.useState(!1),d=_?o.find(g=>g.device_id===_):null;return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Live Map"}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:g=>r(g.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500"}),c.jsx("span",{children:"Follow selected"})]}),c.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," drone",o.length!==1?"s":""," on map"]})]})]}),c.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[c.jsx("div",{className:`${d?"flex-1":"w-full"} min-h-[500px]`,children:c.jsx(Ky,{drones:o,selectedDroneId:_,onDroneClick:g=>m(g===_?null:g),followSelected:p})}),d&&c.jsx("div",{className:"w-96 overflow-auto",children:c.jsx(Xp,{drone:d,onClose:()=>m(null)})})]})]})}function Jy(){const o=lr(),_=ke(R=>Array.from(R.drones.values())),m=ke(R=>R.selectedDroneId),p=ke(R=>R.selectDrone),[r,d]=k.useState(""),[g,x]=k.useState("device_id"),[b,w]=k.useState("asc"),[T,M]=k.useState("grid"),H=m?_.find(R=>R.device_id===m):null,I=k.useMemo(()=>{let R=_.filter(at=>at.device_id.toLowerCase().includes(r.toLowerCase())||at.protocol_source.toLowerCase().includes(r.toLowerCase()));return R.sort((at,et)=>{let nt=0;switch(g){case"device_id":nt=at.device_id.localeCompare(et.device_id);break;case"protocol":nt=at.protocol_source.localeCompare(et.protocol_source);break;case"battery":nt=at.status.battery_percent-et.status.battery_percent;break;case"altitude":nt=at.location.alt_gnss-et.location.alt_gnss;break;case"timestamp":nt=at.timestamp-et.timestamp;break}return b==="asc"?nt:-nt}),R},[_,r,g,b]),K=R=>{g===R?w(b==="asc"?"desc":"asc"):(x(R),w("asc"))},V=({field:R})=>g!==R?null:b==="asc"?c.jsx("span",{className:"ml-1"}):c.jsx("span",{className:"ml-1"});return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Drones"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[I.length," of ",_.length," drones"]})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",placeholder:"Search by ID or protocol...",value:r,onChange:R=>d(R.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"})}),c.jsxs("select",{value:g,onChange:R=>x(R.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"device_id",children:"Sort by ID"}),c.jsx("option",{value:"protocol",children:"Sort by Protocol"}),c.jsx("option",{value:"battery",children:"Sort by Battery"}),c.jsx("option",{value:"altitude",children:"Sort by Altitude"}),c.jsx("option",{value:"timestamp",children:"Sort by Last Update"})]}),c.jsx("button",{onClick:()=>w(b==="asc"?"desc":"asc"),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white hover:bg-gray-700",children:b==="asc"?"Asc":"Desc"}),c.jsxs("div",{className:"flex border border-gray-700 rounded-lg overflow-hidden",children:[c.jsx("button",{onClick:()=>M("grid"),className:`px-3 py-2 ${T==="grid"?"bg-blue-600":"bg-gray-800 hover:bg-gray-700"}`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),c.jsx("button",{onClick:()=>M("table"),className:`px-3 py-2 ${T==="table"?"bg-blue-600":"bg-gray-800 hover:bg-gray-700"}`,children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]}),c.jsxs("div",{className:"flex-1 flex gap-4 min-h-0 overflow-hidden",children:[c.jsx("div",{className:`${H?"flex-1":"w-full"} overflow-auto`,children:I.length>0?T==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(R=>c.jsx(Up,{drone:R,isSelected:R.device_id===m,onClick:()=>p(R.device_id===m?null:R.device_id)},R.device_id))}):c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-gray-800 sticky top-0",children:c.jsxs("tr",{children:[c.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-gray-700",onClick:()=>K("device_id"),children:["Device ID ",c.jsx(V,{field:"device_id"})]}),c.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-gray-700",onClick:()=>K("protocol"),children:["Protocol ",c.jsx(V,{field:"protocol"})]}),c.jsx("th",{className:"px-4 py-3",children:"Position"}),c.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-gray-700",onClick:()=>K("altitude"),children:["Altitude ",c.jsx(V,{field:"altitude"})]}),c.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-gray-700",onClick:()=>K("battery"),children:["Battery ",c.jsx(V,{field:"battery"})]}),c.jsx("th",{className:"px-4 py-3",children:"Status"}),c.jsx("th",{className:"px-4 py-3",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-700",children:I.map(R=>c.jsxs("tr",{className:`hover:bg-gray-800 cursor-pointer ${R.device_id===m?"bg-blue-900/30":""}`,onClick:()=>p(R.device_id===m?null:R.device_id),children:[c.jsx("td",{className:"px-4 py-3 font-medium",children:R.device_id}),c.jsx("td",{className:"px-4 py-3 text-gray-400",children:R.protocol_source}),c.jsxs("td",{className:"px-4 py-3 text-gray-400 font-mono text-sm",children:[R.location.lat.toFixed(4),", ",R.location.lon.toFixed(4)]}),c.jsxs("td",{className:"px-4 py-3",children:[R.location.alt_gnss.toFixed(1),"m"]}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("span",{className:R.status.battery_percent>50?"text-green-400":R.status.battery_percent>20?"text-yellow-400":"text-red-400",children:[R.status.battery_percent,"%"]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${R.status.armed?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:R.status.armed?"Armed":"Disarmed"})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("button",{onClick:at=>{at.stopPropagation(),o(`/tracks?drone=${R.device_id}`)},className:"text-blue-400 hover:text-blue-300 text-sm",children:"View Track"})})]},R.device_id))})]}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx("p",{children:"No drones found"}),r&&c.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search term"})]})})}),H&&c.jsx("div",{className:"w-96 overflow-auto",children:c.jsx(Xp,{drone:H,onClose:()=>p(null)})})]})]})}function Wy({trackPoints:o,deviceId:_,center:m=[39.9042,116.4074],zoom:p=14}){const r=k.useMemo(()=>{if(o.length===0)return m;const w=o.reduce((M,H)=>M+H.lat,0),T=o.reduce((M,H)=>M+H.lon,0);return[w/o.length,T/o.length]},[o,m]),d=k.useMemo(()=>o.map(w=>[w.lat,w.lon]),[o]),g=o.length>0?o[0]:null,x=o.length>1?o[o.length-1]:null,b=w=>Oi(w).format("YYYY-MM-DD HH:mm:ss");return c.jsxs(Yh,{center:r,zoom:p,className:"w-full h-full rounded-lg",style:{minHeight:"400px"},children:[c.jsx(Xh,{}),d.length>1&&c.jsx(Uy,{positions:d,pathOptions:{color:"#3b82f6",weight:3,opacity:.8}}),g&&c.jsx(hp,{center:[g.lat,g.lon],radius:8,pathOptions:{fillColor:"#10b981",fillOpacity:1,color:"#fff",weight:2},children:c.jsx(jh,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-bold text-green-600",children:"Start Point"}),_&&c.jsxs("p",{children:["Device: ",_]}),c.jsxs("p",{children:["Time: ",b(g.timestamp)]}),c.jsxs("p",{children:["Position: ",g.lat.toFixed(6),", ",g.lon.toFixed(6)]}),c.jsxs("p",{children:["Altitude: ",g.alt.toFixed(1),"m"]})]})})}),x&&c.jsx(hp,{center:[x.lat,x.lon],radius:8,pathOptions:{fillColor:"#ef4444",fillOpacity:1,color:"#fff",weight:2},children:c.jsx(jh,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-bold text-red-600",children:"End Point"}),_&&c.jsxs("p",{children:["Device: ",_]}),c.jsxs("p",{children:["Time: ",b(x.timestamp)]}),c.jsxs("p",{children:["Position: ",x.lat.toFixed(6),", ",x.lon.toFixed(6)]}),c.jsxs("p",{children:["Altitude: ",x.alt.toFixed(1),"m"]})]})})})]})}function $y(){const[o,_]=Xv(),m=ke(rt=>Array.from(rt.drones.values())),[p,r]=k.useState(o.get("drone")||""),[d,g]=k.useState([]),[x,b]=k.useState(0),[w,T]=k.useState(!1),[M,H]=k.useState(null),[I,K]=k.useState(1e3),V=k.useCallback(async()=>{if(!p){g([]),b(0);return}T(!0),H(null);try{const rt=await Ht.getTrack(p,I);g(rt.points),b(rt.total_size)}catch(rt){H(rt instanceof Error?rt.message:"Failed to fetch track"),g([])}finally{T(!1)}},[p,I]);k.useEffect(()=>{V()},[V]);const R=rt=>{r(rt),_(rt?{drone:rt}:{})},at=async()=>{if(p&&window.confirm(`Are you sure you want to clear the track for ${p}?`))try{await Ht.clearTrack(p),g([]),b(0)}catch(rt){H(rt instanceof Error?rt.message:"Failed to clear track")}},et=()=>{if(d.length<2)return"-";const rt=d[0].timestamp,Et=d[d.length-1].timestamp-rt,Dt=Math.floor(Et/6e4),Ct=Math.floor(Et%6e4/1e3);return`${Dt}m ${Ct}s`},nt=()=>{if(d.length<2)return 0;let rt=0;for(let dt=1;dt<d.length;dt++){const Et=d[dt-1],Dt=d[dt];rt+=yt(Et.lat,Et.lon,Dt.lat,Dt.lon)}return rt},yt=(rt,dt,Et,Dt)=>{const gt=(Et-rt)*Math.PI/180,lt=(Dt-dt)*Math.PI/180,he=Math.sin(gt/2)*Math.sin(gt/2)+Math.cos(rt*Math.PI/180)*Math.cos(Et*Math.PI/180)*Math.sin(lt/2)*Math.sin(lt/2);return 6371e3*(2*Math.atan2(Math.sqrt(he),Math.sqrt(1-he)))},mt=nt();return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Track History"})}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("select",{value:p,onChange:rt=>R(rt.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:"",children:"Select a drone..."}),m.map(rt=>c.jsxs("option",{value:rt.device_id,children:[rt.device_id," (",rt.protocol_source,")"]},rt.device_id))]})}),c.jsx("div",{children:c.jsxs("select",{value:I,onChange:rt=>K(Number(rt.target.value)),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[c.jsx("option",{value:100,children:"Last 100 points"}),c.jsx("option",{value:500,children:"Last 500 points"}),c.jsx("option",{value:1e3,children:"Last 1000 points"}),c.jsx("option",{value:5e3,children:"Last 5000 points"}),c.jsx("option",{value:0,children:"All points"})]})}),c.jsx("button",{onClick:V,disabled:!p||w,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded-lg text-white",children:w?"Loading...":"Refresh"}),c.jsx("button",{onClick:at,disabled:!p||d.length===0,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded-lg text-white",children:"Clear Track"})]}),p&&d.length>0&&c.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Total Points"}),c.jsxs("p",{className:"text-xl font-bold text-white",children:[d.length," / ",x]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Duration"}),c.jsx("p",{className:"text-xl font-bold text-white",children:et()})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Distance"}),c.jsx("p",{className:"text-xl font-bold text-white",children:mt>1e3?`${(mt/1e3).toFixed(2)} km`:`${mt.toFixed(0)} m`})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Time Range"}),c.jsx("p",{className:"text-sm text-white",children:d.length>0&&c.jsxs(c.Fragment,{children:[Oi(d[0].timestamp).format("HH:mm:ss")," -"," ",Oi(d[d.length-1].timestamp).format("HH:mm:ss")]})})]})]}),M&&c.jsx("div",{className:"mb-4 p-4 bg-red-900/50 border border-red-700 rounded-lg text-red-400",children:M}),c.jsx("div",{className:"flex-1 min-h-[400px]",children:p?d.length>0?c.jsx(Wy,{trackPoints:d,deviceId:p}):c.jsx("div",{className:"h-full flex items-center justify-center bg-gray-800 rounded-lg border border-gray-700",children:c.jsx("div",{className:"text-center text-gray-500",children:w?c.jsx("p",{children:"Loading track data..."}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"No track data available"}),c.jsx("p",{className:"text-sm mt-2",children:"Track data will appear when the drone moves"})]})})}):c.jsx("div",{className:"h-full flex items-center justify-center bg-gray-800 rounded-lg border border-gray-700",children:c.jsx("div",{className:"text-center text-gray-500",children:c.jsx("p",{children:"Select a drone to view its track history"})})})})]})}Oi.extend(Bp);function t0(){const o=cu(),[_,m]=k.useState(null),[p,r]=k.useState(null);k.useEffect(()=>{const g=async()=>{const b=await Ht.checkHealth();m(b),r(new Date)};g();const x=setInterval(g,1e4);return()=>clearInterval(x)},[]);const d=g=>{const x=Math.floor(g/86400),b=Math.floor(g%86400/3600),w=Math.floor(g%3600/60),T=g%60,M=[];return x>0&&M.push(`${x}d`),b>0&&M.push(`${b}h`),w>0&&M.push(`${w}m`),M.push(`${T}s`),M.join(" ")};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"System Status"}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-4 h-4 rounded-full ${_===null?"bg-gray-500":_?"bg-green-500":"bg-red-500"}`}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Gateway Health"}),c.jsx("p",{className:"text-sm text-gray-400",children:_===null?"Checking...":_?"Healthy - All systems operational":"Unhealthy - Connection issues detected"})]})]}),p&&c.jsxs("p",{className:"text-sm text-gray-500",children:["Last checked: ",Oi(p).fromNow()]})]})}),o&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Version"}),c.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:o.version})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"}),c.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:d(o.uptime_seconds)})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Active Drones"}),c.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:o.stats.active_drones})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"WebSocket Clients"}),c.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:o.stats.websocket_clients})]})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Adapters (Data Sources)"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Adapters receive telemetry data from drones via various protocols."}),o.adapters.length>0?c.jsx("div",{className:"space-y-3",children:o.adapters.map(g=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-900 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${g.enabled?"bg-green-500":"bg-gray-500"}`}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-white",children:g.name}),c.jsx("p",{className:"text-sm text-gray-400",children:g.name.toLowerCase().includes("mavlink")?"MAVLink Protocol (UDP/TCP/Serial)":g.name.toLowerCase().includes("dji")?"DJI Mobile SDK Forwarder":"Custom Adapter"})]})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.enabled?"bg-green-500/20 text-green-400":"bg-gray-600 text-gray-400"}`,children:g.enabled?"Active":"Disabled"})]},g.name))}):c.jsx("p",{className:"text-gray-500",children:"No adapters configured"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Publishers (Data Outputs)"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Publishers send processed telemetry data to external systems."}),o.publishers.length>0?c.jsx("div",{className:"space-y-3",children:o.publishers.map(g=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-900 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-white",children:g}),c.jsx("p",{className:"text-sm text-gray-400",children:g.toLowerCase().includes("mqtt")?"MQTT Message Broker":g.toLowerCase().includes("gb28181")?"GB/T 28181 National Standard (SIP)":"Custom Publisher"})]})]}),c.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-green-500/20 text-green-400",children:"Active"})]},g))}):c.jsx("p",{className:"text-gray-500",children:"No publishers configured"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[c.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"API Endpoints"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-blue-400",children:"GET /health"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Health check"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-blue-400",children:"GET /api/v1/status"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Gateway status"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-blue-400",children:"GET /api/v1/drones"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"List all drones"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-blue-400",children:"GET /api/v1/drones/:id"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Get drone details"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-blue-400",children:"GET /api/v1/drones/:id/track"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Get drone track"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900 rounded",children:[c.jsx("code",{className:"text-green-400",children:"WS /api/v1/ws"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Real-time updates"})]})]})]})]}),!o&&c.jsx("div",{className:"bg-gray-800 rounded-lg p-8 border border-gray-700 text-center",children:c.jsx("p",{className:"text-gray-500",children:"Loading gateway status..."})})]})}const hs=or(o=>({config:null,isLoading:!1,error:null,hasChanges:!1,fetchConfig:async()=>{o({isLoading:!0,error:null});try{const _=await Ht.getConfig();o({config:_,isLoading:!1,hasChanges:!1})}catch(_){o({error:_ instanceof Error?_.message:"Failed to load config",isLoading:!1})}},setConfig:_=>{o({config:_,hasChanges:!0})},setHasChanges:_=>{o({hasChanges:_})},setError:_=>{o({error:_})},clear:()=>{o({config:null,isLoading:!1,error:null,hasChanges:!1})}})),e0=()=>hs(o=>o.config),n0=()=>hs(o=>o.isLoading),i0=()=>hs(o=>o.error);function a0(){const[o,_]=k.useState("adapters"),[m,p]=k.useState(null),r=hs(T=>T.fetchConfig),d=e0(),g=n0(),x=i0();k.useEffect(()=>{r()},[r]);const b=async()=>{try{const T=await Ht.exportConfig(),M=new Blob([T],{type:"application/x-yaml"}),H=URL.createObjectURL(M),I=document.createElement("a");I.href=H,I.download="config.yaml",I.click(),URL.revokeObjectURL(H),p({type:"success",text:"Configuration exported successfully"})}catch(T){p({type:"error",text:T instanceof Error?T.message:"Export failed"})}};if(g)return c.jsx("div",{className:"p-6 flex items-center justify-center",children:c.jsx("div",{className:"text-slate-400",children:"Loading configuration..."})});if(x)return c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 text-red-400",children:x})});if(!d)return c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"text-slate-400",children:"No configuration available"})});const w=[{id:"adapters",label:"Adapters"},{id:"publishers",label:"Publishers"},{id:"general",label:"General"}];return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),c.jsx("button",{onClick:b,className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors text-sm",children:"Export Config"})]}),m&&c.jsxs("div",{className:`mb-4 p-4 rounded-lg ${m.type==="success"?"bg-green-500/10 border border-green-500/50 text-green-400":"bg-red-500/10 border border-red-500/50 text-red-400"}`,children:[m.text,c.jsx("button",{onClick:()=>p(null),className:"ml-2 text-current opacity-70 hover:opacity-100",children:""})]}),c.jsx("div",{className:"border-b border-slate-700 mb-6",children:c.jsx("nav",{className:"flex space-x-4",children:w.map(T=>c.jsx("button",{onClick:()=>_(T.id),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 -mb-px ${o===T.id?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-white"}`,children:T.label},T.id))})}),c.jsxs("div",{className:"space-y-6",children:[o==="adapters"&&c.jsx(s0,{config:d,setMessage:p}),o==="publishers"&&c.jsx(r0,{config:d,setMessage:p}),o==="general"&&c.jsx(l0,{config:d,setMessage:p})]})]})}function s0({config:o,setMessage:_}){const m=hs(d=>d.fetchConfig),p=async d=>{d.preventDefault();const g=d.currentTarget,x=new FormData(g);try{await Ht.updateMAVLinkConfig({enabled:x.get("enabled")==="on",connection_type:x.get("connection_type"),address:x.get("address"),serial_port:x.get("serial_port"),serial_baud:parseInt(x.get("serial_baud"))||57600}),await m(),_({type:"success",text:"MAVLink configuration saved"})}catch(b){_({type:"error",text:b instanceof Error?b.message:"Save failed"})}},r=async d=>{d.preventDefault();const g=d.currentTarget,x=new FormData(g);try{await Ht.updateDJIConfig({enabled:x.get("enabled")==="on",listen_address:x.get("listen_address"),max_clients:parseInt(x.get("max_clients"))||10}),await m(),_({type:"success",text:"DJI configuration saved"})}catch(b){_({type:"error",text:b instanceof Error?b.message:"Save failed"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"MAVLink Adapter"}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"mavlink-enabled",name:"enabled",defaultChecked:o.mavlink.enabled,className:"mr-2"}),c.jsx("label",{htmlFor:"mavlink-enabled",className:"text-slate-300",children:"Enabled"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Connection Type"}),c.jsxs("select",{name:"connection_type",defaultValue:o.mavlink.connection_type,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white",children:[c.jsx("option",{value:"udp",children:"UDP"}),c.jsx("option",{value:"tcp",children:"TCP"}),c.jsx("option",{value:"serial",children:"Serial"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Address"}),c.jsx("input",{type:"text",name:"address",defaultValue:o.mavlink.address,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Serial Port"}),c.jsx("input",{type:"text",name:"serial_port",defaultValue:o.mavlink.serial_port,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Serial Baud Rate"}),c.jsx("input",{type:"number",name:"serial_baud",defaultValue:o.mavlink.serial_baud,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save MAVLink Settings"})]})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"DJI Adapter"}),c.jsxs("form",{onSubmit:r,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"dji-enabled",name:"enabled",defaultChecked:o.dji.enabled,className:"mr-2"}),c.jsx("label",{htmlFor:"dji-enabled",className:"text-slate-300",children:"Enabled"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Listen Address"}),c.jsx("input",{type:"text",name:"listen_address",defaultValue:o.dji.listen_address,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Max Clients"}),c.jsx("input",{type:"number",name:"max_clients",defaultValue:o.dji.max_clients,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save DJI Settings"})]})]})]})}function r0({config:o,setMessage:_}){const m=hs(d=>d.fetchConfig),p=async d=>{d.preventDefault();const g=d.currentTarget,x=new FormData(g),b={enabled:x.get("enabled")==="on",broker:x.get("broker"),client_id:x.get("client_id"),topic_prefix:x.get("topic_prefix"),qos:parseInt(x.get("qos")),username:x.get("username")},w=x.get("password");w&&(b.password=w);try{await Ht.updateMQTTConfig(b),await m(),_({type:"success",text:"MQTT configuration saved"})}catch(T){_({type:"error",text:T instanceof Error?T.message:"Save failed"})}},r=async d=>{d.preventDefault();const g=d.currentTarget,x=new FormData(g),b={enabled:x.get("enabled")==="on",device_id:x.get("device_id"),device_name:x.get("device_name"),local_ip:x.get("local_ip"),local_port:parseInt(x.get("local_port")),server_id:x.get("server_id"),server_ip:x.get("server_ip"),server_port:parseInt(x.get("server_port")),server_domain:x.get("server_domain"),username:x.get("username"),transport:x.get("transport"),register_expires:parseInt(x.get("register_expires")),heartbeat_interval:parseInt(x.get("heartbeat_interval")),position_interval:parseInt(x.get("position_interval"))},w=x.get("password");w&&(b.password=w);try{await Ht.updateGB28181Config(b),await m(),_({type:"success",text:"GB28181 configuration saved"})}catch(T){_({type:"error",text:T instanceof Error?T.message:"Save failed"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"MQTT Publisher"}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"mqtt-enabled",name:"enabled",defaultChecked:o.mqtt.enabled,className:"mr-2"}),c.jsx("label",{htmlFor:"mqtt-enabled",className:"text-slate-300",children:"Enabled"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Broker URL"}),c.jsx("input",{type:"text",name:"broker",defaultValue:o.mqtt.broker,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Client ID"}),c.jsx("input",{type:"text",name:"client_id",defaultValue:o.mqtt.client_id,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Topic Prefix"}),c.jsx("input",{type:"text",name:"topic_prefix",defaultValue:o.mqtt.topic_prefix,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"QoS"}),c.jsxs("select",{name:"qos",defaultValue:o.mqtt.qos,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white",children:[c.jsx("option",{value:"0",children:"0 - At most once"}),c.jsx("option",{value:"1",children:"1 - At least once"}),c.jsx("option",{value:"2",children:"2 - Exactly once"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Username"}),c.jsx("input",{type:"text",name:"username",defaultValue:o.mqtt.username,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Password ",o.mqtt.has_password&&c.jsx("span",{className:"text-green-400",children:"(set)"})]}),c.jsx("input",{type:"password",name:"password",placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save MQTT Settings"})]})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"GB/T 28181 Publisher"}),c.jsxs("form",{onSubmit:r,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"gb28181-enabled",name:"enabled",defaultChecked:o.gb28181.enabled,className:"mr-2"}),c.jsx("label",{htmlFor:"gb28181-enabled",className:"text-slate-300",children:"Enabled"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Device ID"}),c.jsx("input",{type:"text",name:"device_id",defaultValue:o.gb28181.device_id,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Device Name"}),c.jsx("input",{type:"text",name:"device_name",defaultValue:o.gb28181.device_name,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Local IP"}),c.jsx("input",{type:"text",name:"local_ip",defaultValue:o.gb28181.local_ip,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Local Port"}),c.jsx("input",{type:"number",name:"local_port",defaultValue:o.gb28181.local_port,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Server ID"}),c.jsx("input",{type:"text",name:"server_id",defaultValue:o.gb28181.server_id,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Server IP"}),c.jsx("input",{type:"text",name:"server_ip",defaultValue:o.gb28181.server_ip,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Server Port"}),c.jsx("input",{type:"number",name:"server_port",defaultValue:o.gb28181.server_port,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Server Domain"}),c.jsx("input",{type:"text",name:"server_domain",defaultValue:o.gb28181.server_domain,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Username"}),c.jsx("input",{type:"text",name:"username",defaultValue:o.gb28181.username,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Password ",o.gb28181.has_password&&c.jsx("span",{className:"text-green-400",children:"(set)"})]}),c.jsx("input",{type:"password",name:"password",placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Transport"}),c.jsxs("select",{name:"transport",defaultValue:o.gb28181.transport,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white",children:[c.jsx("option",{value:"udp",children:"UDP"}),c.jsx("option",{value:"tcp",children:"TCP"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Register Expires (s)"}),c.jsx("input",{type:"number",name:"register_expires",defaultValue:o.gb28181.register_expires,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Heartbeat Interval (s)"}),c.jsx("input",{type:"number",name:"heartbeat_interval",defaultValue:o.gb28181.heartbeat_interval,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Position Interval (s)"}),c.jsx("input",{type:"number",name:"position_interval",defaultValue:o.gb28181.position_interval,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save GB28181 Settings"})]})]})]})}function l0({config:o,setMessage:_}){const m=hs(g=>g.fetchConfig),p=async g=>{g.preventDefault();const x=g.currentTarget,b=new FormData(x);try{await Ht.updateThrottleConfig({default_rate_hz:parseFloat(b.get("default_rate_hz")),min_rate_hz:parseFloat(b.get("min_rate_hz")),max_rate_hz:parseFloat(b.get("max_rate_hz"))}),await m(),_({type:"success",text:"Throttle configuration saved"})}catch(w){_({type:"error",text:w instanceof Error?w.message:"Save failed"})}},r=async g=>{g.preventDefault();const x=g.currentTarget,b=new FormData(x);try{await Ht.updateCoordinateConfig({convert_gcj02:b.get("convert_gcj02")==="on",convert_bd09:b.get("convert_bd09")==="on"}),await m(),_({type:"success",text:"Coordinate configuration saved"})}catch(w){_({type:"error",text:w instanceof Error?w.message:"Save failed"})}},d=async g=>{g.preventDefault();const x=g.currentTarget,b=new FormData(x);try{await Ht.updateTrackConfig({enabled:b.get("enabled")==="on",max_points_per_drone:parseInt(b.get("max_points_per_drone")),sample_interval_ms:parseInt(b.get("sample_interval_ms"))}),await m(),_({type:"success",text:"Track configuration saved"})}catch(w){_({type:"error",text:w instanceof Error?w.message:"Save failed"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Frequency Throttling"}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Default Rate (Hz)"}),c.jsx("input",{type:"number",name:"default_rate_hz",step:"0.1",defaultValue:o.throttle.default_rate_hz,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Min Rate (Hz)"}),c.jsx("input",{type:"number",name:"min_rate_hz",step:"0.1",defaultValue:o.throttle.min_rate_hz,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Max Rate (Hz)"}),c.jsx("input",{type:"number",name:"max_rate_hz",step:"0.1",defaultValue:o.throttle.max_rate_hz,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Throttle Settings"})]})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Coordinate Conversion"}),c.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Convert WGS84 coordinates to China map coordinate systems"}),c.jsxs("form",{onSubmit:r,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"convert_gcj02",name:"convert_gcj02",defaultChecked:o.coordinate.convert_gcj02,className:"mr-2"}),c.jsx("label",{htmlFor:"convert_gcj02",className:"text-slate-300",children:"Convert to GCJ02 (Amap, Tencent, Google China)"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"convert_bd09",name:"convert_bd09",defaultChecked:o.coordinate.convert_bd09,className:"mr-2"}),c.jsx("label",{htmlFor:"convert_bd09",className:"text-slate-300",children:"Convert to BD09 (Baidu Maps)"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Coordinate Settings"})]})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Track Storage"}),c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("input",{type:"checkbox",id:"track-enabled",name:"enabled",defaultChecked:o.track.enabled,className:"mr-2"}),c.jsx("label",{htmlFor:"track-enabled",className:"text-slate-300",children:"Enable Track Storage"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Max Points Per Drone"}),c.jsx("input",{type:"number",name:"max_points_per_drone",defaultValue:o.track.max_points_per_drone,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Sample Interval (ms)"}),c.jsx("input",{type:"number",name:"sample_interval_ms",defaultValue:o.track.sample_interval_ms,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white"})]})]}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Track Settings"})]})]})]})}const dp=500,ri=or((o,_)=>({logs:[],isLoading:!1,error:null,isStreaming:!1,filter:{level:"info",source:""},eventSource:null,fetchLogs:async()=>{o({isLoading:!0,error:null});try{const{filter:m}=_(),p=await Ht.getLogs({level:m.level,source:m.source||void 0,limit:200});o({logs:p.logs,isLoading:!1})}catch(m){o({error:m instanceof Error?m.message:"Failed to load logs",isLoading:!1})}},clearLogs:async()=>{try{await Ht.clearLogs(),o({logs:[]})}catch(m){o({error:m instanceof Error?m.message:"Failed to clear logs"})}},addLog:m=>{o(p=>{const r=[...p.logs,m];return r.length>dp?{logs:r.slice(-dp)}:{logs:r}})},setFilter:m=>{o(p=>({filter:{...p.filter,...m}}))},startStreaming:()=>{const{eventSource:m,filter:p}=_();m&&m.close();const r=Ht.getLogStreamUrl(p.level),d=new EventSource(r);d.addEventListener("connected",()=>{o({isStreaming:!0,error:null})}),d.addEventListener("log",g=>{try{const x=JSON.parse(g.data),{filter:b}=_();if(b.source&&x.source!==b.source)return;_().addLog(x)}catch{}}),d.addEventListener("ping",()=>{}),d.onerror=()=>{o({isStreaming:!1,error:"Log stream disconnected"}),d.close(),o({eventSource:null})},o({eventSource:d})},stopStreaming:()=>{const{eventSource:m}=_();m&&(m.close(),o({eventSource:null,isStreaming:!1}))},clear:()=>{const{eventSource:m}=_();m&&m.close(),o({logs:[],isLoading:!1,error:null,isStreaming:!1,eventSource:null})}})),o0=()=>ri(o=>o.logs),u0=()=>ri(o=>o.isLoading),c0=()=>ri(o=>o.error),h0=()=>ri(o=>o.isStreaming),d0=()=>ri(o=>o.filter),f0={debug:"text-gray-400",info:"text-blue-400",warn:"text-yellow-400",error:"text-red-400"},m0={debug:"bg-gray-500/20",info:"bg-blue-500/20",warn:"bg-yellow-500/20",error:"bg-red-500/20"};function p0(o){const _=new Date(o);return _.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+String(_.getMilliseconds()).padStart(3,"0")}function g0({log:o}){return c.jsxs("div",{className:`flex items-start gap-2 px-3 py-1.5 hover:bg-slate-700/50 font-mono text-sm ${m0[o.level]}`,children:[c.jsx("span",{className:"text-slate-500 shrink-0",children:p0(o.timestamp)}),c.jsx("span",{className:`shrink-0 uppercase text-xs font-bold w-12 ${f0[o.level]}`,children:o.level}),c.jsxs("span",{className:"text-cyan-400 shrink-0",children:["[",o.source,"]"]}),c.jsx("span",{className:"text-slate-200 break-all",children:o.message})]})}function _0(){const o=o0(),_=u0(),m=c0(),p=h0(),r=d0(),d=ri(R=>R.fetchLogs),g=ri(R=>R.clearLogs),x=ri(R=>R.setFilter),b=ri(R=>R.startStreaming),w=ri(R=>R.stopStreaming),T=k.useRef(null),M=k.useRef(!0);k.useEffect(()=>(d(),()=>{w()}),[d,w]),k.useEffect(()=>{M.current&&T.current&&(T.current.scrollTop=T.current.scrollHeight)},[o]);const H=()=>{if(T.current){const{scrollTop:R,scrollHeight:at,clientHeight:et}=T.current;M.current=at-R-et<50}},I=R=>{x({level:R}),p?(w(),setTimeout(()=>b(),100)):d()},K=()=>{p?w():b()},V=async()=>{confirm("Are you sure you want to clear all logs?")&&await g()};return c.jsxs("div",{className:"p-6 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Log Viewer"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-slate-400",children:"Level:"}),c.jsxs("select",{value:r.level,onChange:R=>I(R.target.value),className:"px-3 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm",children:[c.jsx("option",{value:"debug",children:"Debug"}),c.jsx("option",{value:"info",children:"Info"}),c.jsx("option",{value:"warn",children:"Warn"}),c.jsx("option",{value:"error",children:"Error"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("label",{className:"text-sm text-slate-400",children:"Source:"}),c.jsx("input",{type:"text",value:r.source,onChange:R=>x({source:R.target.value}),placeholder:"All sources",className:"px-3 py-1.5 bg-slate-700 border border-slate-600 rounded text-white text-sm w-32"})]}),c.jsx("button",{onClick:K,className:`px-4 py-1.5 rounded text-sm font-medium transition-colors ${p?"bg-green-600 text-white hover:bg-green-700":"bg-slate-700 text-white hover:bg-slate-600"}`,children:p?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Streaming"]}):"Start Stream"}),c.jsx("button",{onClick:()=>d(),disabled:_,className:"px-4 py-1.5 bg-slate-700 text-white rounded text-sm hover:bg-slate-600 transition-colors disabled:opacity-50",children:_?"Loading...":"Refresh"}),c.jsx("button",{onClick:V,className:"px-4 py-1.5 bg-red-600/20 text-red-400 border border-red-500/50 rounded text-sm hover:bg-red-600/30 transition-colors",children:"Clear"})]})]}),m&&c.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 text-sm",children:m}),c.jsx("div",{ref:T,onScroll:H,className:"flex-1 bg-slate-900 rounded-lg border border-slate-700 overflow-auto",children:o.length===0?c.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:_?"Loading logs...":"No logs available"}):c.jsx("div",{className:"py-2",children:o.map(R=>c.jsx(g0,{log:R},R.id))})}),c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-500",children:[c.jsxs("span",{children:[o.length," log entries"]}),c.jsx("span",{children:M.current?"Auto-scrolling enabled":"Scroll to bottom to enable auto-scroll"})]})]})}const ds=or((o,_)=>({alerts:[],rules:[],stats:null,isLoading:!1,error:null,filter:{acknowledged:null,deviceId:""},fetchAlerts:async()=>{o({isLoading:!0,error:null});try{const{filter:m}=_(),p=await Ht.getAlerts({acknowledged:m.acknowledged??void 0,deviceId:m.deviceId||void 0,limit:200});o({alerts:p.alerts,stats:p.stats,isLoading:!1})}catch(m){o({error:m instanceof Error?m.message:"Failed to load alerts",isLoading:!1})}},fetchRules:async()=>{try{const m=await Ht.getAlertRules();o({rules:m.rules})}catch(m){o({error:m instanceof Error?m.message:"Failed to load rules"})}},acknowledgeAlert:async m=>{try{await Ht.acknowledgeAlert(m),o(p=>({alerts:p.alerts.map(r=>r.id===m?{...r,acknowledged:!0,acked_at:Date.now()}:r),stats:p.stats?{...p.stats,unacknowledged:Math.max(0,p.stats.unacknowledged-1)}:null}))}catch(p){o({error:p instanceof Error?p.message:"Failed to acknowledge alert"})}},clearAlerts:async()=>{try{await Ht.clearAlerts(),o({alerts:[],stats:null})}catch(m){o({error:m instanceof Error?m.message:"Failed to clear alerts"})}},createRule:async m=>{try{const p=await Ht.createAlertRule(m);o(r=>({rules:[...r.rules,p]}))}catch(p){throw o({error:p instanceof Error?p.message:"Failed to create rule"}),p}},updateRule:async(m,p)=>{try{const r=await Ht.updateAlertRule(m,p);o(d=>({rules:d.rules.map(g=>g.id===m?r:g)}))}catch(r){throw o({error:r instanceof Error?r.message:"Failed to update rule"}),r}},deleteRule:async m=>{try{await Ht.deleteAlertRule(m),o(p=>({rules:p.rules.filter(r=>r.id!==m)}))}catch(p){throw o({error:p instanceof Error?p.message:"Failed to delete rule"}),p}},setFilter:m=>{o(p=>({filter:{...p.filter,...m}}))},clear:()=>{o({alerts:[],rules:[],stats:null,isLoading:!1,error:null})}})),v0=()=>ds(o=>o.alerts),y0=()=>ds(o=>o.rules),x0=()=>ds(o=>o.stats),b0=()=>ds(o=>o.isLoading),L0=()=>ds(o=>o.error),w0=()=>ds(o=>o.filter),fp={info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",critical:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},Dh={battery_low:"Battery Low",connection_lost:"Connection Lost",signal_weak:"Signal Weak",geofence_breach:"Geofence Breach",custom:"Custom"},S0={"<":"Less than",">":"Greater than","<=":"Less than or equal",">=":"Greater than or equal","==":"Equal to","!=":"Not equal to"};function E0(){const[o,_]=k.useState("alerts"),[m,p]=k.useState(!1),[r,d]=k.useState(null),g=v0(),x=y0(),b=x0(),w=b0(),T=L0(),M=w0(),{fetchAlerts:H,fetchRules:I,acknowledgeAlert:K,clearAlerts:V,createRule:R,updateRule:at,deleteRule:et,setFilter:nt}=ds();k.useEffect(()=>{H(),I()},[H,I]),k.useEffect(()=>{H()},[M,H]);const yt=async lt=>{await K(lt)},mt=async()=>{window.confirm("Are you sure you want to clear all alerts?")&&(await V(),await H())},rt=(lt,he)=>{nt({[lt]:he})},dt=lt=>{d(lt),p(!0)},Et=()=>{d(null),p(!0)},Dt=async lt=>{window.confirm("Are you sure you want to delete this rule?")&&await et(lt)},Ct=async lt=>{r?await at(r.id,lt):await R(lt),p(!1),d(null)},gt=lt=>new Date(lt).toLocaleString();return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Alerts"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor and manage system alerts"})]}),b&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Alerts"}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.total_alerts})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Unacknowledged"}),c.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:b.unacknowledged})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Rules"}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.rules_count})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Devices with Alerts"}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.devices_with_alerts})]})]}),T&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg",children:T}),c.jsx("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>_("alerts"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="alerts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Alerts"}),c.jsx("button",{onClick:()=>_("rules"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="rules"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Rules"})]})}),o==="alerts"&&c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4 flex flex-wrap gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("select",{value:M.acknowledged===null?"all":M.acknowledged?"acked":"unacked",onChange:lt=>{const he=lt.target.value;rt("acknowledged",he==="all"?null:he==="acked")},className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Alerts"}),c.jsx("option",{value:"unacked",children:"Unacknowledged"}),c.jsx("option",{value:"acked",children:"Acknowledged"})]}),c.jsx("input",{type:"text",placeholder:"Filter by Device ID",value:M.deviceId,onChange:lt=>rt("deviceId",lt.target.value),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),c.jsx("button",{onClick:mt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear All"})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:w?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):g.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No alerts found"}):c.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(lt=>c.jsx("div",{className:`p-4 ${lt.acknowledged?"opacity-60":""}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${fp[lt.severity]}`,children:lt.severity.toUpperCase()}),c.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Dh[lt.type]}),lt.acknowledged&&c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Acknowledged"})]}),c.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:lt.message}),c.jsxs("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:["Device: ",lt.device_id]}),c.jsx("span",{className:"mx-2",children:"|"}),c.jsx("span",{children:gt(lt.timestamp)}),lt.acked_at&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"mx-2",children:"|"}),c.jsxs("span",{children:["Acked: ",gt(lt.acked_at)]})]})]})]}),!lt.acknowledged&&c.jsx("button",{onClick:()=>yt(lt.id),className:"ml-4 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Acknowledge"})]})},lt.id))})})]}),o==="rules"&&c.jsxs("div",{children:[c.jsx("div",{className:"mb-4 flex justify-end",children:c.jsx("button",{onClick:Et,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Rule"})}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:x.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No rules configured"}):c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Condition"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Severity"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:x.map(lt=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:lt.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Dh[lt.type]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[lt.condition.field," ",lt.condition.operator," ",lt.condition.threshold]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${fp[lt.severity]}`,children:lt.severity})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${lt.enabled?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:lt.enabled?"Enabled":"Disabled"})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>dt(lt),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3",children:"Edit"}),c.jsx("button",{onClick:()=>Dt(lt.id),className:"text-red-600 hover:text-red-900 dark:text-red-400",children:"Delete"})]})]},lt.id))})]})})]}),m&&c.jsx(T0,{rule:r,onSave:Ct,onClose:()=>{p(!1),d(null)}})]})}function T0({rule:o,onSave:_,onClose:m}){const[p,r]=k.useState({name:o?.name||"",type:o?.type||"battery_low",severity:o?.severity||"warning",enabled:o?.enabled??!0,condition:o?.condition||{field:"battery_percent",operator:"<",threshold:20},cooldown_ms:o?.cooldown_ms||6e4}),d=x=>{x.preventDefault(),_(p)},g=(x,b)=>{r({...p,condition:{...p.condition,[x]:b}})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?"Edit Rule":"Create Rule"})}),c.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),c.jsx("input",{type:"text",value:p.name,onChange:x=>r({...p,name:x.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),c.jsx("select",{value:p.type,onChange:x=>r({...p,type:x.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Object.entries(Dh).map(([x,b])=>c.jsx("option",{value:x,children:b},x))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Severity"}),c.jsxs("select",{value:p.severity,onChange:x=>r({...p,severity:x.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[c.jsx("option",{value:"info",children:"Info"}),c.jsx("option",{value:"warning",children:"Warning"}),c.jsx("option",{value:"critical",children:"Critical"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Condition"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("select",{value:p.condition?.field,onChange:x=>g("field",x.target.value),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[c.jsx("option",{value:"battery_percent",children:"Battery %"}),c.jsx("option",{value:"signal_quality",children:"Signal Quality"}),c.jsx("option",{value:"altitude",children:"Altitude"}),c.jsx("option",{value:"speed",children:"Speed"})]}),c.jsx("select",{value:p.condition?.operator,onChange:x=>g("operator",x.target.value),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Object.entries(S0).map(([x,b])=>c.jsx("option",{value:x,children:x},x))}),c.jsx("input",{type:"number",value:p.condition?.threshold,onChange:x=>g("threshold",parseFloat(x.target.value)),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cooldown (seconds)"}),c.jsx("input",{type:"number",value:(p.cooldown_ms||0)/1e3,onChange:x=>r({...p,cooldown_ms:parseInt(x.target.value)*1e3}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"1"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"enabled",checked:p.enabled,onChange:x=>r({...p,enabled:x.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),c.jsx("label",{htmlFor:"enabled",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]})]})})}(function(o,_,m){function p(r,d){for(;(r=r.parentElement)&&!r.classList.contains(d););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,d){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,d&&d.shapeOptions&&(d.shapeOptions=L.Util.extend({},this.options.shapeOptions,d.shapeOptions)),L.setOptions(this,d);var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,d){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,d&&d.drawError&&(d.drawError=L.Util.extend({},this.options.drawError,d.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,d)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),d=this._poly,g=d.getLatLngs(),x=g.splice(-1,1)[0];this._poly.setLatLngs(g),this._markerGroup.removeLayer(r),d.getLatLngs().length<2&&this._map.removeLayer(d),this._vertexChanged(x,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),d=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&d||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var d=this._map.mouseEventToLayerPoint(r.originalEvent),g=this._map.layerPointToLatLng(d);this._currentLatLng=g,this._updateTooltip(g),this._updateGuide(d),this._mouseMarker.setLatLng(g),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,d){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,d),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var d=r.originalEvent,g=d.clientX,x=d.clientY;this._startPoint.call(this,g,x)}},_startPoint:function(r,d){this._mouseDownOrigin=L.point(r,d)},_onMouseUp:function(r){var d=r.originalEvent,g=d.clientX,x=d.clientY;this._endPoint.call(this,g,x,r),this._clickHandled=null},_endPoint:function(r,d,g){if(this._mouseDownOrigin){var x=L.point(r,d).distanceTo(this._mouseDownOrigin),b=this._calculateFinishDistance(g.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(g.latlng),this._finishShape()):b<10&&L.Browser.touch?this._finishShape():Math.abs(x)<9*(o.devicePixelRatio||1)&&this.addVertex(g.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var d,g,x=r.originalEvent;!x.touches||!x.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(d=x.touches[0].clientX,g=x.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,d,g),this._endPoint.call(this,d,g,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var d;if(this._markers.length>0){var g;if(this.type===L.Draw.Polyline.TYPE)g=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;g=this._markers[0]}var x=this._map.latLngToContainerPoint(g.getLatLng()),b=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),w=this._map.latLngToContainerPoint(b.getLatLng());d=x.distanceTo(w)}else d=1/0;return d},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var d=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(d),d},_updateGuide:function(r){var d=this._markers?this._markers.length:0;d>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[d-1].getLatLng()),r))},_updateTooltip:function(r){var d=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(d)},_drawGuide:function(r,d){var g,x,b,w=Math.floor(Math.sqrt(Math.pow(d.x-r.x,2)+Math.pow(d.y-r.y,2))),T=this.options.guidelineDistance,M=this.options.maxGuideLineLength,H=w>M?w-M:T;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));H<w;H+=this.options.guidelineDistance)g=H/w,x={x:Math.floor(r.x*(1-g)+g*d.x),y:Math.floor(r.y*(1-g)+g*d.y)},b=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),b.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(b,x)},_updateGuideColor:function(r){if(this._guidesContainer)for(var d=0,g=this._guidesContainer.childNodes.length;d<g;d++)this._guidesContainer.childNodes[d].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,d,g=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(d=g?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:d}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:d}),r},_updateRunningMeasure:function(r,d){var g,x,b=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(g=b-(d?2:1),x=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[g].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[g].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=x*(d?1:-1))},_getMeasurementString:function(){var r,d=this._currentLatLng,g=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?g&&d&&d.distanceTo?this._measurementRunningTotal+d.distanceTo(g)*(this.options.factor||1):this._measurementRunningTotal||0:g&&d?this._measurementRunningTotal+this._map.distance(d,g)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,d){L.Draw.Polyline.prototype.initialize.call(this,r,d),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,d;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,d=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,d=this._getMeasurementString()),{text:r,subtext:d}},_getMeasurementString:function(){var r=this._area,d="";return r||this.options.showLength?(this.options.showLength&&(d=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(d+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),d):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,d){var g;!this.options.allowIntersection&&this.options.showArea&&(g=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(g)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,d)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,d){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,d)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),_.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(_,"mouseup",this._onMouseUp,this),L.DomEvent.off(_,"touchend",this._onMouseUp,this),_.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(_,"mouseup",this._onMouseUp,this).on(_,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var d=r.latlng;this._tooltip.updatePosition(d),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(d))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,d){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,d)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!p(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,d,g,x=L.Draw.SimpleShape.prototype._getTooltipText.call(this),b=this._shape,w=this.options.showArea;return b&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),d=L.GeometryUtil.geodesicArea(r),g=w?L.GeometryUtil.readableArea(d,this.options.metric):""),{text:x.text,subtext:g}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,d){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,d)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var d=r.latlng;this._tooltip.updatePosition(d),this._mouseMarker.setLatLng(d),this._marker?(d=this._mouseMarker.getLatLng(),this._marker.setLatLng(d)):(this._marker=this._createMarker(d),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,d){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,d)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,d){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,d)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var d=this._startLatLng.distanceTo(r);else var d=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(d):(this._shape=new L.Circle(this._startLatLng,d,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var d,g=r.latlng,x=this.options.showRadius,b=this.options.metric;if(this._tooltip.updatePosition(g),this._isDrawing){this._drawShape(g),d=this._shape.getRadius().toFixed(1);var w="";x&&(w=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(d,b,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:w})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,d){this._marker=r,L.setOptions(this,d)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var d=r.target;d.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:d})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,d){var g=parseInt(r.style.marginTop,10)-d,x=parseInt(r.style.marginLeft,10)-d;r.style.marginTop=g+"px",r.style.marginLeft=x+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var d=0;d<this._verticesHandlers.length;d++)r(this._verticesHandlers[d])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,d,g){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,g&&g.drawError&&(g.drawError=L.Util.extend({},this.options.drawError,g.drawError)),this._latlngs=d,L.setOptions(this,g)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,d=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),d&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(g){L.DomUtil.removeClass(d,g)}),r.options.editing.className.split(" ").forEach(function(g){L.DomUtil.addClass(d,g)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,d=r._path;d&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(g){L.DomUtil.removeClass(d,g)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(g){L.DomUtil.addClass(d,g)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,d,g,x,b=this._defaultShape();for(r=0,g=b.length;r<g;r++)x=this._createMarker(b[r],r),x.on("click",this._onMarkerClick,this),x.on("contextmenu",this._onContextMenu,this),this._markers.push(x);var w,T;for(r=0,d=g-1;r<g;d=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(w=this._markers[d],T=this._markers[r],this._createMiddleMarker(w,T),this._updatePrevNext(w,T))},_createMarker:function(r,d){var g=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return g._origLatLng=r,g._index=d,g.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(g),g},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),d=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),d},_removeMarker:function(r){var d=r._index;this._markerGroup.removeLayer(r),this._markers.splice(d,1),this._spliceLatLngs(d,1),this._updateIndexes(d,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var d=r.target,g=this._poly,x=L.LatLngUtil.cloneLatLng(d._origLatLng);if(L.extend(d._origLatLng,d._latlng),g.options.poly){var b=g._map._editTooltip;if(!g.options.poly.allowIntersection&&g.intersects()){L.extend(d._origLatLng,x),d.setLatLng(x);var w=g.options.color;g.setStyle({color:this.options.drawError.color}),b&&b.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){g.setStyle({color:w}),b&&b.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}d._middleLeft&&d._middleLeft.setLatLng(this._getMiddleLatLng(d._prev,d)),d._middleRight&&d._middleRight.setLatLng(this._getMiddleLatLng(d,d._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var T=this._poly.getLatLngs();this._poly._convertLatLngs(T,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var d=L.Polygon&&this._poly instanceof L.Polygon?4:3,g=r.target;this._defaultShape().length<d||(this._removeMarker(g),this._updatePrevNext(g._prev,g._next),g._middleLeft&&this._markerGroup.removeLayer(g._middleLeft),g._middleRight&&this._markerGroup.removeLayer(g._middleRight),g._prev&&g._next?this._createMiddleMarker(g._prev,g._next):g._prev?g._next||(g._prev._middleRight=null):g._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var d=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:d,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var d=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),g=this._map.layerPointToLatLng(d),x=r.target;L.extend(x._origLatLng,g),x._middleLeft&&x._middleLeft.setLatLng(this._getMiddleLatLng(x._prev,x)),x._middleRight&&x._middleRight.setLatLng(this._getMiddleLatLng(x,x._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,d){this._markerGroup.eachLayer(function(g){g._index>r&&(g._index+=d)})},_createMiddleMarker:function(r,d){var g,x,b,w=this._getMiddleLatLng(r,d),T=this._createMarker(w);T.setOpacity(.6),r._middleRight=d._middleLeft=T,x=function(){T.off("touchmove",x,this);var M=d._index;T._index=M,T.off("click",g,this).on("click",this._onMarkerClick,this),w.lat=T.getLatLng().lat,w.lng=T.getLatLng().lng,this._spliceLatLngs(M,0,w),this._markers.splice(M,0,T),T.setOpacity(1),this._updateIndexes(M,1),d._index++,this._updatePrevNext(r,T),this._updatePrevNext(T,d),this._poly.fire("editstart")},b=function(){T.off("dragstart",x,this),T.off("dragend",b,this),T.off("touchmove",x,this),this._createMiddleMarker(r,T),this._createMiddleMarker(T,d)},g=function(){x.call(this),b.call(this),this._fireEdit()},T.on("click",g,this).on("dragstart",x,this).on("dragend",b,this).on("touchmove",x,this),this._markerGroup.addLayer(T)},_updatePrevNext:function(r,d){r&&(r._next=d),d&&(d._prev=r)},_getMiddleLatLng:function(r,d){var g=this._poly._map,x=g.project(r.getLatLng()),b=g.project(d.getLatLng());return g.unproject(x._add(b)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,d){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,d)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var d=0,g=this._resizeMarkers.length;d<g;d++)this._unbindMarker(this._resizeMarkers[d]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,d){var g=new L.Marker.Touch(r,{draggable:!0,icon:d,zIndexOffset:10});return this._bindMarker(g),this._markerGroup.addLayer(g),g},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var d=r.target,g=d.getLatLng();d===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var d=this._getCorners(),g=r.target,x=g._cornerIndex;g.setOpacity(0),this._oppositeCorner=d[(x+2)%4],this._toggleCornerMarkers(0,x)}this._shape.fire("editstart")},_onTouchMove:function(r){var d=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),g=this._map.layerPointToLatLng(d);return r.target===this._moveMarker?this._move(g):this._resize(g),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),d=r.getCenter();this._moveMarker=this._createMarker(d,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var d=0,g=r.length;d<g;d++)this._resizeMarkers.push(this._createMarker(r[d],this.options.resizeIcon)),this._resizeMarkers[d]._cornerIndex=d},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var d=this._getCorners(),g=r.target,x=g._cornerIndex;this._oppositeCorner=d[(x+2)%4],this._toggleCornerMarkers(0,x)},_onMarkerDragEnd:function(r){var d,g,x=r.target;x===this._moveMarker&&(d=this._shape.getBounds(),g=d.getCenter(),x.setLatLng(g)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var d,g=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),x=this._shape.getBounds(),b=x.getCenter(),w=[],T=0,M=g.length;T<M;T++)d=[g[T].lat-b.lat,g[T].lng-b.lng],w.push([r.lat+d[0],r.lng+d[1]]);this._shape.setLatLngs(w),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var d;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),d=this._shape.getBounds(),this._moveMarker.setLatLng(d.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var d=0,g=this._resizeMarkers.length;d<g;d++)this._resizeMarkers[d].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),d=0,g=this._resizeMarkers.length;d<g;d++)this._resizeMarkers[d].setLatLng(r[d])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var d=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(d)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),d=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(d,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var d=this._shape._radius*Math.cos(Math.PI/4),g=this._map.project(r);return this._map.unproject([g.x+d,g.y-d])},_resize:function(r){var d=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=d.distanceTo(r):radius=this._map.distance(d,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,d){var g={};if(r.touches!==void 0){if(!r.touches.length)return;g=r.touches[0]}else if(r.pointerType!=="touch"||(g=r,!this._filterClick(r)))return;var x=this._map.mouseEventToContainerPoint(g),b=this._map.mouseEventToLayerPoint(g),w=this._map.layerPointToLatLng(b);this._map.fire(d,{latlng:w,layerPoint:b,containerPoint:x,pageX:g.pageX,pageY:g.pageY,originalEvent:r})},_filterClick:function(r){var d=r.timeStamp||r.originalEvent.timeStamp,g=L.DomEvent._lastClick&&d-L.DomEvent._lastClick;return g&&g>100&&g<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=d,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var d="touchcancel";this._detectIE()&&(d="pointercancel"),this._touchEvent(r,d)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=o.navigator.userAgent,d=r.indexOf("MSIE ");if(d>0)return parseInt(r.substring(d+5,r.indexOf(".",d)),10);if(r.indexOf("Trident/")>0){var g=r.indexOf("rv:");return parseInt(r.substring(g+3,r.indexOf(".",g)),10)}var x=r.indexOf("Edge/");return x>0&&parseInt(r.substring(x+5,r.indexOf(".",x)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,d=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?d.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):d.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var g=0;g<d.length;g++)L.DomEvent.on(r,d[g],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=o.navigator.userAgent,d=r.indexOf("MSIE ");if(d>0)return parseInt(r.substring(d+5,r.indexOf(".",d)),10);if(r.indexOf("Trident/")>0){var g=r.indexOf("rv:");return parseInt(r.substring(g+3,r.indexOf(".",g)),10)}var x=r.indexOf("Edge/");return x>0&&parseInt(r.substring(x+5,r.indexOf(".",x)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var d=[],g=0,x=r.length;g<x;g++)Array.isArray(r[g])?d.push(L.LatLngUtil.cloneLatLngs(r[g])):d.push(this.cloneLatLng(r[g]));return d},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},(function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(d){var g,x,b=d.length,w=0,T=Math.PI/180;if(b>2){for(var M=0;M<b;M++)g=d[M],x=d[(M+1)%b],w+=(x.lng-g.lng)*T*(2+Math.sin(g.lat*T)+Math.sin(x.lat*T));w=6378137*w*6378137/2}return Math.abs(w)},formattedNumber:function(d,g){var x=parseFloat(d).toFixed(g),b=L.drawLocal.format&&L.drawLocal.format.numeric,w=b&&b.delimiters,T=w&&w.thousands,M=w&&w.decimal;if(T||M){var H=x.split(".");x=T?H[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+T):H[0],M=M||".",H.length>1&&(x=x+M+H[1])}return x},readableArea:function(d,g,T){var b,w,T=L.Util.extend({},r,T);return g?(w=["ha","m"],type=typeof g,type==="string"?w=[g]:type!=="boolean"&&(w=g),b=d>=1e6&&w.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*d,T.km)+" km":d>=1e4&&w.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*d,T.ha)+" ha":L.GeometryUtil.formattedNumber(d,T.m)+" m"):(d/=.836127,b=d>=3097600?L.GeometryUtil.formattedNumber(d/3097600,T.mi)+" mi":d>=4840?L.GeometryUtil.formattedNumber(d/4840,T.ac)+" acres":L.GeometryUtil.formattedNumber(d,T.yd)+" yd"),b},readableDistance:function(d,g,x,b,M){var T,M=L.Util.extend({},r,M);switch(g?typeof g=="string"?g:"metric":x?"feet":b?"nauticalMile":"yards"){case"metric":T=d>1e3?L.GeometryUtil.formattedNumber(d/1e3,M.km)+" km":L.GeometryUtil.formattedNumber(d,M.m)+" m";break;case"feet":d*=3.28083,T=L.GeometryUtil.formattedNumber(d,M.ft)+" ft";break;case"nauticalMile":d*=.53996,T=L.GeometryUtil.formattedNumber(d/1e3,M.nm)+" nm";break;default:d*=1.09361,T=d>1760?L.GeometryUtil.formattedNumber(d/1760,M.mi)+" miles":L.GeometryUtil.formattedNumber(d,M.yd)+" yd"}return T},isVersion07x:function(){var d=L.version.split(".");return parseInt(d[0],10)===0&&parseInt(d[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,d,g,x){return this._checkCounterclockwise(r,g,x)!==this._checkCounterclockwise(d,g,x)&&this._checkCounterclockwise(r,d,g)!==this._checkCounterclockwise(r,d,x)},_checkCounterclockwise:function(r,d,g){return(g.y-r.y)*(d.x-r.x)>(d.y-r.y)*(g.x-r.x)}}),L.Polyline.include({intersects:function(){var r,d,g,x=this._getProjectedPoints(),b=x?x.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=b-1;r>=3;r--)if(d=x[r-1],g=x[r],this._lineSegmentsIntersectsRange(d,g,r-2))return!0;return!1},newLatLngIntersects:function(r,d){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),d)},newPointIntersects:function(r,d){var g=this._getProjectedPoints(),x=g?g.length:0,b=g?g[x-1]:null,w=x-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(b,r,w,d?1:0)},_tooFewPointsForIntersection:function(r){var d=this._getProjectedPoints(),g=d?d.length:0;return g+=r||0,!d||g<=3},_lineSegmentsIntersectsRange:function(r,d,g,x){var b,w,T=this._getProjectedPoints();x=x||0;for(var M=g;M>x;M--)if(b=T[M-1],w=T[M],L.LineUtil.segmentsIntersect(r,d,b,w))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],d=this._defaultShape(),g=0;g<d.length;g++)r.push(this._map.latLngToLayerPoint(d[g]));return r}}),L.Polygon.include({intersects:function(){var r,d,g,x,b=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=b.length,d=b[0],g=b[r-1],x=r-2,this._lineSegmentsIntersectsRange(g,d,x,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var d;this._toolbars={},L.DrawToolbar&&this.options.draw&&(d=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=d,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(d=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=d,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var d,g=L.DomUtil.create("div","leaflet-draw"),x=!1;for(var b in this._toolbars)this._toolbars.hasOwnProperty(b)&&(d=this._toolbars[b].addToolbar(r))&&(x||(L.DomUtil.hasClass(d,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(d.childNodes[0],"leaflet-draw-toolbar-top"),x=!0),g.appendChild(d));return g},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var d in this._toolbars)this._toolbars[d]instanceof L.DrawToolbar&&this._toolbars[d].setOptions(r)},_toolbarEnabled:function(r){var d=r.target;for(var g in this._toolbars)this._toolbars[g]!==d&&this._toolbars[g].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var d=L.version.split(".");parseInt(d[0],10)===1&&parseInt(d[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var d,g=L.DomUtil.create("div","leaflet-draw-section"),x=0,b=this._toolbarClass||"",w=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,d=0;d<w.length;d++)w[d].enabled&&this._initModeHandler(w[d].handler,this._toolbarContainer,x++,b,w[d].title);if(x)return this._lastButtonIndex=--x,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),g.appendChild(this._toolbarContainer),g.appendChild(this._actionsContainer),g},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var d=0,g=this._actionButtons.length;d<g;d++)this._disposeButton(this._actionButtons[d].button,this._actionButtons[d].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,d,g,x,b){var w=r.type;this._modes[w]={},this._modes[w].handler=r,this._modes[w].button=this._createButton({type:w,title:b,className:x+"-"+w,container:d,callback:this._modes[w].handler.enable,context:this._modes[w].handler}),this._modes[w].buttonIndex=g,this._modes[w].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!o.MSStream},_createButton:function(r){var d=L.DomUtil.create("a",r.className||"",r.container),g=L.DomUtil.create("span","sr-only",r.container);d.href="#",d.appendChild(g),r.title&&(d.title=r.title,g.innerHTML=r.title),r.text&&(d.innerHTML=r.text,g.innerHTML=r.text);var x=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(d,"click",L.DomEvent.stopPropagation).on(d,"mousedown",L.DomEvent.stopPropagation).on(d,"dblclick",L.DomEvent.stopPropagation).on(d,"touchstart",L.DomEvent.stopPropagation).on(d,"click",L.DomEvent.preventDefault).on(d,x,r.callback,r.context),d},_disposeButton:function(r,d){var g=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,g,d)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var d,g,x,b,w=this._actionsContainer,T=this.getActions(r),M=T.length;for(g=0,x=this._actionButtons.length;g<x;g++)this._disposeButton(this._actionButtons[g].button,this._actionButtons[g].callback);for(this._actionButtons=[];w.firstChild;)w.removeChild(w.firstChild);for(var H=0;H<M;H++)"enabled"in T[H]&&!T[H].enabled||(d=L.DomUtil.create("li","",w),b=this._createButton({title:T[H].title,text:T[H].text,container:d,callback:T[H].callback,context:T[H].context}),this._actionButtons.push({button:b,callback:T[H].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,d=this._lastButtonIndex,g=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=g+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===d&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var d=this._map.latLngToLayerPoint(r),g=this._container;return this._container&&(this._visible&&(g.style.visibility="inherit"),L.DomUtil.setPosition(g,d)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var d in this.options)this.options.hasOwnProperty(d)&&r[d]&&(r[d]=L.extend({},this.options[d],r[d]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var d in this._modes)this._modes.hasOwnProperty(d)&&r.hasOwnProperty(d)&&this._modes[d].handler.setOptions(r[d])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var d=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:d,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:d}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var d=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&d.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),d},addToolbar:function(r){var d=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),d},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,d=this.options.featureGroup,g=d.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,g?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,g?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",g?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,d){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,d),this._featureGroup=d.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(d){d.edited&&(r.addLayer(d),d.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var d=L.Util.stamp(r);this._uneditedLayerProps[d]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[d]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[d]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[d]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var d=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(d)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[d].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[d].latlng),r.setRadius(this._uneditedLayerProps[d].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[d].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var d,g,x=r.layer||r.target||r;this._backupLayer(x),this.options.poly&&(g=L.Util.extend({},this.options.poly),x.options.poly=g),this.options.selectedPathOptions&&(d=L.Util.extend({},this.options.selectedPathOptions),d.maintainColor&&(d.color=x.options.color,d.fillColor=x.options.fillColor),x.options.original=L.extend({},x.options),x.options.editing=d),x instanceof L.Marker?(x.editing&&x.editing.enable(),x.dragging.enable(),x.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):x.editing.enable()},_disableLayerEdit:function(r){var d=r.layer||r.target||r;d.edited=!1,d.editing&&d.editing.disable(),delete d.options.editing,delete d.options.original,this._selectedPathOptions&&(d instanceof L.Marker?this._toggleMarkerHighlight(d):(d.setStyle(d.options.previousOptions),delete d.options.previousOptions)),d instanceof L.Marker?(d.dragging.disable(),d.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):d.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var d=r.target;d.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:d})},_onTouchMove:function(r){var d=r.originalEvent.changedTouches[0],g=this._map.mouseEventToLayerPoint(d),x=this._map.layerPointToLatLng(g);r.target.setLatLng(x)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,d){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,d),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var g=L.version.split(".");parseInt(g[0],10)===1&&parseInt(g[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var d=r.layer||r.target||r;d.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(d)},_removeLayer:function(r){var d=r.layer||r.target||r;this._deletableLayers.removeLayer(d),this._deletedLayers.addLayer(d),d.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);const ur=or(o=>({geofences:[],breaches:[],stats:null,isLoading:!1,error:null,fetchGeofences:async()=>{o({isLoading:!0,error:null});try{const _=await Ht.getGeofences();o({geofences:_.geofences,isLoading:!1})}catch(_){o({error:_ instanceof Error?_.message:"Failed to load geofences",isLoading:!1})}},fetchBreaches:async _=>{try{const m=await Ht.getGeofenceBreaches(_);o({breaches:m.breaches})}catch(m){o({error:m instanceof Error?m.message:"Failed to load breaches"})}},fetchStats:async()=>{try{const _=await Ht.getGeofenceStats();o({stats:_})}catch(_){o({error:_ instanceof Error?_.message:"Failed to load stats"})}},createGeofence:async _=>{try{const m=await Ht.createGeofence(_);return o(p=>({geofences:[...p.geofences,m]})),m}catch(m){throw o({error:m instanceof Error?m.message:"Failed to create geofence"}),m}},updateGeofence:async(_,m)=>{try{const p=await Ht.updateGeofence(_,m);o(r=>({geofences:r.geofences.map(d=>d.id===_?p:d)}))}catch(p){throw o({error:p instanceof Error?p.message:"Failed to update geofence"}),p}},deleteGeofence:async _=>{try{await Ht.deleteGeofence(_),o(m=>({geofences:m.geofences.filter(p=>p.id!==_)}))}catch(m){throw o({error:m instanceof Error?m.message:"Failed to delete geofence"}),m}},clearBreaches:async()=>{try{await Ht.clearGeofenceBreaches(),o({breaches:[]})}catch(_){o({error:_ instanceof Error?_.message:"Failed to clear breaches"})}},clear:()=>{o({geofences:[],breaches:[],stats:null,isLoading:!1,error:null})}})),M0=()=>ur(o=>o.geofences),N0=()=>ur(o=>o.breaches),C0=()=>ur(o=>o.stats),j0=()=>ur(o=>o.isLoading),k0=()=>ur(o=>o.error);function D0(){const[o,_]=k.useState("map"),[m,p]=k.useState(!1),[r,d]=k.useState(null),[g,x]=k.useState(null),[b,w]=k.useState([]),[T,M]=k.useState(null),[H,I]=k.useState(0),K=M0(),V=N0(),R=C0(),at=j0(),et=k0(),{fetchGeofences:nt,fetchBreaches:yt,fetchStats:mt,createGeofence:rt,updateGeofence:dt,deleteGeofence:Et,clearBreaches:Dt}=ur();k.useEffect(()=>{nt(),yt(),mt()},[nt,yt,mt]);const Ct=C=>{d(C),p(!0)},gt=async C=>{window.confirm("Are you sure you want to delete this geofence?")&&await Et(C)},lt=()=>{d(null),w([]),M(null),I(0),p(!0)},he=async C=>{r?await dt(r.id,C):await rt(C),p(!1),d(null),w([]),M(null),I(0),x(null)},ft=(C,X,B,ht)=>{C==="polygon"?w(X):(M(B||null),I(ht||0)),x(null),p(!0)},ut=C=>new Date(C).toLocaleString();return c.jsxs("div",{className:"p-6 h-full flex flex-col",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Geofences"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage geographic boundaries and breach alerts"})]}),R&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Geofences"}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R.total_geofences})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enabled"}),c.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:R.enabled_geofences})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Breaches"}),c.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:R.total_breaches})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tracked Devices"}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R.tracked_devices})]})]}),et&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg",children:et}),c.jsxs("div",{className:"mb-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>_("map"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="map"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Map View"}),c.jsx("button",{onClick:()=>_("list"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="list"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"List View"}),c.jsx("button",{onClick:()=>_("breaches"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="breaches"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,children:"Breaches"})]}),c.jsxs("div",{className:"flex gap-2",children:[o==="map"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>x("polygon"),className:`px-3 py-1 text-sm rounded ${g==="polygon"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"Draw Polygon"}),c.jsx("button",{onClick:()=>x("circle"),className:`px-3 py-1 text-sm rounded ${g==="circle"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"Draw Circle"})]}),c.jsx("button",{onClick:lt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Geofence"})]})]}),o==="map"&&c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",style:{minHeight:"500px"},children:c.jsx(z0,{geofences:K,drawingMode:g,onDrawComplete:ft,onCancelDraw:()=>x(null)})}),o==="list"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:at?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Loading..."}):K.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No geofences configured"}):c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Alerts"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:K.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:C.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:C.type==="polygon"?"Polygon":`Circle (${C.radius}m)`}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[C.alert_on_enter&&c.jsx("span",{className:"mr-2",children:"Enter"}),C.alert_on_exit&&c.jsx("span",{children:"Exit"})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${C.enabled?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:C.enabled?"Enabled":"Disabled"})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[c.jsx("button",{onClick:()=>Ct(C),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 mr-3",children:"Edit"}),c.jsx("button",{onClick:()=>gt(C.id),className:"text-red-600 hover:text-red-900 dark:text-red-400",children:"Delete"})]})]},C.id))})]})}),o==="breaches"&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-end",children:c.jsx("button",{onClick:()=>Dt(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Clear Breaches"})}),V.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No breaches recorded"}):c.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:V.map(C=>{const X=K.find(B=>B.id===C.geofence_id);return c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${C.type==="enter"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"}`,children:C.type==="enter"?"ENTERED":"EXITED"}),c.jsx("span",{className:"text-sm text-gray-900 dark:text-white font-medium",children:X?.name||C.geofence_id})]}),c.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.jsxs("span",{children:["Device: ",C.device_id]}),c.jsx("span",{className:"mx-2",children:"|"}),c.jsxs("span",{children:["Position: ",C.lat.toFixed(6),", ",C.lon.toFixed(6)," @ ",C.alt.toFixed(1),"m"]}),c.jsx("span",{className:"mx-2",children:"|"}),c.jsx("span",{children:ut(C.timestamp)})]})]},C.id)})})]}),m&&c.jsx(R0,{geofence:r,drawnCoordinates:b,drawnCenter:T,drawnRadius:H,onSave:he,onClose:()=>{p(!1),d(null),w([]),M(null),I(0)}})]})}function z0({geofences:o,drawingMode:_,onDrawComplete:m,onCancelDraw:p}){return c.jsxs(Yh,{center:[39.9042,116.4074],zoom:10,className:"w-full h-full",style:{minHeight:"500px"},children:[c.jsx(Xh,{}),c.jsx(A0,{drawingMode:_,onDrawComplete:m,onCancelDraw:p}),o.map(r=>c.jsx(O0,{geofence:r},r.id))]})}function A0({drawingMode:o,onDrawComplete:_}){const m=Vh(),p=k.useRef(null),r=k.useRef(new xl.FeatureGroup);return k.useEffect(()=>(m.addLayer(r.current),()=>{m.removeLayer(r.current)}),[m]),k.useEffect(()=>{if(o){const d=new xl.Control.Draw({position:"topright",draw:{polygon:o==="polygon"?{shapeOptions:{color:"#3B82F6"}}:!1,circle:o==="circle"?{shapeOptions:{color:"#3B82F6"}}:!1,polyline:!1,rectangle:!1,marker:!1,circlemarker:!1},edit:{featureGroup:r.current,remove:!1,edit:!1}});m.addControl(d),p.current=d;const g=x=>{const b=x,w=b.layer;if(b.layerType==="polygon"){const H=w.getLatLngs()[0].map(I=>[I.lat,I.lng]);_("polygon",H)}else if(b.layerType==="circle"){const T=w,M=T.getLatLng(),H=T.getRadius();_("circle",[],[M.lat,M.lng],H)}};return m.on(xl.Draw.Event.CREATED,g),()=>{m.removeControl(d),m.off(xl.Draw.Event.CREATED,g)}}},[m,o,_]),null}function O0({geofence:o}){const _=o.enabled?"#3B82F6":"#9CA3AF";if(o.type==="polygon"&&o.coordinates){const m=o.coordinates.map(p=>[p[0],p[1]]);return c.jsx(By,{positions:m,pathOptions:{color:_,fillColor:_,fillOpacity:.2}})}return o.type==="circle"&&o.center&&o.radius?c.jsx(Ay,{center:[o.center[0],o.center[1]],radius:o.radius,pathOptions:{color:_,fillColor:_,fillOpacity:.2}}):null}function R0({geofence:o,drawnCoordinates:_,drawnCenter:m,drawnRadius:p,onSave:r,onClose:d}){const[g,x]=k.useState({name:o?.name||"",type:o?.type||(_.length>0?"polygon":m?"circle":"polygon"),coordinates:o?.coordinates||(_.length>0?_:void 0),center:o?.center||m||void 0,radius:o?.radius||p||500,min_altitude:o?.min_altitude,max_altitude:o?.max_altitude,alert_on_enter:o?.alert_on_enter??!0,alert_on_exit:o?.alert_on_exit??!0,enabled:o?.enabled??!0}),b=T=>{T.preventDefault(),r(g)},w=g.type==="polygon"&&g.coordinates&&g.coordinates.length>=3||g.type==="circle"&&g.center&&g.radius&&g.radius>0;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o?"Edit Geofence":"Create Geofence"})}),c.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),c.jsx("input",{type:"text",value:g.name,onChange:T=>x({...g,name:T.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),c.jsxs("select",{value:g.type,onChange:T=>x({...g,type:T.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",disabled:!!o,children:[c.jsx("option",{value:"polygon",children:"Polygon"}),c.jsx("option",{value:"circle",children:"Circle"})]})]}),g.type==="circle"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Center Lat"}),c.jsx("input",{type:"number",step:"any",value:g.center?.[0]||"",onChange:T=>x({...g,center:[parseFloat(T.target.value),g.center?.[1]||0]}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Center Lon"}),c.jsx("input",{type:"number",step:"any",value:g.center?.[1]||"",onChange:T=>x({...g,center:[g.center?.[0]||0,parseFloat(T.target.value)]}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Radius (meters)"}),c.jsx("input",{type:"number",value:g.radius||"",onChange:T=>x({...g,radius:parseInt(T.target.value)}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"1"})]})]}),g.type==="polygon"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Coordinates"}),c.jsx("textarea",{value:g.coordinates?.map(T=>`${T[0]}, ${T[1]}`).join(`
`)||"",onChange:T=>{const H=T.target.value.split(`
`).map(I=>{const K=I.split(",").map(V=>parseFloat(V.trim()));return K.length===2&&!isNaN(K[0])&&!isNaN(K[1])?K:null}).filter(I=>I!==null);x({...g,coordinates:H})},className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white font-mono text-sm",rows:4,placeholder:"lat, lon (one per line)"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:'Enter coordinates as "lat, lon" (one per line). Need at least 3 points.'})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min Altitude (m)"}),c.jsx("input",{type:"number",value:g.min_altitude??"",onChange:T=>x({...g,min_altitude:T.target.value?parseFloat(T.target.value):void 0}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Optional"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Altitude (m)"}),c.jsx("input",{type:"number",value:g.max_altitude??"",onChange:T=>x({...g,max_altitude:T.target.value?parseFloat(T.target.value):void 0}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Optional"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Alert Triggers"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:g.alert_on_enter,onChange:T=>x({...g,alert_on_enter:T.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"On Enter"})]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:g.alert_on_exit,onChange:T=>x({...g,alert_on_exit:T.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),c.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"On Exit"})]})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"enabled",checked:g.enabled,onChange:T=>x({...g,enabled:T.target.checked}),className:"h-4 w-4 text-blue-600 rounded border-gray-300"}),c.jsx("label",{htmlFor:"enabled",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enabled"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 dark:text-gray-300 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:!g.name||!w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})]})})}function B0(){return c.jsx(Gv,{children:c.jsxs(_v,{children:[c.jsx(pn,{path:"/login",element:c.jsx(my,{})}),c.jsx(pn,{element:c.jsx(fy,{}),children:c.jsxs(pn,{element:c.jsx(dy,{}),children:[c.jsx(pn,{path:"/",element:c.jsx(by,{})}),c.jsx(pn,{path:"/map",element:c.jsx(Fy,{})}),c.jsx(pn,{path:"/drones",element:c.jsx(Jy,{})}),c.jsx(pn,{path:"/tracks",element:c.jsx($y,{})}),c.jsx(pn,{path:"/status",element:c.jsx(t0,{})}),c.jsx(pn,{path:"/logs",element:c.jsx(_0,{})}),c.jsx(pn,{path:"/alerts",element:c.jsx(E0,{})}),c.jsx(pn,{path:"/geofences",element:c.jsx(D0,{})}),c.jsx(pn,{path:"/settings",element:c.jsx(a0,{})})]})})]})})}__.createRoot(document.getElementById("root")).render(c.jsx(k.StrictMode,{children:c.jsx(B0,{})}));
